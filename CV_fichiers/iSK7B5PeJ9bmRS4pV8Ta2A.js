(function() {var e,ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ca={};function da(a,b){(ca[a]=ca[a]||[]).push(b);var c=ba;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ea(){ea=function(){};if(!ba.Symbol){ba.Symbol=ha;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):f.push(d[g])}return f}};da("Object.keys",b);da("Object.getOwnPropertyNames",b);da("Object.getOwnPropertySymbols",function(c){return function(d){b.fw=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ia=0;
function ha(a){return"jscomp_symbol_"+a+ia++}function ka(){ea();ba.Symbol.iterator||(ba.Symbol.iterator=ba.Symbol("iterator"));ka=function(){}}function m(a){ka();ea();ka();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function la(a){if(!(a instanceof Array)){a=m(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function n(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function ma(a,b){ka();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
var na="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ra(a,b){if(b){for(var c=ba,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=ca[a]||[];for(f=0;f<a.length;f++)b=a[f](b);na(c,d,{configurable:!0,writable:!0,value:b})}}}
ra("Array.prototype.keys",function(a){return a?a:function(){return ma(this,function(a){return a})}});function ta(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
ra("WeakMap",function(a){function b(a){this.hi=(k+=Math.random()+1).toString();if(a){ea();ka();a=m(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!ta(a,g)){var b={};b[g]=h;na(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(ta(b,g)&&ta(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};da("Object.getOwnPropertyNames",d);da("Object.keys",d);da("Reflect.enumerate",d);da("Reflect.ownKeys",d);da("Object.freeze",f);da("Object.preventExtensions",f);da("Object.seal",f);var k=0;b.prototype.set=function(a,b){c(a);if(!ta(a,g))throw Error("WeakMap key fail: "+a);a[g][this.hi]=b;return this};b.prototype.get=
function(a){return ta(a,g)?a[g][this.hi]:void 0};b.prototype.has=function(a){return ta(a,g)&&ta(a[g],this.hi)};b.prototype.delete=function(a){return ta(a,g)&&ta(a[g],this.hi)?delete a[g][this.hi]:!1};return b});
ra("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.Ed,d={next:function(){if(c){for(;c.head!=a.Ed;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Mh[c];if(d&&ta(a.Mh,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,ub:f}}return{id:c,list:d,index:-1,ub:void 0}}function f(a){this.Mh={};this.Ed=b();this.size=0;if(a){a=m(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(m([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ea();ka();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Mh[c.id]=[]);c.ub?c.ub.value=b:(c.ub={next:this.Ed,previous:this.Ed.previous,head:this.Ed,key:a,value:b},c.list.push(c.ub),this.Ed.previous.next=c.ub,this.Ed.previous=c.ub,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.ub&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Mh[a.id],a.ub.previous.next=a.ub.next,a.ub.next.previous=a.ub.previous,a.ub.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.Mh={};this.Ed=this.Ed.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).ub};f.prototype.get=function(a){return(a=d(this,a).ub)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});ra("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});
ra("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)ta(f,g)&&(a[g]=f[g])}return a}});ra("Array.prototype.entries",function(a){return a?a:function(){return ma(this,function(a,c){return[a,c]})}});ra("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,g=0;g<f;g++){var h=d[g];if(a.call(c,h,g,d)){a=h;break a}}a=void 0}return a}});
ra("Array.from",function(a){return a?a:function(a,c,d){ka();c=null!=c?c:function(a){return a};var f=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)f.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)f.push(c.call(d,a[h]));return f}});ra("Array.prototype.values",function(a){return a?a:function(){return ma(this,function(a,c){return c})}});function ua(a,b){this.element=a;this.value=b};function p(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,va(b))}function va(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function wa(a){this.type=a}wa.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};wa.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
wa.prototype.pb=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var xa=new wa("string"),ya=new wa("boolean"),za=new wa("number"),Aa=new wa("object");function q(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function t(a,b){return za.optional(a,b)||0}
function u(a,b){return za.optional(a,b)}function v(a,b){return xa.required(a,b)}function x(a,b){return xa.optional(a,b)}function y(a,b){return ya.optional(a,b)||!1}function z(a,b){return ya.optional(a,b)}function A(a,b,c){return a(Aa.required(b,c))}function B(a,b,c){return(b=Aa.optional(b,c))?a(b):b}function C(a,b,c){return(b=Aa.pb(b,c))?b.map(a):b}function D(a,b,c){return a(b,xa.required(b,c))}function Ba(a,b,c){c=xa.optional(b,c);return null!=c?a(b,c):c}
function Ca(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var f=new Map,g=m(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,f.set(a(c,h),b(c,h,d));return f}function Da(a,b){return b}function Ea(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}
function Ga(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Ha(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ia(a){this.type=a}
Ia.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ia.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Ia.prototype.pb=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ja=new Ia("string"),Ka=new Ia("boolean"),Ma=new Ia("number"),Na=new Ia("object");function Oa(a,b){return 0!==b?Ma.required(a,b):void 0}function Pa(a,b){return!1!==b?Ka.required(a,b):void 0}function E(a,b){return Ja.required(a,b)}
function J(a,b){return Ja.optional(a,b)}function Qa(a,b,c){return Na.optional(b,c?a(c):null)}function Ra(a,b,c){return Ja.optional(b,c?a(b,c):null)}function Sa(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var f={},g=m(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,f[a(c,h)]=b(c,d.get(h));return f}
function Ta(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}function Ua(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Va(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}
function Wa(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};function Xa(){}function K(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":Ya.apply(Xa,[].concat([b],la(d))));}function L(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":Ya.apply(Xa,[].concat([b],la(d))));}
function Za(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":Ya.apply(Xa,[].concat([b],la(d))));return a}function Ya(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function $a(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function ab(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}function bb(a){this.id=a.id;this.version=a.version}bb.prototype.g=function(){return this.id};bb.prototype.getVersion=function(){return this.version};
function cb(a){return new bb({id:v("id",a),version:t("version",a)})}function db(a){this.Kr=a.Kr;this.Jr=a.Jr;this.qq=a.qq;this.Pq=a.Pq||[]}function eb(a){return new db({Kr:t("spritesWide",a),Jr:t("spritesHigh",a),qq:y("fullyRecolorable",a),Pq:C(fb,"layers",a)})}function gb(a){this.type=a.type;this.Oq=a.Oq;this.color=a.color}gb.prototype.Zb=function(){return this.type};function fb(a){return new gb({type:D(ab,"type",a),Oq:u("layerIndex",a),color:x("color",a)})};function hb(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function ib(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function jb(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function kb(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function lb(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}function mb(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}mb.prototype.getVersion=function(){return this.version};
function nb(a){var b=Oa("version",a.version),c;c=a.sizes;c=Sa(Ta,Va.bind(null,ob),"sizes",c);return{version:b,sizes:c,status:Ra(jb,"status",a.status)}}function pb(a){var b=t("version",a),c;c=Ca(Da,Ga.bind(null,qb),"sizes",a);return new mb({version:b,sizes:c,status:Ba(kb,"status",a)})}function rb(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}rb.prototype.Ym=function(){return this.size};rb.prototype.ab=function(){return this.width};rb.prototype.Ua=function(){return this.height};
rb.prototype.Fa=function(){return this.url};function ob(a){return{size:Oa("size",a.size),width:Oa("width",a.width),height:Oa("height",a.height),url:E("url",a.url)}}function qb(a){return new rb({size:t("size",a),width:t("width",a),height:t("height",a),url:v("url",a)})}function sb(a){this.id=a.id;this.username=a.username;this.Vk=a.Vk;this.displayName=a.displayName;this.dn=a.dn;this.Ve=a.Ve;this.ya=a.ya;this.Re=a.Re;this.locale=a.locale;this.tm=a.tm}e=sb.prototype;e.g=function(){return this.id};
e.jb=function(){return this.username};e.kf=function(){return this.Vk};e.ua=function(){return this.displayName};e.rq=function(){return this.Re};e.xe=function(){return this.locale};function tb(a){return new sb({id:v("id",a),username:x("username",a),Vk:x("personalBrand",a),displayName:x("displayName",a),dn:x("homepage",a),Ve:x("city",a),ya:Ba(lb,"countryCode",a),Re:A(pb,"avatar",a),locale:v("locale",a),tm:y("deactivated",a)})}e.ek=function(){var a=this.Re&&this.Re.sizes.get("50");return a&&a.url||null};
function ub(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.Xg=a.Xg;this.Mb=a.Mb||[]}ub.prototype.R=function(){return this.user};ub.prototype.ad=function(){return this.email};ub.prototype.xe=function(){return this.locale};function vb(a){return new ub({user:A(tb,"user",a),email:x("email",a),locale:v("locale",a),Xg:D(ib,"role",a),Mb:xa.pb("groups",a)})}
function wb(a){this.id=a.id;this.pp=a.pp;this.displayName=a.displayName;this.sc=a.sc;this.jm=a.jm;this.qn=a.qn;this.Lo=a.Lo;this.Sc=a.Sc}wb.prototype.g=function(){return this.id};wb.prototype.ua=function(){return this.displayName};wb.prototype.sq=function(){return this.Sc};function xb(a){return new wb({id:v("id",a),pp:x("brandname",a),displayName:x("displayName",a),sc:y("personal",a),jm:y("contributor",a),qn:y("layoutContributor",a),Lo:y("thirdParty",a),Sc:x("brandColor",a)})}
function yb(a){return{brand:E("brand",a.o),joinPath:E("joinPath",a.Yv)}}function zb(a){this.Jq=a.Jq}function Ab(a){return new zb({Jq:v("joinUrl",a)})}function Db(a){return{brand:E("brand",a.o),removeEmail:J("removeEmail",a.$v),removeInviteLink:Ka.optional("removeInviteLink",a.aw)}}function Eb(){}function Fb(){return new Eb}function Gb(a){return{user:E("user",a.user),token:E("token",a.xl)}}
function Hb(a){var b=J("brand",a.o),c=Sa(Ta,hb,"add",a.add),d=Qa(Gb,"addByToken",a.Pv),f=Sa(Ta,hb,"update",a.update),g;g=Ja.pb("remove",a.remove);return{brand:b,add:c,addByToken:d,update:f,remove:g,includeAvatars:Pa("includeAvatars",a.Xv)}}function Ib(a){this.js=a.js;this.ob=a.ob||[]}Ib.prototype.bi=function(){return this.ob};function Jb(a){return new Ib({js:A(xb,"updatedBrand",a),ob:C(vb,"members",a)})}function Kb(a){this.tr=a.tr};function Lb(a){this.id=a.id;this.Ic=a.Ic;this.tp=a.tp;this.nk=a.nk;this.gb=a.gb;this.iq=a.iq;this.jq=a.jq;this.Ib=a.Ib}Lb.prototype.g=function(){return this.id};Lb.prototype.Sm=function(){return this.gb};function Mb(a){return new Lb({id:x("id",a),Ic:x("owningBrand",a),tp:v("cardBrand",a),nk:v("last4",a),gb:x("country",a),iq:t("expMonth",a),jq:t("expYear",a),Ib:B(Nb,"billingAddress",a)})}function Ob(a){this.Ka=a.Ka;this.cp=a.cp;this.Qp=a.Qp}
function Pb(a){return new Ob({Ka:A(Mb,"card",a),cp:u("addedDate",a),Qp:u("deletedDate",a)})}function Qb(a){this.sn=a.sn;this.tn=a.tn;this.un=a.un;this.Ve=a.Ve;this.lh=a.lh;this.ya=a.ya;this.Ng=a.Ng}function Rb(a){return{line1:J("line1",a.sn),line2:J("line2",a.tn),line3:J("line3",a.un),city:J("city",a.Ve),subdivision:J("subdivision",a.lh),countryCode:E("countryCode",a.ya),postcode:J("postcode",a.Ng)}}
function Nb(a){return new Qb({sn:x("line1",a),tn:x("line2",a),un:x("line3",a),Ve:x("city",a),lh:x("subdivision",a),ya:v("countryCode",a),Ng:x("postcode",a)})}function Sb(a){this.id=a.id;this.o=a.o;this.Sb=a.Sb;this.Nr=a.Nr;this.Vq=a.Vq;this.Nh=a.Nh;this.Rp=a.Rp;this.lp=a.lp||[];this.rr=a.rr||[]}Sb.prototype.g=function(){return this.id};Sb.prototype.ia=function(){return this.o};
function Tb(a){var b=v("id",a),c=v("brand",a),d=y("stripe",a),f=x("stripeKey",a),g=t("marketplaceCreditBalance",a),h=B(Mb,"defaultCreditCard",a),k=y("delinquent",a),l=C(Pb,"archivedCards",a);a=xa.pb("purchaseRoles",a);a=null!=a?a.map(ib.bind(null,"purchaseRoles")):a;return new Sb({id:b,o:c,Sb:d,Nr:f,Vq:g,Nh:h,Rp:k,lp:l,rr:a})}function Ub(a){this.o=a.o;this.Ib=a.Ib;this.Do=a.Do;this.Vi=a.Vi;this.Mr=a.Mr;this.bo=a.bo}Ub.prototype.ia=function(){return this.o};
function Vb(a){return{brand:J("brand",a.o),billingAddress:Qa(Rb,"billingAddress",a.Ib),stripeToken:J("stripeToken",a.Do),stripeCardId:J("stripeCardId",a.Vi),stripeCustomerId:J("stripeCustomerId",a.Mr),replaceDefault:Pa("replaceDefault",a.bo)}}function Wb(a){this.Jh=a.Jh;this.kp=a.kp;this.Cp=a.Cp;this.Dp=a.Dp;this.Ib=a.Ib;this.Vi=a.Vi;this.up=a.up;this.kq=a.kq}Wb.prototype.bk=function(){return this.Jh};
function Xb(a){return{creditCard:E("creditCard",a.Jh),archiveCard:Ka.optional("archiveCard",a.kp),confirmAddition:Ka.optional("confirmAddition",a.Cp),confirmRemoval:Ka.optional("confirmRemoval",a.Dp),billingAddress:Qa(Rb,"billingAddress",a.Ib),stripeCardId:J("stripeCardId",a.Vi),cardIssuerUpdate:Qa(Yb,"cardIssuerUpdate",a.up),externalOrigin:Ra(Zb,"externalOrigin",a.kq)}}
function Zb(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function Yb(a){return{last4:J("last4",a.nk),fingerprint:J("fingerprint",a.Wv),expiryMonth:Ma.optional("expiryMonth",a.$f),expiryYear:Ma.optional("expiryYear",a.ag),brand:J("brand",a.o),date:Oa("date",a.date)}}
function $b(a){this.media=a.media;this.version=a.version;this.title=a.title;this.o=a.o;this.Pb=a.Pb;this.ut=a.ut;this.Is=a.Is;this.mv=a.mv;this.Ud=a.Ud;this.xt=a.xt;this.Xu=a.Xu;this.vt=a.vt;this.document=a.document;this.Ts=a.Ts;this.user=a.user}e=$b.prototype;e.getVersion=function(){return this.version};e.nc=function(){return this.title};e.ia=function(){return this.o};e.getDocument=function(){return this.document};e.R=function(){return this.user};
function ac(a){this.id=a.id;this.Ge=a.Ge;this.o=a.o;this.status=a.status;this.Ki=a.Ki;this.Zr=a.Zr;this.Fi=a.Fi;this.jr=a.jr;this.ir=a.ir;this.np=a.np;this.hq=a.hq}ac.prototype.g=function(){return this.id};ac.prototype.ia=function(){return this.o};
function bc(a){return new ac({id:v("id",a),Ge:A(cc,"plan",a),o:v("brand",a),status:D(dc,"status",a),Ki:t("quantity",a),Zr:u("trialEnd",a),Fi:u("paidUntil",a),jr:u("periodStart",a),ir:u("periodEnd",a),np:y("billed",a),hq:y("eligibleForMediaDiscounts",a)})}
function ec(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function dc(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function fc(a){this.id=a.id;this.displayName=a.displayName;this.Rq=a.Rq;this.ps=a.ps;this.wc=a.wc;this.mq=a.mq;this.Fb=a.Fb;this.yc=a.yc;this.Ud=a.Ud}fc.prototype.g=function(){return this.id};fc.prototype.ua=function(){return this.displayName};
function cc(a){return new fc({id:v("id",a),displayName:v("displayName",a),Rq:y("legacy",a),ps:y("userLocked",a),wc:D(gc,"tier",a),mq:x("featureBundle",a),Fb:t("trialPeriodDays",a),yc:D(hc,"billingInterval",a),Ud:t("price",a)})}function hc(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function gc(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function ic(a){this.o=a.o;this.Np=a.Np;this.Ge=a.Ge;this.Fb=a.Fb;this.Hp=a.Hp;this.bs=a.bs;this.Fi=a.Fi;this.status=a.status;this.Ki=a.Ki;this.qr=a.qr}ic.prototype.ia=function(){return this.o};
function jc(a){return{brand:E("brand",a.o),currentVersion:Ma.optional("currentVersion",a.Np),plan:J("plan",a.Ge),trialPeriodDays:Ma.optional("trialPeriodDays",a.Fb),coupon:J("coupon",a.Hp),unbilled:Ka.optional("unbilled",a.bs),paidUntil:Ma.optional("paidUntil",a.Fi),status:Ra(ec,"status",a.status),quantity:Ma.optional("quantity",a.Ki),prorate:Ka.optional("prorate",a.qr)}}function kc(a){this.Bf=a.Bf}kc.prototype.getSubscription=function(){return this.Bf};
function nc(a){return new kc({Bf:A(bc,"subscription",a)})}function oc(a){this.Bf=a.Bf}oc.prototype.getSubscription=function(){return this.Bf};function pc(a){return new oc({Bf:A(bc,"subscription",a)})};function qc(a){$b.call(this,a)}qc.prototype=Object.create($b.prototype);qc.prototype.constructor=qc;function rc(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function sc(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function tc(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function uc(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function vc(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionResult for property "'+a+'", found: '+JSON.stringify(b));}}function wc(a){this.rules=a.rules||[];this.version=a.version;this.W=a.W}wc.prototype.getVersion=function(){return this.version};wc.prototype.ci=function(){return this.W};
function xc(a){return new wc({rules:C(yc,"rules",a),version:t("version",a),W:A(zc,"owner",a)})}function Ac(a){this.type=a.type;this.pr=a.pr;this.Xg=a.Xg;this.origin=a.origin;this.timestamp=a.timestamp}Ac.prototype.Zb=function(){return this.type};function yc(a){return new Ac({type:D(rc,"type",a),pr:B(zc,"principal",a),Xg:D(sc,"role",a),origin:B(Bc,"origin",a),timestamp:u("timestamp",a)})}function Cc(a){this.o=a.o;this.group=a.group;this.user=a.user}Cc.prototype.ia=function(){return this.o};
Cc.prototype.R=function(){return this.user};function zc(a){return new Cc({o:v("brand",a),group:x("group",a),user:x("user",a)})}function Dc(a){this.type=a.type;this.id=a.id}Dc.prototype.Zb=function(){return this.type};Dc.prototype.g=function(){return this.id};function Bc(a){return new Dc({type:D(tc,"type",a),id:x("id",a)})}function Ec(a){this.default=a.default;this.view=a.view;this.ur=a.ur;this.fq=a.fq}
function Fc(a){return new Ec({default:x("default",a),view:x("view",a),ur:x("remix",a),fq:x("edit",a)})}function Gc(a){this.type=a.type}function Hc(a){switch(a.type){case "REFERENCE":return K("REFERENCE"===a.type),new Ic({id:v("id",a),version:t("version",a)});case "INLINE":return K("INLINE"===a.type),new Jc({width:t("width",a),height:t("height",a),units:D(uc,"units",a)});default:throw Error("unknown case: "+a.type);}}function Ic(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}n(Ic,Gc);
Ic.prototype.g=function(){return this.id};Ic.prototype.getVersion=function(){return this.version};function Jc(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}n(Jc,Gc);Jc.prototype.ab=function(){return this.width};Jc.prototype.Ua=function(){return this.height};function Kc(a){this.id=a.id;this.version=a.version}Kc.prototype.g=function(){return this.id};Kc.prototype.getVersion=function(){return this.version};
function Lc(a){return new Kc({id:v("id",a),version:t("version",a)})}function Mc(a){this.id=a.id;this.Ic=a.Ic;this.le=a.le;this.origin=a.origin;this.gf=a.gf;this.tags=a.tags||[];this.xa=a.xa;this.Kb=a.Kb;this.version=a.version;this.timestamp=a.timestamp;this.ej=a.ej;this.Ih=a.Ih||new Map}Mc.prototype.g=function(){return this.id};Mc.prototype.mg=function(){return this.tags};Mc.prototype.ve=function(){return this.xa};Mc.prototype.getVersion=function(){return this.version};
function Nc(a){return new Mc({id:v("id",a),Ic:v("owningBrand",a),le:t("creationDate",a),origin:B(Lc,"origin",a),gf:B(Fc,"extensions",a),tags:xa.pb("tags",a),xa:B(xc,"acl",a),Kb:A(Oc,"draft",a),version:t("version",a),timestamp:u("timestamp",a),ej:B(Pc,"trashed",a),Ih:Ca(Da,Ea,"contributors",a)})}function Qc(a){this.timestamp=a.timestamp}function Pc(a){return new Qc({timestamp:t("timestamp",a)})}
function Rc(a){this.content=a.content;this.Wd=a.Wd;this.version=a.version;this.timestamp=a.timestamp;this.bb=a.bb;this.Fe=a.Fe;this.Qq=a.Qq||[];this.ze=a.ze;this.yh=a.yh}Rc.prototype.getContent=function(){return this.content};Rc.prototype.getVersion=function(){return this.version};Rc.prototype.getSession=function(){return this.bb};
function Oc(a){return new Rc({content:A(Sc,"content",a),Wd:v("schema",a),version:t("version",a),timestamp:t("timestamp",a),bb:u("session",a),Fe:t("pageCount",a),Qq:C(cb,"layouts",a),ze:A(Tc,"imageSets",a),yh:x("associatedMedia",a)})}function Uc(a){this.title=a.title;this.description=a.description;this.oi=a.oi||[];this.doctype=a.doctype}Uc.prototype.nc=function(){return this.title};Uc.prototype.gg=function(){return this.description};
function Sc(a){return new Uc({title:x("title",a),description:x("description",a),oi:xa.pb("keywords",a),doctype:A(Hc,"doctype",a)})}function Vc(a){this.Db=a.Db;this.Yk=a.Yk}Vc.prototype.wb=function(){return this.Db};function Tc(a){return new Vc({Db:A(Wc,"thumbnail",a),Yk:B(Wc,"preview",a)})}function Xc(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}Xc.prototype.Ua=function(){return this.height};Xc.prototype.ab=function(){return this.width};
Xc.prototype.getVersion=function(){return this.version};function Wc(a){return new Xc({height:t("height",a),width:t("width",a),version:t("version",a),images:C(Yc,"images",a)})}function Zc(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}Zc.prototype.getKey=function(){return this.key};Zc.prototype.Fa=function(){return this.url};function Yc(a){return new Zc({bucket:v("bucket",a),key:v("key",a),page:t("page",a),url:x("url",a)})}
function $c(a){this.width=a.width;this.height=a.height;this.url=a.url}$c.prototype.ab=function(){return this.width};$c.prototype.Ua=function(){return this.height};$c.prototype.Fa=function(){return this.url};function ad(a){return new $c({width:u("width",a),height:u("height",a),url:v("url",a)})}function bd(a){this.id=a.id;this.version=a.version;this.type=a.type;this.images=a.images||new Map}bd.prototype.g=function(){return this.id};bd.prototype.getVersion=function(){return this.version};
bd.prototype.Zb=function(){return this.type};function cd(a){var b=v("id",a),c=t("version",a),d=v("type",a);a=Ca(Da,Ga.bind(null,ad),"images",a);return new bd({id:b,version:c,type:d,images:a})}function dd(a){this.id=a.id;this.version=a.version;this.ls=a.ls}dd.prototype.g=function(){return this.id};dd.prototype.getVersion=function(){return this.version};function ed(a){return new dd({id:v("id",a),version:t("version",a),ls:x("usedCharacters",a)})}
function fd(a){this.id=a.id;this.title=a.title;this.xp=a.xp||new Map}fd.prototype.g=function(){return this.id};fd.prototype.nc=function(){return this.title};function gd(a){var b=E("id",a.id),c=J("title",a.title);a=Sa(Ta,Wa,"colorReplacements",a.xp);return{id:b,title:c,colorReplacements:a}}function hd(a){this.Tj=a.Tj;this.version=a.version;this.bb=a.bb;this.bg=a.bg;this.zs=a.zs||[];this.Gq=a.Gq;this.nt=a.nt;this.Tu=a.Tu||[]}hd.prototype.getVersion=function(){return this.version};
hd.prototype.getSession=function(){return this.bb};hd.prototype.getExtension=function(){return this.bg};function id(a){this.type=a.type;this.id=a.id;this.version=a.version}id.prototype.g=function(){return this.id};id.prototype.getVersion=function(){return this.version};
function jd(a){switch(a.type){case "RASTER":return K("RASTER"===a.type),new kd({id:v("id",a),version:t("version",a),files:C(ld,"files",a)});case "VECTOR":return K("VECTOR"===a.type),new md({id:v("id",a),version:t("version",a),files:C(ld,"files",a),ae:B(eb,"spritesheetMetadata",a)});case "DESIGN":return K("DESIGN"===a.type),new nd({id:v("id",a),version:t("version",a),files:C(ld,"files",a)});case "FONT":return K("FONT"===a.type),new od({id:v("id",a),version:t("version",a),files:C(pd,"files",a)});case "ELEMENT_GROUP":return K("ELEMENT_GROUP"===
a.type),new qd({id:v("id",a),version:t("version",a),files:C(ld,"files",a)});case "UNKNOWN":return K("UNKNOWN"===a.type),new rd({id:v("id",a),version:t("version",a),files:C(sd,"files",a)});default:throw Error("unknown case: "+a.type);}}function kd(a){id.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(kd,id);function md(a){id.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,ae:a.ae});this.files=a.files||[];this.ae=a.ae}n(md,id);
function nd(a){id.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(nd,id);function od(a){id.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(od,id);function qd(a){id.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(qd,id);function rd(a){id.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(rd,id);
function td(a){this.url=a.url;this.ks=a.ks;this.width=a.width;this.height=a.height;this.hj=a.hj;this.Lr=a.Lr;this.Ji=a.Ji}td.prototype.Fa=function(){return this.url};td.prototype.ab=function(){return this.width};td.prototype.Ua=function(){return this.height};function ld(a){return new td({url:v("url",a),ks:y("urlDenied",a),width:t("width",a),height:t("height",a),hj:y("watermarked",a),Lr:y("spritesheet",a),Ji:Ba($a,"quality",a)})}function ud(a){this.url=a.url}ud.prototype.Fa=function(){return this.url};
function pd(a){return new ud({url:v("url",a)})}function yd(a){this.url=a.url;this.width=a.width;this.height=a.height;this.hj=a.hj;this.Ji=a.Ji}yd.prototype.Fa=function(){return this.url};yd.prototype.ab=function(){return this.width};yd.prototype.Ua=function(){return this.height};function sd(a){return new yd({url:v("url",a),width:u("width",a),height:u("height",a),hj:z("watermarked",a),Ji:Ba($a,"quality",a)})}function zd(a){this.id=a.id;this.Xr=a.Xr;this.Vg=a.Vg||[];this.G=a.G}zd.prototype.g=function(){return this.id};
zd.prototype.ea=function(){return this.G};function Ad(a){return new zd({id:v("id",a),Xr:t("totalHits",a),Vg:C(Bd,"results",a),G:x("continuation",a)})}function Cd(a){this.xr=a.xr;this.sr=a.sr;this.id=a.id;this.title=a.title;this.description=a.description;this.Ic=a.Ic;this.le=a.le;this.ej=a.ej;this.Db=a.Db;this.Ph=a.Ph}Cd.prototype.g=function(){return this.id};Cd.prototype.nc=function(){return this.title};Cd.prototype.gg=function(){return this.description};Cd.prototype.wb=function(){return this.Db};
function Bd(a){return new Cd({xr:v("searchId",a),sr:t("rank",a),id:v("id",a),title:v("title",a),description:x("description",a),Ic:v("owningBrand",a),le:t("creationDate",a),ej:y("trashed",a),Db:A(ad,"thumbnail",a),Ph:v("designTypeDisplayName",a)})};function Dd(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function Ed(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function Fd(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function Gd(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Hd(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function Id(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function Jd(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function Kd(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.yb=a.yb;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}
function Ld(a){return new Kd({fontFamily:x("fontFamily",a),fontSize:u("fontSize",a),bold:z("bold",a),italic:z("italic",a),yb:x("justification",a),letterSpacing:u("letterSpacing",a),lineHeight:u("lineHeight",a),color:x("color",a),list:z("list",a)})}function Md(a){this.title=a.title;this.Pr=a.Pr;this.body=a.body}Md.prototype.nc=function(){return this.title};function Nd(a){return new Md({title:B(Ld,"title",a),Pr:B(Ld,"subtitle",a),body:B(Ld,"body",a)})}
function Od(a){this.Pb=a.Pb;this.title=a.title;this.description=a.description;this.oi=a.oi||[];this.sp=a.sp;this.Pp=a.Pp;this.Jc=a.Jc||[];this.doctype=a.doctype;this.Gi=a.Gi||[]}Od.prototype.nc=function(){return this.title};Od.prototype.gg=function(){return this.description};
function Pd(a){return new Od({Pb:v("layout",a),title:x("title",a),description:x("description",a),oi:xa.pb("keywords",a),sp:B(Nd,"canvaDefaultFonts",a),Pp:B(Nd,"defaultFonts",a),Jc:C(Qd,"pages",a),doctype:A(Hc,"doctype",a),Gi:xa.pb("palette",a)})}function Rd(a){this.height=a.height;this.width=a.width;this.Zp=a.Zp;this.elements=a.elements||[];this.type=a.type;this.Pb=a.Pb;this.wr=a.wr}Rd.prototype.Ua=function(){return this.height};Rd.prototype.ab=function(){return this.width};Rd.prototype.Zb=function(){return this.type};
function Qd(a){return new Rd({height:t("height",a),width:t("width",a),Zp:u("dpi",a),elements:C(Sd,"elements",a),type:x("type",a),Pb:B(cb,"layout",a),wr:B(Td,"resizeContentBox",a)})}function M(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Ha=a.Ha;this.rotation=a.rotation;this.link=a.link;this.Ia=a.Ia;this.index=a.index;this.Ea=a.Ea;this.J=a.J;this.origin=a.origin}M.prototype.Ua=function(){return this.height};M.prototype.ab=function(){return this.width};
M.prototype.Gc=function(){return this.link};
function Sd(a){switch(a.type){case "image":return K("image"===a.type),new Ud({top:t("top",a),left:t("left",a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",a),filter:B(Wd,"filter",a),Xa:x("mediaId",a),Ya:u("mediaVersion",a),Wa:z("mediaApproved",a),Hd:z("isBackground",a),Jd:z("isRecolorable",a),Id:z("isCutout",a),
lk:z("isDark",a),backgroundColor:x("backgroundColor",a),Gd:B(Td,"imageBox",a),Sa:C(Xd,"fillColors",a)});case "text":return K("text"===a.type),new Yd({top:t("top",a),left:t("left",a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",a),style:x("style",a),html:x("html",a),fontFamily:x("fontFamily",a),fontSize:u("fontSize",
a),color:x("color",a),bold:z("bold",a),italic:z("italic",a),list:z("list",a),Cd:B(cb,"fontMedia",a),Fd:C(cb,"htmlFontMedia",a),yb:x("justification",a),Kl:x("verticalAlignment",a),letterSpacing:u("letterSpacing",a),lineHeight:u("lineHeight",a),Ld:za.pb("lineLengths",a),padding:u("padding",a),textTransform:x("textTransform",a),border:B(Zd,"border",a),mk:C($d,"kerning",a),bl:Ba(Dd,"reflowMode",a),sl:B(ae,"stylesOverriden",a)});case "svg":return K("svg"===a.type),new be({top:t("top",a),left:t("left",
a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",a),Xa:x("mediaId",a),Ya:u("mediaVersion",a),Wa:z("mediaApproved",a),Hd:z("isBackground",a),Jd:z("isRecolorable",a),Id:z("isCutout",a),contents:C(ce,"contents",a),scale:u("scale",a),Sa:C(Xd,"fillColors",a),vl:B(de,"svgMetadata",a)});case "graphic":return K("graphic"===
a.type),new ee({top:t("top",a),left:t("left",a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",a),Xa:x("mediaId",a),Ya:u("mediaVersion",a),Wa:z("mediaApproved",a),scale:u("scale",a),Sa:C(Xd,"fillColors",a),ae:B(eb,"spritesheetMetadata",a)});case "grid":return K("grid"===a.type),new fe({top:t("top",a),left:t("left",
a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",a),spacing:u("spacing",a),items:C(ge,"items",a),contents:C(he,"contents",a),Sa:C(Xd,"fillColors",a)});case "group":return K("group"===a.type),new ie({top:t("top",a),left:t("left",a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",
a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),zj:za.pb("childRange",a),$j:Ba(Gd,"generatorType",a),xj:B(je,"chart",a)});case "shape":return K("shape"===a.type),new ke({top:t("top",a),left:t("left",a),height:t("height",a),width:t("width",a),Ha:u("transparency",a),rotation:u("rotation",a),link:x("link",a),Ia:y("userEdited",a),index:u("index",a),Ea:u("elementIndex",a),J:u("groupIndex",a),origin:B(Vd,"origin",a),X:u("flipOrientation",
a),viewBox:B(Td,"viewBox",a),Uk:C(le,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function Ud(a){M.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,filter:a.filter,Xa:a.Xa,Ya:a.Ya,Wa:a.Wa,Hd:a.Hd,Jd:a.Jd,Id:a.Id,lk:a.lk,backgroundColor:a.backgroundColor,Gd:a.Gd,Sa:a.Sa});this.X=a.X;this.filter=a.filter;this.Xa=a.Xa;this.Ya=a.Ya;this.Wa=a.Wa;this.Hd=a.Hd;this.Jd=a.Jd;this.Id=a.Id;this.lk=a.lk;this.backgroundColor=a.backgroundColor;this.Gd=a.Gd;this.Sa=a.Sa||
[]}n(Ud,M);Ud.prototype.Wm=function(){return this.filter};
function Yd(a){M.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,Cd:a.Cd,Fd:a.Fd,yb:a.yb,Kl:a.Kl,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,Ld:a.Ld,padding:a.padding,textTransform:a.textTransform,border:a.border,mk:a.mk,bl:a.bl,sl:a.sl});this.X=
a.X;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.Cd=a.Cd;this.Fd=a.Fd||[];this.yb=a.yb;this.Kl=a.Kl;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Ld=a.Ld||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.mk=a.mk||[];this.bl=a.bl;this.sl=a.sl}n(Yd,M);
function be(a){M.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,Xa:a.Xa,Ya:a.Ya,Wa:a.Wa,Hd:a.Hd,Jd:a.Jd,Id:a.Id,contents:a.contents,scale:a.scale,Sa:a.Sa,vl:a.vl});this.X=a.X;this.Xa=a.Xa;this.Ya=a.Ya;this.Wa=a.Wa;this.Hd=a.Hd;this.Jd=a.Jd;this.Id=a.Id;this.contents=a.contents||[];this.scale=a.scale;this.Sa=a.Sa||[];this.vl=a.vl}n(be,M);
function ee(a){M.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,Xa:a.Xa,Ya:a.Ya,Wa:a.Wa,scale:a.scale,Sa:a.Sa,ae:a.ae});this.X=a.X;this.Xa=a.Xa;this.Ya=a.Ya;this.Wa=a.Wa;this.scale=a.scale;this.Sa=a.Sa||[];this.ae=a.ae}n(ee,M);
function fe(a){M.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,spacing:a.spacing,items:a.items,contents:a.contents,Sa:a.Sa});this.X=a.X;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Sa=a.Sa||[]}n(fe,M);fe.prototype.we=function(){return this.items};
function ie(a){M.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,zj:a.zj,$j:a.$j,xj:a.xj});this.zj=a.zj||[];this.$j=a.$j;this.xj=a.xj}n(ie,M);
function ke(a){M.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Ia:a.Ia,index:a.index,Ea:a.Ea,J:a.J,origin:a.origin,X:a.X,viewBox:a.viewBox,Uk:a.Uk});this.X=a.X;this.viewBox=a.viewBox;this.Uk=a.Uk||[]}n(ke,M);function me(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.yb=a.yb;this.color=a.color}
function ae(a){return new me({fontFamily:z("fontFamily",a),fontSize:z("fontSize",a),bold:z("bold",a),italic:z("italic",a),yb:z("justification",a),color:z("color",a)})}function ne(a){this.type=a.type;this.index=a.index;this.origin=a.origin}
function ce(a){switch(a.type){case "text":return K("text"===a.type),new oe({index:t("index",a),origin:B(Vd,"origin",a),html:x("html",a),left:t("left",a),top:t("top",a),width:t("width",a),height:t("height",a),fontFamily:x("fontFamily",a),fontSize:u("fontSize",a),italic:z("italic",a),bold:z("bold",a),yb:x("justification",a),list:z("list",a),textTransform:x("textTransform",a),color:x("color",a),Ld:za.pb("lineLengths",a),letterSpacing:u("letterSpacing",a),lineHeight:t("lineHeight",a),Cd:B(cb,"fontMedia",
a),Fd:C(cb,"htmlFontMedia",a),Wk:u("preferredFontSize",a)});case "image":return he(a);default:throw Error("unknown case: "+a.type);}}
function oe(a){ne.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,yb:a.yb,list:a.list,textTransform:a.textTransform,color:a.color,Ld:a.Ld,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,Cd:a.Cd,Fd:a.Fd,Wk:a.Wk});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.yb=a.yb;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.Ld=a.Ld||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Cd=a.Cd;this.Fd=a.Fd||[];this.Wk=a.Wk}n(oe,ne);oe.prototype.ab=function(){return this.width};oe.prototype.Ua=function(){return this.height};
function pe(a){ne.call(this,{type:"IMAGE",index:a.index,origin:a.origin,Xa:a.Xa,uk:a.uk,Ya:a.Ya,Gd:a.Gd,X:a.X,backgroundColor:a.backgroundColor,Wa:a.Wa,filter:a.filter});this.Xa=a.Xa;this.uk=a.uk;this.Ya=a.Ya;this.Gd=a.Gd;this.X=a.X;this.backgroundColor=a.backgroundColor;this.Wa=a.Wa;this.filter=a.filter}n(pe,ne);pe.prototype.Wm=function(){return this.filter};
function he(a){K("image"===a.type);return new pe({index:t("index",a),origin:B(Vd,"origin",a),Xa:x("mediaId",a),uk:x("localMediaId",a),Ya:u("mediaVersion",a),Gd:B(Td,"imageBox",a),X:t("flipOrientation",a),backgroundColor:x("backgroundColor",a),Wa:z("mediaApproved",a),filter:B(Wd,"filter",a)})}function qe(a){this.width=a.width}qe.prototype.ab=function(){return this.width};function Zd(a){return new qe({width:t("width",a)})}function re(a){this.hr=a.hr;this.fp=a.fp}
function $d(a){return new re({hr:v("pair",a),fp:t("adjustment",a)})}function se(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}se.prototype.Zb=function(){return this.type};se.prototype.ab=function(){return this.width};se.prototype.Ua=function(){return this.height};se.prototype.getChildren=function(){return this.children};function ge(a){return new se({type:Ba(Ed,"type",a),width:u("width",a),height:u("height",a),children:C(ge,"children",a)})}
function te(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}te.prototype.ab=function(){return this.width};te.prototype.Ua=function(){return this.height};function Td(a){return new te({top:t("top",a),left:t("left",a),width:t("width",a),height:t("height",a)})}function ue(a){this.index=a.index;this.color=a.color}function Xd(a){return new ue({index:t("index",a),color:v("color",a)})}
function ve(a){this.viewBox=a.viewBox;this.Rr=a.Rr||[];this.kr=a.kr||[];this.vp=a.vp;this.Ur=a.Ur}function de(a){return new ve({viewBox:A(Td,"viewBox",a),Rr:C(Td,"textHolderBoxes",a),kr:C(Td,"photoHolderBoxes",a),vp:B(Td,"centerBox",a),Ur:z("tile",a)})}function we(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.Vr=a.Vr;this.vignette=a.vignette;this.ts=a.ts;this.Wr=a.Wr;this.name=a.name}we.prototype.tq=function(){return this.brightness};
we.prototype.getName=function(){return this.name};function Wd(a){return new we({blur:u("blur",a),brightness:u("brightness",a),contrast:u("contrast",a),saturation:u("saturation",a),Vr:u("tint",a),vignette:u("vignette",a),ts:u("xpro",a),Wr:u("tintAmount",a),name:x("name",a)})}function xe(a){this.fill=a.fill;this.oq=a.oq;this.d=a.d}function le(a){return new xe({fill:v("fill",a),oq:Ba(Fd,"fillRule",a),d:v("d",a)})}function ye(a){this.name=a.name;this.cells=a.cells||[]}ye.prototype.getName=function(){return this.name};
function ze(a){return new ye({name:x("name",a),cells:xa.pb("cells",a)})}function Ae(a){this.aa=a.aa||[]}function Be(a){return new Ae({aa:C(ze,"columns",a)})}function Ce(a){this.data=a.data;this.Lq=a.Lq;this.Nq=a.Nq;this.Mq=a.Mq;this.zp=a.zp;this.Hq=a.Hq;this.Gi=a.Gi;this.wp=a.wp;this.lr=a.lr;this.mp=a.mp;this.Sq=a.Sq;this.Yp=a.Yp}Ce.prototype.getData=function(){return this.data};
function je(a){return new Ce({data:A(Be,"data",a),Lq:u("labelColumn",a),Nq:A(Ld,"labelTextStyle",a),Mq:B(cb,"labelFontMedia",a),zp:D(Id,"coloringType",a),Hq:B(De,"interpolation",a),Gi:B(Ee,"palette",a),wp:D(Hd,"chartType",a),lr:B(Fe,"pie",a),mp:B(Ge,"bar",a),Sq:B(He,"line",a),Yp:B(Ie,"donut",a)})}function Je(a){this.spacing=a.spacing;this.padding=a.padding}function Fe(a){return new Je({spacing:u("spacing",a),padding:u("padding",a)})}function Ke(a){this.spacing=a.spacing;this.padding=a.padding}
function Ge(a){return new Ke({spacing:u("spacing",a),padding:u("padding",a)})}function Le(a){this.spacing=a.spacing;this.padding=a.padding}function He(a){return new Le({spacing:u("spacing",a),padding:u("padding",a)})}function Me(a){this.spacing=a.spacing;this.padding=a.padding}function Ie(a){return new Me({spacing:u("spacing",a),padding:u("padding",a)})}function Ne(a){this.yp=a.yp;this.from=a.from;this.to=a.to}function De(a){return new Ne({yp:D(Jd,"colorSpace",a),from:v("from",a),to:v("to",a)})}
function Oe(a){this.Ap=a.Ap||[]}function Ee(a){return new Oe({Ap:xa.pb("colors",a)})}function Pe(a){this.type=a.type}function Vd(a){switch(a.type){case "CANVA":return K("CANVA"===a.type),new Qe;case "FACEBOOK":return K("FACEBOOK"===a.type),new Re;case "LAYOUT":return K("LAYOUT"===a.type),new Se({id:v("id",a),version:t("version",a)});case "DOCUMENT":return K("DOCUMENT"===a.type),new Te({id:v("id",a),version:t("version",a)});default:throw Error("unknown case: "+a.type);}}
function Qe(){this.type="CANVA"}n(Qe,Pe);function Re(){this.type="FACEBOOK"}n(Re,Pe);function Se(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}n(Se,Pe);Se.prototype.g=function(){return this.id};Se.prototype.getVersion=function(){return this.version};function Te(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}n(Te,Pe);Te.prototype.g=function(){return this.id};Te.prototype.getVersion=function(){return this.version};function Ue(a){this.id=a.id;this.Ic=a.Ic;this.le=a.le;this.origin=a.origin;this.gf=a.gf;this.tags=a.tags||[];this.xa=a.xa;this.Kb=a.Kb;this.version=a.version;this.timestamp=a.timestamp;this.Ih=a.Ih||new Map}Ue.prototype.g=function(){return this.id};Ue.prototype.mg=function(){return this.tags};Ue.prototype.ve=function(){return this.xa};Ue.prototype.getVersion=function(){return this.version};
function Ve(a){return new Ue({id:v("id",a),Ic:v("owningBrand",a),le:t("creationDate",a),origin:B(Lc,"origin",a),gf:A(Fc,"extensions",a),tags:xa.pb("tags",a),xa:B(xc,"acl",a),Kb:A(We,"draft",a),version:t("version",a),timestamp:u("timestamp",a),Ih:Ca(Da,Ea,"contributors",a)})}function Xe(a){this.Wd=a.Wd;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.bb=a.bb;this.Fe=a.Fe;this.media=a.media||[];this.ze=a.ze;this.yh=a.yh}Xe.prototype.getContent=function(){return this.content};
Xe.prototype.getVersion=function(){return this.version};Xe.prototype.getSession=function(){return this.bb};function We(a){return new Xe({Wd:v("schema",a),content:A(Pd,"content",a),version:t("version",a),timestamp:t("timestamp",a),bb:u("session",a),Fe:t("pageCount",a),media:C(cb,"media",a),ze:A(Tc,"imageSets",a),yh:x("associatedMedia",a)})}function Ye(a){this.document=a.document;this.bb=a.bb}Ye.prototype.getDocument=function(){return this.document};Ye.prototype.getSession=function(){return this.bb};
function Ze(a){return new Ye({document:A(Ve,"document",a),bb:t("session",a)})}function $e(a){this.document=a.document;this.ti=a.ti||[];this.fonts=a.fonts||[];this.bb=a.bb;this.je=a.je;this.Ep=a.Ep;this.Fp=a.Fp}$e.prototype.getDocument=function(){return this.document};$e.prototype.getSession=function(){return this.bb};
function af(a){return new $e({document:A(Ve,"document",a),ti:C(jd,"mediaMap",a),fonts:C(ed,"fonts",a),bb:u("session",a),je:D(sc,"accessRole",a),Ep:x("conversionLoss",a),Fp:Ba(vc,"conversionResult",a)})};function bf(){this.remix=this.edit=this.view=this["default"]=null}function cf(){}function df(a){return Object.freeze(p(cf,a))}cf.prototype.getDocument=function(){return ef(this.document)};cf.prototype.getSession=function(){return this.session};function ff(){}function gf(a){return Object.freeze(p(ff,a))}ff.prototype.getDocument=function(){return ef(this.document)};function mf(){}function nf(a){return Object.freeze(p(mf,a))}function of(){}of.prototype.g=function(){return this.id};of.prototype.mg=function(){return this.tags};
function pf(a){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var b=0;b<a.length;b++)if(1==a[b].page)return a[b].url}return null}of.prototype.nc=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};of.prototype.getVersion=function(){var a=this.draft;return a?a.version:-1};
function qf(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}
function rf(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('expected CanvaDocumentAccessRole for property "'+a+'", found: '+JSON.stringify(b));}}var sf={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function ef(a){var b=new of;$.extend(b,a);a=a.extensions;var c=new bf;a&&$.extend(c,a);b.extensions=c;return b}function tf(a){return ef(a)};function uf(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.Uv||null;this.personal=a.sc||!1;this.contributor=a.jm||!1;this.layoutContributor=a.qn||!1;this.thirdParty=a.Lo||!1;this.brandColor=a.Sc||null}uf.prototype.g=function(){return this.id};uf.prototype.ua=function(){return this.displayName};function vf(a){return a.personal}uf.prototype.sq=function(){return this.brandColor};function wf(a){return a?p(uf,a):null}
function xf(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.Vk||"";this.displayName=a.displayName||"";this.homepage=a.dn||null;this.city=a.Ve||null;this.countryCode=a.ya||null;this.avatar=a.Re||null;this.roles=a.bw||[];this.deactivated=a.tm||!1;this.locale=a.locale||"en"}e=xf.prototype;e.g=function(){return this.id};e.jb=function(){return this.username};e.kf=function(){return this.personalBrand};e.ua=function(){return this.displayName};e.fg=function(){return this.avatar};
e.jg=function(){return this.roles};function yf(a){if(!a)return null;a=p(xf,a);a.avatar&&(a.avatar=pb(a.avatar));return a}function zf(a){return yf(a)}function Af(a){return Object.assign({},a,{avatar:a.avatar&&nb(a.avatar)})}e.$i=function(){return tb(Af(this))};e.ak=function(a){var b=this.fg();return b&&(a=b.sizes.get(a))?a.Fa():null};e.ek=function(){return this.ak("50")};e.Be=function(){return"UAAAAAAAAAA"===this.id};
function Bf(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.locale="";this.phoneNumber=this.profession=null}e=Bf.prototype;e.g=function(){return this.id};e.ua=function(){return this.displayName};e.ad=function(){return this.email};
e.jb=function(){return this.username};e.fg=function(){return this.avatar};e.jg=function(){return this.roles};e.kf=function(){return this.personalBrand};e.xe=function(){return this.locale};e.setLocale=function(a){this.locale=a};e.ak=function(a){var b=this.fg();return b&&(a=b.sizes.get(a))?a.Fa():null};e.Be=function(){return"UAAAAAAAAAA"===this.id};
e.$i=function(){return yf({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&nb(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var Cf=pb({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});
function Df(){this.includeAvatars=this.role=this.continuation=this.limit=this.skip=this.brand=this.query=this.emails=this.ids=null}function Ef(a){var b=new Df;b.ids=a;return b}Df.prototype.md=function(a){this.brand=a;return this};Df.prototype.od=function(a){this.limit=a;return this};Df.prototype.nd=function(a){this.continuation=a;return this};function Ff(){this.users=[];this.emails=[]}Ff.prototype.lf=function(){return this.users};
function Gf(a){if(!a)return null;a=p(Ff,a);a.users=a.users.map(yf);return a}function Hf(){this.user="";this.preferredHomepage=this.privacyPolicyNotified=this.profession=this.generateApiKeyWithType=this.avatar=this.locale=this.countryCode=this.city=this.homepage=this.currentPassword=this.roles=this.displayName=this.password=this.username=this.emailVerified=this.email=null}function If(a){var b=new Hf;b.user=a;return b}e=Hf.prototype;e.g=function(){return this.user};e.ad=function(){return this.email};
e.jb=function(){return this.username};e.ua=function(){return this.displayName};e.xe=function(){return this.locale};function Jf(a){a.privacyPolicyNotified=!0;return a}e.wq=function(){return this.preferredHomepage};function Kf(){this.user=void 0;this.verificationEmailSent=null}Kf.prototype.R=function(){return this.user};
function Lf(a){if(!a)return null;a=p(Kf,a);var b;b=a.user;var c;b?(c=p(Bf,b),c.avatar&&(c.avatar=pb(c.avatar)),b.userNotificationSettings&&(c.userNotificationSettings=new Kb({tr:y("receiveSocialEmails",b.userNotificationSettings)})),b=c):b=null;a.user=b;return a}function Mf(){}function Nf(a){return Object.freeze(p(Mf,a))}function Of(){}Of.prototype.ea=function(){return this.continuation};Of.prototype.getCount=function(){return this.count};function Pf(a){return Object.freeze(p(Of,a))}
function Qf(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.Xg}Qf.prototype.R=function(){return this.user};Qf.prototype.ad=function(){return this.email};function Rf(a){a=p(Qf,a);a.user=yf(a.user);return Object.freeze(a)}function Sf(){}e=Sf.prototype;e.md=function(a){this.brand=a;return this};e.ia=function(){return this.brand};e.nd=function(a){this.continuation=a;return this};e.ea=function(){return this.continuation};e.od=function(a){this.limit=a;return this};e.Fc=function(){return this.limit};
function Tf(a){a.includeAvatars=!0;return a}function Uf(a){a.includeEmails=!0;return a}function Vf(){var a=new Sf;a.countOnly=!0;return a}e.lf=function(){return this.users};function Wf(a){a=void 0===a?{}:a;this.members=a.ob;this.continuation=a.G}Wf.prototype.bi=function(){return this.members};Wf.prototype.ea=function(){return this.continuation};Wf.prototype.getCount=function(){return this.count};function Xf(a){a=p(Wf,a);a.members&&(a.members=a.members.map(Rf));return Object.freeze(a)};function Yf(){}e=Yf.prototype;e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.Xo=function(a){this.items=a;return this};e.Qc=function(a){this.folder=a;return this};e.we=function(){return this.items};e.ba=function(){return this.folder};function Zf(a){this.id=a.id||null;this.systemFolder=a.Ne;return this}function $f(a){return Object.freeze(p(Zf,a))}Zf.prototype.g=function(){return this.id};
Zf.prototype.lg=function(){if(this.systemFolder)return Object.freeze(p(ag,this.systemFolder))};function bg(a){return a.lg()?$f({systemFolder:Object.freeze(p(ag,{brand:a.ia(),type:a.lg(),user:a.R()}))}):$f({id:a.g()})}function ag(){}ag.prototype.ia=function(){return this.brand};ag.prototype.Zb=function(){return this.type};ag.prototype.R=function(){return this.user};function cg(){}function dg(a){return Object.freeze(p(cg,a))}cg.prototype.ba=function(){if(this.folder)return eg(this.folder)};
cg.prototype.$c=function(){return this.access};cg.prototype.Qm=function(){q(this.accessSummary);return fg(this.accessSummary)};function gg(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.Db;this.systemFolder=a.Ne||null;this.acl=a.xa;this.access=a.Tl;this.name=a.name||null;this.description=a.description||null;this.brand=a.o||"";this.itemCount=a.ni||0;this.user=a.user||"";this.modifiedDate=a.Zv||0;this.shared=a.$g||!1;this.type=a.type||hg;this.userSettings=a.gw||null}var hg="DESIGN";
function eg(a){return Object.freeze(p(gg,a))}e=gg.prototype;e.g=function(){return this.id};e.wb=function(){if(this.thumbnail)return Object.freeze(p(ig,this.thumbnail))};e.lg=function(){return this.systemFolder};e.ve=function(){if(this.acl)return Object.freeze(p(jg,this.acl))};e.$c=function(){if(this.access)return this.access};e.getName=function(){return this.name};e.gg=function(){return this.description};e.ia=function(){return this.brand};e.R=function(){return this.user};e.Zb=function(){return this.type};
e.bd=function(){if(this.userSettings)return Object.freeze(p(kg,this.userSettings))};e.Xe=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return eg(a)};function lg(a,b){var c;if(c="undefined"!==typeof a.$c())c=[mg,ng,og,pg],c=c.indexOf(a.$c())<=c.indexOf(b);return c}eg({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});
var qg=eg({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),rg=eg({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",width:200},user:""});function ig(){}ig.prototype.Ua=function(){return this.height};ig.prototype.ab=function(){return this.width};
ig.prototype.Fa=function(){return this.url};function jg(a){a=void 0===a?{}:a;this.entries=a.entries}jg.prototype.Xe=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(p(jg,a))};jg.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(p(sg,a))})};function sg(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.o;this.access=a.Tl}
sg.prototype.Xe=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(p(sg,a))};sg.prototype.ia=function(){return this.brand};sg.prototype.$c=function(){return this.access};var pg="VIEWER",og="EDITOR",ng="ADMIN",mg="OWNER";sg.prototype.R=function(){return this.user};function tg(){}e=tg.prototype;e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
e.Qc=function(a){this.folder=a;return this};e.Yo=function(a){this.name=a;return this};function ug(a){a.trash=!0;return a}function vg(a,b){a.add=b;return a}e.Ol=function(a){this.userSettings=a;return this};e.ba=function(){if(this.folder)return $f(this.folder)};e.ve=function(){if(this.acl)return Object.freeze(p(jg,this.acl))};e.getName=function(){return this.name};e.gg=function(){return this.description};e.bd=function(){if(this.userSettings)return Object.freeze(p(kg,this.userSettings))};
function wg(){}wg.prototype.g=function(){return this.id};wg.prototype.Zb=function(){return this.type};function xg(a){this.Ah=a.Ah;this.Ii=a.Ii;this.Nd=a.Nd;this.Nc=a.Nc;this.za=a.za;this.$a=a.$a;this.ca=a.ca;this.W=a.W}
function yg(a){return{brandPublik:Ka.optional("brandPublik",a.Ah),publik:Ka.optional("publik",a.Ii),myRole:Ra(rf,"myRole",a.Nd),remixCount:Oa("remixCount",a.Nc),likerCount:Oa("likerCount",a.za),commentCount:Oa("commentCount",a.$a),likedByMe:Pa("likedByMe",a.ca),owner:Qa(Af,"owner",a.W)}}function zg(a){this.Tb=a.Tb||[];this.Sn=a.Sn}function fg(a){return new zg({Tb:C(zf,"users",a),Sn:t("others",a)})}function Ag(){}function Bg(a){return Object.freeze(p(Ag,a))}Ag.prototype.we=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return Cg(a)})};
Ag.prototype.ea=function(){return this.continuation};Ag.prototype.ba=function(){if(this.folder)return eg(this.folder)};Ag.prototype.$c=function(){return this.access};function Dg(){}e=Dg.prototype;e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.od=function(a){this.limit=a;return this};e.Qc=function(a){this.folder=a;return this};
e.jj=function(a){this.decorations=a;return this};e.nd=function(a){this.continuation=a;return this};e.Fc=function(){return this.limit};e.ba=function(){if(this.folder)return $f(this.folder)};e.Um=function(){return this.decorations};e.ea=function(){return this.continuation};function Eg(){}function Fg(a){return Object.freeze(p(Eg,a))}Eg.prototype.ba=function(){if(this.folder)return eg(this.folder)};Eg.prototype.Qm=function(){if(this.accessSummary)return fg(this.accessSummary)};function Gg(){}e=Gg.prototype;
e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.Oo=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};e.Qc=function(a){this.folder=a;return this};e.jj=function(a){this.decorations=a;return this};
e.ba=function(){if(this.folder)return $f(this.folder)};e.Um=function(){return this.decorations};function Hg(){}function Ig(a){return Object.freeze(p(Hg,a))}Hg.prototype.Da=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return eg(a)})};Hg.prototype.ea=function(){return this.continuation};function Jg(){}e=Jg.prototype;e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
e.od=function(a){this.limit=a;return this};e.md=function(a){this.brand=a;return this};e.mj=function(a){this.user=a;return this};function Kg(){var a=new Jg;a.folderTypes=[hg];return a}e.nd=function(a){this.continuation=a;return this};e.Xo=function(a){this.items=a;return this};function Lg(){var a=new Jg;a.accessFilter="VISIBLE_TO";return a}e.Ol=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};e.Fc=function(){return this.limit};e.ia=function(){return this.brand};
e.R=function(){return this.user};e.ea=function(){return this.continuation};e.Oo=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function Mg(){}function Ng(a){return Object.freeze(p(Mg,a))}Mg.prototype.$c=function(){return this.access};Mg.prototype.ba=function(){if(this.folder)return eg(this.folder)};
function Og(){}e=Og.prototype;e.oh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.Yo=function(a){this.name=a;return this};e.md=function(a){this.brand=a;return this};e.mj=function(a){this.user=a;return this};function Pg(a){a.type=hg;return a}e.Ol=function(a){this.userSettings=a;return this};e.getName=function(){return this.name};e.ia=function(){return this.brand};e.R=function(){return this.user};
e.Zb=function(){return this.type};e.bd=function(){return this.userSettings};function Qg(){this.width=this.height=0;this.url="";this.version=0}Qg.prototype.ab=function(){return this.width};Qg.prototype.Ua=function(){return this.height};Qg.prototype.getVersion=function(){return this.version};Qg.prototype.Fa=function(){return this.url};function Rg(a){return a?$.extend(new Qg,a):null}
function Sg(){this.type=Tg;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new Qg;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var Tg="DESIGN";
function Cg(a){a=$.extend(new Sg,a);a.owner&&(a.owner=Object.freeze(p(Ug,a.owner)));a.thumbnail&&(a.thumbnail=Rg(a.thumbnail));if(a.socialMetadata){var b;b=a.socialMetadata;b=new xg({Ah:z("brandPublik",b),Ii:z("publik",b),Nd:Ba(qf,"myRole",b),Nc:t("remixCount",b),za:t("likerCount",b),$a:t("commentCount",b),ca:y("likedByMe",b),W:B(zf,"owner",b)});a.socialMetadata=b}return a}e=Sg.prototype;e.Xe=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Cg(a)};e.Zb=function(){return this.type};
e.g=function(){return this.id};e.getName=function(){return this.name};e.getVersion=function(){return this.version};e.wb=function(){return this.thumbnail};e.mg=function(){return this.tags};e.ci=function(){return this.owner};e.Da=function(){return this.folders};function Vg(a){return a.socialMetadata}function Ug(){}Ug.prototype.R=function(){return this.user};Ug.prototype.ia=function(){return this.brand};function kg(a){this.starred=a.hc};function Wg(a,b){this.element=a;this.value=b};function Xg(){}Xg.prototype.now=function(){return Date.now()};var Yg=new Xg;var $g=new Zg;function Zg(){}e=Zg.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function ah(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function bh(a){this.body=a.body;this.Ti=a.Ti;this.mh=a.mh;this.delegate=a.delegate;this.Wc=this.Kh=this.currentTarget=null;this.l=a.l;this.Yr=document.createElement("img");this.Yr.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";this.Dk=this.Dk.bind(this);this.Ek=this.Ek.bind(this);this.Fk=this.Fk.bind(this);this.zi=this.zi.bind(this);this.Ai=this.Ai.bind(this);this.Nk=this.Nk.bind(this);this.Ok=this.Ok.bind(this);this.preventDefault=this.preventDefault.bind(this)}
e=bh.prototype;e.start=function(){this.body.on("mousedown",this.Nk).on("mouseup",this.Ok)};e.stop=function(){this.body.off("mousedown",this.Nk).off("mouseup",this.Ok);ch(this)};function dh(a,b){a.Ti.getSources().forEach(function(a){a.element.draggable=b})}function eh(a,b){var c=null;a.Ti.getSources().some(function(a){return a.element===b||$.contains(a.element,b)?(c=a,!0):!1});return c}
function fh(a,b){var c=null;a.mh.di().some(function(a){return a.element===b||$.contains(a.element,b)?(c=a,!0):!1});return c}function gh(a){a=a.mh.di().map(function(a){return a.element});return $(a)}e.zi=function(a){a=a.originalEvent;$(this.Wc).css("left",a.clientX).css("top",a.clientY)};
e.Dk=function(){var a=this.Wc;ch(this);dh(this,!1);this.Wc.classList.remove("dragOver");this.currentTarget?(this.currentTarget.element.classList.remove("dragOver"),this.Wc.classList.add("dropped")):P.resolve().then(function(){$(a).remove()});hh(this.delegate,this.Kh.value,this.currentTarget?this.currentTarget.value:null,this.currentTarget?this.Wc:null);this.Wc=this.Kh=this.currentTarget=null};
e.Ek=function(a){var b=a.currentTarget&&fh(this,a.currentTarget);if(!b)throw Error("unknown drop target entered");a.preventDefault();this.currentTarget=b;this.currentTarget.element.classList.add("dragOver");this.Wc.classList.add("dragOver")};e.Fk=function(a){a=a.currentTarget&&fh(this,a.currentTarget);if(!a)throw Error("unknown drop target left");a.value===this.currentTarget.value&&(this.currentTarget=null,this.Wc.classList.remove("dragOver"));a.element.classList.remove("dragOver")};
e.preventDefault=function(a){a.preventDefault()};
e.Ai=function(a){function b(){a.originalEvent.dataTransfer&&a.originalEvent.dataTransfer.setDragImage?a.originalEvent.dataTransfer.setDragImage(c.Yr,0,0):a.target&&(a.target.classList.add("dragSourceHiddenIEHack"),c.l.setTimeout(function(){a.target.classList.remove("dragSourceHiddenIEHack")},0))}var c=this;if(this.Kh=a.target&&eh(this,a.target))b(),this.Wc=this.Ti.hg(this.Kh.value),this.body.append(this.Wc),this.zi(a),ih(this.delegate),jh(this);this.body.off("dragstart",this.Ai)};
function jh(a){var b=gh(a);a.body.on("dragover",a.zi).on("dragend",a.Dk).on("drop",a.preventDefault);b.on("dragenter",a.Ek).on("dragleave",a.Fk).on("dragover",a.preventDefault);b.find("*").css("pointer-events","none")}function ch(a){var b=gh(a);a.body.off("dragover",a.zi).off("dragend",a.Dk).off("drop",a.preventDefault);b.off("dragenter",a.Ek).off("dragleave",a.Fk).off("dragover",a.preventDefault);b.find("*").css("pointer-events","")}e.Nk=function(){dh(this,!0);this.body.on("dragstart",this.Ai)};
e.Ok=function(){dh(this,!1);this.body.off("dragstart",this.Ai)};var kh={uv:"/designs/all",vv:"/designs/challenges",wv:"/designs/layouts",xv:"/designs/portfolio",yv:"/designs/sharedwith",zv:"/designs/trash",Dv:"/media/portfolio",Gv:"/media/uploads",Ev:"/media/rf_purchases",Fv:"/media/unlimited_use_purchases",Bv:"/designs/layouttemplates"};function lh(){}e=lh.prototype;e.md=function(a){this.brand=a;return this};e.ia=function(){return this.brand||null};e.mj=function(a){this.user=a;return this};e.R=function(){return this.user||null};
e.Qc=function(a){this.folder=a;return this};e.ba=function(){return this.folder};e.Wm=function(){return this.filter};e.nd=function(a){this.continuation=a;return this};e.ea=function(){return this.continuation||null};e.od=function(a){this.limit=a;return this};e.Fc=function(){return this.limit};e.jj=function(a){this.decorations=a;return this};e.Um=function(){return this.decorations};function mh(){this.items=[];this.folders=this.continuation=null}mh.prototype.we=function(){return this.items};
mh.prototype.ea=function(){return this.continuation};mh.prototype.Da=function(){return this.folders};function nh(a){if(!a)return null;a=$.extend(new mh,a);a.items&&(a.items=a.items.map(Cg));a.folders&&(a.folders=a.folders.map(eg));return a};function oh(a){this.ff=a.ff;this.se=a.se;this.user=a.user;this.o=a.o;this.sc=a.sc;this.td=a.td;this.wc=a.wc;this.ya=a.ya;this.fe=a.fe}function ph(a){return new oh({ff:v("experience",a),se:Ca(Da,Ha,"experiments",a)||new Map,user:x("user",a)||null,o:x("brand",a)||null,sc:z("personal",a)||null,td:u("cohort",a)||null,wc:x("tier",a)||null,ya:x("countryCode",a)||null,fe:x("userLocale",a)||null})};function qh(a){this.config=a;this.Ad=null;this.Mk=[];this.ready=!1}
function rh(a,b){var c=Object.assign({},b),d={};a.Ad&&(c.design=a.Ad);c.experience=a.config.ff;a.config.se.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.o&&(c.brand=a.config.o);null!=a.config.sc&&(c.personal=a.config.sc);null!=a.config.td&&(c.cohort=a.config.td);a.config.wc&&(c.tier=a.config.wc);null!=a.config.ya&&(c.country_code=a.config.ya);null!=a.config.fe&&(c.locale=a.config.fe);c.product_variant="web-1";sh(c);return c}
function sh(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function th(a,b){var c=window.lastUserTraits||uh(new vh),d=N(new vh,"__user",a);a=a!==c.get("__user");if(b&&wh(b)){for(var f=m(b),g=f.next();!g.done;g=f.next()){var h=m(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=m(b.keys());for(f=c.next();!f.done;f=c.next())f=f.value,N(d,f,b.get(f))}a&&(window.lastUserTraits=uh(d));return a}
function xh(a,b){var c=window.lastUserTraits||uh(new vh);a=N(new vh,"__user",a);if(c&&wh(c))for(var d=m(c.keys()),f=d.next();!f.done;f=d.next())f=f.value,"__user"!==f&&N(a,f,c.get(f));if(b&&wh(b))for(c=m(b.keys()),f=c.next();!f.done;f=c.next())d=f.value,N(a,d,b.get(d));window.lastUserTraits=uh(a)}function wh(a){K(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function yh(a,b,c,d,f,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=f;g&&Object.assign(h,g);a.track("button_click",h)}qh.prototype.zoom=function(a,b,c,d,f){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:f})};qh.prototype.xc=function(a){return this.track(a.name,a.$k)};function zh(a,b){this.name=a;this.$k={};b&&(this.$k.category=b)}function O(a,b,c){if(a.$k[b])throw Error("duplicated property");a.$k[b]=c;return a}function vh(){this.items=[]}
function N(a,b,c){a.items.push({key:b,value:c});return a}function uh(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function Q(a){this.dt=a.fallback;this.Uq=a.localePrecedence;this.zn={};this.i=a.messages;this.Bu=this.Uq[0];this.Pu=!!a.returnKeys}Q.prototype.format=function(a,b){if(this.Pu)return[].join.call(arguments,":");var c=Ah(this,a);return c.format.call(c,[].slice.call(arguments,1))};
Q.prototype.Yb=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],la(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function Ah(a,b){if(a.zn.hasOwnProperty(b))return a.zn[b];var c=a.Bu,d;a.Uq.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.dt,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,Bh);return a.zn[b]=c}var Bh={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function Ch(){this.config=window.cmsg;this.Zn=this.vn=this.Io=this.Bn=this.De=this.dm=this.qb=this.Ho=this.da=this.fa=this.K=this.Eb=this.Oe=this.ke=this.na=this.Ab=this.Yc=this.La=this.Va=this.Eh=this.Y=this.cf=this.cb=this.Ob=this.Am=this.Pd=null}function Dh(a){a.Am||(a.Am=new Eh(a.config));return a.Am}function Fh(a){a.Ob||(a.Ob=new Gh(a.config));return a.Ob}function Hh(a){a.La||(a.La=new Ih(a.config));return a.La}function Jh(a){a.Yc||(a.Yc=new Kh(a.config));return a.Yc}
function Lh(a){a.Ab||(a.Ab=new Mh(a.config));return a.Ab}function Nh(a){a.cf||(a.cf=new Oh(a.config));return a.cf}function Ph(a){a.Y||(a.Y=new Qh(a.config));return a.Y}function Rh(a){a.Eh||(a.Eh=new Sh(a.config));return a.Eh}function Th(a){a.na||(a.na=new Uh(a.config));return a.na}function Vh(a){a.Eb||(a.Eb=new Wh(a.config));return a.Eb}function Xh(a){a.K||(a.K=new Yh(a.config));return a.K}function Zh(a){a.da||(a.da=new $h(a.config));return a.da}
function ai(a){a.qb||(a.qb=new bi(a.config));return a.qb}function ci(a){a.dm||(a.dm=new di(a.config));return a.dm}function ei(a){a.Bn||(a.Bn=new fi(a.config));return a.Bn}function gi(a){Q.apply(this,arguments)}n(gi,Q);function Uh(a){Q.apply(this,arguments)}n(Uh,Q);e=Uh.prototype;e.Of=function(){return this.format("creditCardCreditCardLabel")};e.Jf=function(){return this.format("creditCardBillingAddressLabel")};e.Uc=function(){return this.format("creditCardCardNumberPlaceholder")};e.ed=function(){return this.format("creditCardMonthPlaceholder")};
e.pd=function(){return this.format("creditCardYearPlaceholder")};e.Vc=function(){return this.format("creditCardCvcPlaceholder")};function hi(a){return a.format("creditCardRegionPlaceholder")}e.he=function(){return this.format("creditCardZipCodePlaceholder")};e.save=function(){return this.format("creditCardSave")};function Eh(a){Q.apply(this,arguments)}n(Eh,Q);Eh.prototype.Kc=function(){return this.format("documentPlaceholderText")};function ii(a){return a.format("documentUntitledDesign")}
function Gh(a){Q.apply(this,arguments)}n(Gh,Q);Gh.prototype.us=function(){return this.format("homeDesignYourFirstDesign")};Gh.prototype.Eq=function(){return this.format("homeDesignImportPersonalDesigns")};Gh.prototype.rt=function(){return this.format("homeDesignIrresistibleFacebookPost",'\x3ca target\x3d"_blank" href\x3d"https://www.youtube.com/watch?v\x3dA5piiEQ2ydI"\x3e',"\x3c/a\x3e")};Gh.prototype.error=function(){return this.format("homeDesignError")};function ji(a){Q.apply(this,arguments)}
n(ji,Q);ji.prototype.error=function(){return this.format("sharedDesignsError")};ji.prototype.title=function(){return this.format("sharedDesignsTitle")};function ki(a){return a.format("sharedDesignsEmptyStateMessageHeading")}function li(a){Q.apply(this,arguments)}n(li,Q);li.prototype.pe=function(){return this.format("homeTitleDesignStream")};li.prototype.custom=function(a){return this.format("homeTitleCustom",a)};function Ih(a){Q.apply(this,arguments)}n(Ih,Q);e=Ih.prototype;e.jh=function(){return this.format("designCardStateUnderReview")};
e.hh=function(){return this.format("designCardStateForSale")};e.gh=function(){return this.format("designCardStateBrandPublic")};e.ih=function(){return this.format("designCardStatePublic")};e.kh=function(){return this.format("designCardStateViewOnly")};function Kh(a){Q.apply(this,arguments)}n(Kh,Q);Kh.prototype.error=function(){return this.format("findUserInputError")};function Mh(a){Q.apply(this,arguments)}n(Mh,Q);Mh.prototype.si=function(){return this.format("likeButtonLike")};Mh.prototype.Qb=function(){return this.format("likeButtonLiked")};
function Oh(a){Q.apply(this,arguments)}n(Oh,Q);Oh.prototype.title=function(){return this.format("designStreamHeaderTitle")};Oh.prototype.empty=function(){return this.format("designStreamEmpty")};Oh.prototype.error=function(a,b){return this.format("designStreamError",a,b)};Oh.prototype.wt=function(){return this.format("designStreamLoadStream")};function Qh(a){Q.apply(this,arguments)}n(Qh,Q);e=Qh.prototype;e.title=function(){return this.format("docTypeSelectorTitle")};e.bh=function(){return this.format("docTypeSelectorShowFewerDesigns")};
e.Ef=function(){return this.format("docTypeSelectorUseCustomDimensions")};e.error=function(){return this.format("docTypeSelectorError")};e.dc=function(){return this.format("docTypeSelectorRetry")};e.times=function(){return this.format("docTypeSelectorTimes")};e.width=function(){return this.format("docTypeSelectorWidth")};e.height=function(){return this.format("docTypeSelectorHeight")};e.Lg=function(){return this.format("docTypeSelectorPixelsUnit")};e.Cg=function(){return this.format("docTypeSelectorMillimetersUnit")};
e.rg=function(){return this.format("docTypeSelectorInchesUnit")};e.Ad=function(){return this.format("docTypeSelectorDesign")};e.Md=function(){return this.format("docTypeSelectorMore")};function Sh(a){Q.apply(this,arguments)}n(Sh,Q);Sh.prototype.Bg=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function mi(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function ni(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function oi(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function pi(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function qi(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function ri(a){return a.Yb("canvaForWorkFeatureUpgradeFreeContentBenefit",4E5)}function si(a){Q.apply(this,arguments)}n(si,Q);function ti(a){Q.apply(this,arguments)}n(ti,Q);ti.prototype.bn=function(){return this.format("teamStreamHeaderTitle")};ti.prototype.Hm=function(){return this.format("teamStreamFetchError")};
function Wh(a){Q.apply(this,arguments)}n(Wh,Q);Wh.prototype.bn=function(){return this.format("trashedDesignsHeaderTitle")};Wh.prototype.Ys=function(){return this.format("trashedDesignsEmptyTitle")};Wh.prototype.Ws=function(){return this.format("trashedDesignsEmptyBody")};Wh.prototype.Hm=function(){return this.format("trashedDesignsFetchError")};function ui(a,b){return a.format("trashedDesignsDeleteDesignConfirmation",b)}function Yh(a){Q.apply(this,arguments)}n(Yh,Q);
function vi(a){return a.format("designFoldersHeaderTitleDefaultName")}Yh.prototype.Oj=function(){return this.format("designFoldersDeleteFolderError")};Yh.prototype.Zg=function(){return this.format("designFoldersShareFolderButton")};Yh.prototype.Ff=function(){return this.format("designFoldersViewOnly")};function wi(a){Q.apply(this,arguments)}n(wi,Q);e=wi.prototype;e.yd=function(){return this.format("designFolderListDefaultName")};
e.Oj=function(a){return this.format("designFolderListDeleteFolderError",a)};e.Fg=function(){return this.format("designFolderListNewFolder")};e.ig=function(){return this.format("designFolderListGetMoreFolders")};e.eg=function(a){return this.format("designFolderListFolderQuotaHint",a)};e.Yf=function(){return this.format("designFolderListErrorMessageHtml")};e.dc=function(){return this.format("designFolderListRetry")};e.zg=function(){return this.format("designFolderListLoadFolders")};
function $h(a){Q.apply(this,arguments)}n($h,Q);e=$h.prototype;e.title=function(){return this.format("shareFolderDialogTitle")};e.readOnly=function(){return this.format("shareFolderDialogReadOnly")};e.Lf=function(){return this.format("shareFolderDialogCanEdit")};e.remove=function(){return this.format("shareFolderDialogRemove")};e.nf=function(){return this.format("shareFolderDialogIsOwner")};e.Su=function(){return this.format("shareFolderDialogSaveButton")};function xi(a){Q.apply(this,arguments)}
n(xi,Q);function bi(a){Q.apply(this,arguments)}n(bi,Q);e=bi.prototype;e.fh=function(){return this.format("teamBillingSignupStartTrial")};e.Wg=function(){return this.format("teamBillingSignupRevertCard")};e.ug=function(){return this.format("teamBillingSignupItemsTitle")};e.Kf=function(){return this.format("teamBillingSignupBillingError")};e.rh=function(){return this.format("teamBillingSignupTryAgain")};e.Wf=function(){return this.format("teamBillingSignupEncryption")};
function di(a){Q.apply(this,arguments)}n(di,Q);di.prototype.Tf=function(){return this.format("commentListDeleteLabel")};di.prototype.qt=function(){return this.format("commentListInputPlaceholder")};function yi(a){Q.apply(this,arguments)}n(yi,Q);function fi(a){Q.apply(this,arguments)}n(fi,Q);fi.prototype.mb=function(a,b){return this.format("newLightboxCurrentFrame",a,b)};function zi(a,b,c,d,f){return a.format("newLightboxEmbedCodeBy",c,b,d,f)}
function Ai(a,b,c){return a.format("newLightboxBylineHtml",b,c)}fi.prototype.Us=function(){return this.format("newLightboxEditLabel")};function Bi(a){Q.apply(this,arguments)}n(Bi,Q);function Ci(a){Q.apply(this,arguments)}n(Ci,Q);function Ii(a){Q.apply(this,arguments)}n(Ii,Q);Ii.prototype.rb=function(){return this.format("privacyPolicyAlertButtonLabel")};function Ji(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");var c=a.u;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var f=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(f?' id\x3d"'+soy.$$escapeHtmlAttribute(f)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");f=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;f=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(f?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=f}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function Ki(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),
"classes",a.u,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+Li(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+Li(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function Li(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||
goog.isString(a.u),"classes",a.u,"null|string|undefined");var d=a.u;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var r=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var w=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(w?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==r?"text":r)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function Mi(a){soy.asserts.assertType(goog.isString(a.Uc)||a.Uc instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Uc,"string|goog.soy.data.SanitizedContent");var b=a.Uc;soy.asserts.assertType(goog.isString(a.Vc)||a.Vc instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Vc,"string|goog.soy.data.SanitizedContent");var c=a.Vc;soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.ed,"string|goog.soy.data.SanitizedContent");
var d=a.ed;soy.asserts.assertType(goog.isString(a.pd)||a.pd instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pd,"string|goog.soy.data.SanitizedContent");a=a.pd;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Ki({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
Ki({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+Ki({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+Ki({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Ni(a){soy.asserts.assertType(goog.isString(a.he)||a.he instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.he,"string|goog.soy.data.SanitizedContent");var b=a.he,c=goog.asserts.assertArray(a.Gp,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Or,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+Ji({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?Ji({id:"region",options:a}):"")+Ki({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};function Oi(a){switch(a){case "US":return new Map(Pi);case "AU":return new Map(Qi);case "MX":return new Map(Ri);case "CA":return new Map(Si);case "BR":return new Map(Ti);case "IN":return new Map(Ui);default:return new Map}}
var Pi=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),Qi=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Ri=new Map([["MX-CMX","Ciudad de Mxico"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de Mxico"],["MX-MIC","Michoacn"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo Len"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Quertaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potos"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatn"],["MX-ZAC","Zacatecas"]]),Si=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Ti=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amap"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Cear"],["BR-DF","Distrito Federal"],["BR-ES","Esprito Santo"],["BR-GO","Gois"],["BR-MA","Maranho"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paran"],["BR-PB","Paraba"],["BR-PA","Par"],["BR-PE","Pernambuco"],
["BR-PI","Piau"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondnia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","So Paulo"],["BR-TO","Tocantins"]]),Ui=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function Vi(a,b){a=[].concat(la(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.io,text:a[1],value:a[0]}});return null!=b.Kc?[].concat([{selected:!b.io,text:b.Kc,value:b.Tn}],la(a)):a}
function Wi(a){var b=new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]]);a.Ks&&(b=Array.from(b.entries()).filter(function(b){b=
m(b).next().value;return a.Ks.has(b)}),b=new Map(b));return Vi(b,{Kc:a.Kc,Tn:"ZZ",io:a.dw})}function Xi(a){var b=Oi(a.ya);K(!a.ho||b.has(a.ho),'"{}" is not a valid subdivision code of the country "{}".',a.ho,a.ya);return Vi(b,{Kc:a.Kc,Tn:a.Tn,io:a.ho})};function R(a,b){this.name=a;this.defaultValue=b};function Yi(a){this.values=a||{}}function Zi(){return new Yi(q(window.cflags))}Yi.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;K(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};var $i=new R("jv",!1);function aj(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Vf=this.Uf=!1;this.na=a.na;this.uj=a.uj;this.Z=a.Z?a.Z:Zi();this.j=a.j}n(aj,Backbone.View);e=aj.prototype;e.events=function(){return{"input #ccNumber":this.Et,"keydown #expMonth":this.hu,"input #expMonth":this.gu,input:this.Rd,"keydown input":this.uf,"focus input:not([readonly])":this.cu,"blur input":this.yi,"change #country":this.Kt,"change #region":this.iu,"change #zipcode":this.yu}};
e.bk=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",xd:this.$("#cvc").val().trim(),$f:this.$("#expMonth").val().trim(),ag:this.$("#expYear").val().trim(),Od:this.$("#ccNumber").val().trim(),gb:this.$("#country").val()?this.$("#country").val().trim():void 0,Vd:this.$("#region").val()?this.$("#region").val().trim():void 0,nj:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.xd.length||a.$f.length||a.ag.length||a.Od.length||a.gb.length||
a.Vd.length||a.nj.length?a:null};e.Ke=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder",""+a.nk);this.$("#expMonth").val("").attr("placeholder","");this.$("#expYear").val("").attr("placeholder","");this.$("#cvc").val("").attr("placeholder","");a.Ib&&(this.$("#country").val(a.Ib.ya).change(),this.$("#region").val(a.Ib.lh),this.$("#zipcode").val(a.Ib.Ng));this.Vf=this.Uf=!1;this.$("#ccNumber").removeAttr("autofocus")};
e.hl=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
e.render=function(){var a;a={Of:this.na.Of(),Jf:this.na.Jf(),Uc:this.na.Uc(),ed:this.na.ed(),pd:this.na.pd(),Vc:this.na.Vc(),he:this.na.he(),Gp:Wi({Kc:this.na.format("creditCardCountryPlaceholder")}),Or:Xi({Kc:hi(this.na),ya:"ZZ"}),Oi:this.Z.get($i)};soy.asserts.assertType(goog.isString(a.Of)||a.Of instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Of,"string|goog.soy.data.SanitizedContent");var b=a.Of;soy.asserts.assertType(goog.isString(a.Jf)||a.Jf instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.Jf,"string|goog.soy.data.SanitizedContent");var c=a.Jf;soy.asserts.assertType(goog.isString(a.Uc)||a.Uc instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Uc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Vc)||a.Vc instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Vc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.ed,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.pd)||a.pd instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.he)||a.he instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.he,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.Gp,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.Or,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.Oi)||1===a.Oi||0===a.Oi,"showBillingAddressFields",a.Oi,"boolean");var d=!!a.Oi;soy.asserts.assertType(null==a.Kj||a.Kj instanceof goog.soy.data.SanitizedContent||goog.isString(a.Kj),"creditCardId",a.Kj,"null|string|undefined");var f=a.Kj;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(f)+'"/\x3e'+Mi(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Ni(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());bj(this);return this};
function bj(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.uj&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}e.Rd=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Uf=!0,this.trigger("input"))};e.uf=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
e.cu=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.na.Uc()),this.$("#expMonth").attr("placeholder",this.na.ed()),this.$("#expYear").attr("placeholder",this.na.pd()),this.$("#cvc").attr("placeholder",this.na.Vc()))};e.yi=function(){this.$el.removeClass("focused")};
e.Et=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
e.Kt=function(a){a=Xi({Kc:hi(this.na),ya:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(Ji({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Vf=!0;this.j.xc(O(new zh("credit_card_country_changed"),"location","billing_admin_card_dialog"))};e.iu=function(){this.Vf=!0};e.yu=function(){this.Vf=!0};
e.hu=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),f=String.fromCharCode(a.which);""===c&&f.match(/[2-9]/)?(a.preventDefault(),b.val("0"+f),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};e.gu=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function S(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}S.prototype=Object.create(Error.prototype);S.prototype.constructor=S;
function cj(a){switch(a){case "card_declined":return new dj;case "expired_card":return new ej;case "incorrect_cvc":return new fj;case "incorrect_number":return new gj;case "invalid_cvc":return new hj;case "invalid_expiry_month":return new ij;case "invalid_expiry_year":return new jj;case "invalid_number":return new kj;case "missing":return new lj;case "processing_error":return new mj;default:return new nj(a)}}function dj(){S.call(this,"credit card declined")}dj.prototype=Object.create(S.prototype);
dj.prototype.constructor=dj;function ej(){S.call(this,"credit card expired")}ej.prototype=Object.create(S.prototype);ej.prototype.constructor=ej;function fj(){S.call(this,"credit card cvc incorrect")}fj.prototype=Object.create(S.prototype);fj.prototype.constructor=fj;function gj(){S.call(this,"credit card number incorrect")}gj.prototype=Object.create(S.prototype);gj.prototype.constructor=gj;function hj(){S.call(this,"credit card cvc invalid")}hj.prototype=Object.create(S.prototype);
hj.prototype.constructor=hj;function ij(){S.call(this,"credit card expiry month invalid")}ij.prototype=Object.create(S.prototype);ij.prototype.constructor=ij;function jj(){S.call(this,"credit card expiry year invalid")}jj.prototype=Object.create(S.prototype);jj.prototype.constructor=jj;function kj(){S.call(this,"credit card number invalid")}kj.prototype=Object.create(S.prototype);kj.prototype.constructor=kj;function oj(){S.call(this,"credit card country invalid")}oj.prototype=Object.create(S.prototype);
oj.prototype.constructor=oj;function pj(){S.call(this,"credit card region invalid")}pj.prototype=Object.create(S.prototype);pj.prototype.constructor=pj;function qj(){S.call(this,"credit card zipcode invalid")}qj.prototype=Object.create(S.prototype);qj.prototype.constructor=qj;function lj(){S.call(this,"credit card missing but required")}lj.prototype=Object.create(S.prototype);lj.prototype.constructor=lj;function mj(){S.call(this,"credit card processing error")}mj.prototype=Object.create(S.prototype);
mj.prototype.constructor=mj;function nj(a){S.call(this,"unknown credit card processing error "+a);this.errorCode=a}nj.prototype=Object.create(S.prototype);nj.prototype.constructor=nj;function rj(){S.call(this,"no credit card entered")}rj.prototype=Object.create(S.prototype);rj.prototype.constructor=rj;function sj(){this.xhr=null}sj.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};sj.prototype.finish=function(){this.xhr=null};function tj(a){this.hp=a&&a.analyticsContext||null;this.Yl=a&&a.authToken||null;this.Zl=a&&a.authzToken||null;this.op=a&&a.brandRestriction||null;this.qp=a&&a.buildName||null;this.rp=a&&a.buildSha||null;this.Pf=a&&a.csrfTokens||{};this.jo=a&&a.serverRoot||null;this.Uu=!!this.jo;this.Vu=this.jo?this.jo+"/_ajax":"/_ajax"}
function uj(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}tj.prototype.get=function(a,b){var c=new sj;this.send("GET",a,null,!0,null,c,b);return c};function T(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}tj.prototype.post=function(a,b,c){var d=new sj;vj(this,"POST",a,b,!0,0,d,c);return d};
function U(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,function(a,b){200<=a&&300>a?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function wj(a,b,c){var d=new sj;vj(a,"DELETE",b,null,!0,0,d,c);return d}function xj(a,b){var c;return(new P(function(d,f){c=wj(a,b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function yj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=m(a),a=b.next().value,b=b.next().value,a=zj(a,b),a.hv=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function vj(a,b,c,d,f,g,h,k){var l=uj(c);if(l in a.Pf){var r=a.Pf[l];a.send(b,c,d,f,r,h,function(w,G){418==w&&1>g?(a.Pf[l]==r&&delete a.Pf[l],vj(a,b,c,d,f,g+1,h,k)):(k&&k(w,G),h.finish())})}else a.send("GET","/csrf"+l,null,f,null,h,function(r,G){200==r?(l in a.Pf||(a.Pf[l]=String(G)),vj(a,b,c,d,f,g,h,k)):(k(r,null),h.finish())})}
tj.prototype.send=function(a,b,c,d,f,g,h){function k(){4==r.readyState&&l()}function l(){var a,b,c;try{a=r.status;var d,f;try{d=r.getResponseHeader("X-Canva-Auth")}catch(k){}try{f=r.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(w.Yl="!"!=d?d:null);f&&(w.Zl="!"!=f?f:null);b=r.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.Vu+b;var r=g.xhr=new XMLHttpRequest,w=this;r.open(a,b,d);this.Uu&&(r.withCredentials=!0);"GET"!=a&&f&&r.setRequestHeader("X-Csrf-Token",f);this.hp&&r.setRequestHeader("X-Canva-Analytics",this.hp);this.Yl&&r.setRequestHeader("X-Canva-Auth",this.Yl);this.Zl&&r.setRequestHeader("X-Canva-Authz",this.Zl);this.op&&r.setRequestHeader("X-Canva-Brand",this.op);this.qp&&r.setRequestHeader("X-Canva-Build-Name",
this.qp);this.rp&&r.setRequestHeader("X-Canva-Build-Sha",this.rp);null===c||void 0===c?a=null:(r.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(r.onreadystatechange=k,r.send(a)):(r.send(a),l())};function Aj(a){this.message=a||"HTTP error encountered";this.response=a;this.hv=null}n(Aj,Error);
function zj(a,b){switch(b){case 400:return new Bj(a);case 403:return new Cj(a);case 404:return new Dj(a);case 409:return new Ej(a);case 418:return new Fj;case 429:return new Gj(a);case 500:return new Hj(a);default:return new Ij(a)}}function Jj(a){Aj.apply(this,arguments)}n(Jj,Aj);function Kj(a){Aj.apply(this,arguments)}n(Kj,Aj);function Bj(a){Jj.apply(this,arguments)}n(Bj,Jj);function Cj(a){Jj.apply(this,arguments)}n(Cj,Jj);function Dj(a){Jj.apply(this,arguments)}n(Dj,Jj);
function Ej(a){Jj.apply(this,arguments)}n(Ej,Jj);function Gj(a){Jj.apply(this,arguments)}n(Gj,Jj);function Hj(a){Kj.apply(this,arguments)}n(Hj,Kj);function Fj(){Jj.call(this,"CSRF token expired")}n(Fj,Jj);function Ij(a){Aj.apply(this,arguments)}n(Ij,Aj);function Lj(a){this.F=a}e=Lj.prototype;e.gk=function(a){throw cj(a.response.errorKey);};e.xq=function(a){if(a.error)throw new S(a.error.message);return a};e.kk=function(a){return a instanceof Aj&&"CreditCardInvalid"===a.response.errorType};e.To=function(a){return U(this.F,"/billing/creditcards/"+a.Jh,Xb(a)).catch(yj).get(0).then(this.xq).catch(this.kk,this.gk)};
e.getSubscription=function(a){return T(this.F,a.o?"/billing/brands/"+a.o+"/subscription?excludeStandard\x3d"+(a.Vv?"true":"false"):"/billing/subscriptions/"+a.id).catch(yj).get(0).then(pc)};var Mj={neverShowReplacePageContentWarning:"aa"};function Nj(a){this.F=a;this.path="/profile"}Nj.prototype.R=P.method(function(a){return T(this.F,this.path+"/users/"+encodeURIComponent(a)).get(0).then(yf)});function Oj(a){return T(a.F,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(Mj),d=m(Object.keys(a)),f=d.next();!f.done;f=d.next())f=f.value,c[f]&&(a[c[f]]=a[f],delete a[f]);return a})}
function Pj(a){var b="newPersonalBrandCreated";Oj(a).then(function(a){Mj[b]&&(delete a[b],b=Mj[b]);if(!1===a[b])return a;a[b]=!1;return U(this.F,this.path+"/user/uiinfo",a).get(0)}.bind(a))}
function Qj(a,b){return T(a.F,a.path+"/users?"+(null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+(null!=b.emails?"\x26emails\x3d"+encodeURIComponent(b.emails):"")+(null!=b.query?"\x26query\x3d"+encodeURIComponent(b.query):"")+(null!=b.brand?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+(null!=b.role?"\x26role\x3d"+encodeURIComponent(b.role):"")+(null!=b.skip?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+(null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"")+(null!=b.includeAvatars?
"\x26includeAvatars\x3d"+encodeURIComponent(b.includeAvatars):"")).get(0).then(Gf)}function Rj(a,b){return U(a.F,a.path+"/users/"+encodeURIComponent(b.user),b).get(0).then(Lf)}Nj.prototype.ia=function(a){return T(this.F,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(wf)};P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?create\x3dtrue";return U(this.F,b,yb(a)).spread(Ab)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations";return U(this.F,b,a).spread(Nf)});P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?"+(null!=a.ea()?"\x26continuation\x3d"+encodeURIComponent(a.ea()):"")+(null!=a.Fc()?"\x26limit\x3d"+encodeURIComponent(a.Fc()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.gt()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.gt()):"");return T(this.F,a).spread(Pf)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?update\x3dtrue";return U(this.F,b,Db(a)).spread(Fb)});
Nj.prototype.Uh=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.ea()?"\x26continuation\x3d"+encodeURIComponent(a.ea()):"")+(null!=a.Fc()?"\x26limit\x3d"+encodeURIComponent(a.Fc()):"")+(null!=a.lf()?"\x26users\x3d"+encodeURIComponent(a.lf().join(",")):
"");return T(this.F,a).spread(Xf)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members";return U(this.F,b,Hb(a)).spread(Jb)});function Sj(){var a=window.stripeConfig;switch(a.impl){case "local":return new Tj;case "stripe":return new Uj(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function Tj(){}Tj.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.Fm,expYear:a.Gm,last4:a.Od.slice(-4)})});function Uj(a,b){(this.Sb=b)&&this.Sb.setPublishableKey(a)}
Uj.prototype.createToken=function(a){return new P(function(b,c){if(!this.Sb)throw Error("Stripe API is unavailable");a={cvc:a.xd,exp_month:a.Fm,exp_year:a.Gm,number:a.Od};this.Sb.createToken(a,function(a,f){if(f.error){var g;try{g=f.error.code||""}catch(h){g=""}c(cj(g))}else b(f.id)})}.bind(this))};var Vj=new R("jv",!1),Wj=["BR","CA","US"];function Xj(a){this.Se=a.Se;this.o=a.o;this.Ka=a.Ka||void 0;this.sb=a.sb;this.Sb=a.Sb;this.view=a.view;this.listenTo(this.view,"input",this.Rd);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.Z=a.Z?a.Z:Zi();this.na=a.na}e=Xj.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.refresh=function(){this.view.render();this.view.hl(this.sb);this.Ka&&this.view.Ke(this.Ka);return this};e.remove=function(){this.stopListening();this.view.remove()};e.Ke=function(a){this.Ka=a;this.view.Ke(a);return this};e.hl=function(a){this.sb=a;this.view.hl(a);return this};P.method(function(a){function b(a){return a.Nh}return!this.Ka||this.view.Uf||a?(a=this.view.bk(),Yj(a),this.qv(a).then(b).tap(this.Ke.bind(this))):this.Ka});e=Xj.prototype;
e.ht=P.method(function(a){if(this.Ka&&!this.view.Uf&&!a&&!this.view.Vf)return this.Ka;a=this.view.bk();if(this.view.Vf&&!this.view.Uf)return Zj(this,a),this.pv(a);Yj(a);Zj(this,a);return this.To(a).tap(this.Ke.bind(this))});e.Rd=function(){this.Ka&&!this.view.bk()&&this.Ke(this.Ka);this.trigger("input",this.view.Uf)};
e.qv=P.method(function(a){var b=this;return this.Sb.createToken({xd:a.xd,Fm:a.$f,Gm:a.ag,Od:a.Od}).then(function(a){var d=b.Se,f=b.o;return U(d.F,"/billing/brands/"+encodeURIComponent(f)+"/account",{brand:f,stripeToken:a}).catch(yj).get(0).get("account").then(Tb).catch(d.kk,d.gk)})});
e.To=P.method(function(a){var b=this;return this.Sb.createToken({xd:a.xd,Fm:a.$f,Gm:a.ag,Od:a.Od,Qv:a.gb,Rv:a.Vd,Sv:a.nj}).then(function(c){var d=b.Se;return U(d.F,"/billing/creditcards",Vb(new Ub({o:b.o,Do:c,Ib:a.gb?new Qb({lh:a.Vd,ya:a.gb,Ng:a.nj}):void 0,bo:!0}))).catch(yj).get(0).then(d.xq).get("creditCard").then(Mb).catch(d.kk,d.gk)})});e.pv=P.method(function(a){return this.Se.To(new Wb({Jh:a.id,Ib:new Qb({lh:a.Vd,ya:a.gb,Ng:a.nj})}))});
function Yj(a){if(!a)throw new rj;if(!(a.xd&&3<=a.xd.length&&4>=a.xd.length))throw new hj;if(!function(){var b=a.$f&&parseInt(a.$f,10);return b&&1<=b&&12>=b}())throw new ij;if(!a.ag||!parseInt(a.ag,10))throw new jj;if(!function(){var b=a.Od&&a.Od.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new kj;}
function Zj(a,b){if(a.Z.get(Vj)&&(!b.gb||"ZZ"==b.gb))throw new oj;var c;if(c=a.Z.get(Vj))c=hi(a.na),c=!(-1<Wj.indexOf(b.gb)?b.Vd&&b.Vd!=c:1);if(c)throw new pj;if(a.Z.get(Vj)&&-1<Wj.indexOf(b.gb)&&!b.nj)throw new qj;};function ak(a,b){if(b instanceof dj)return a.format("creditCardDeclined");if(b instanceof ej)return a.format("creditCardExpired");if(b instanceof fj)return a.format("creditCardCvcIncorrect");if(b instanceof gj)return a.format("creditCardNumberIncorrect");if(b instanceof hj)return a.format("creditCardCvcIncorrect");if(b instanceof ij)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof jj)return a.format("creditCardExpiryYearIncorrect");if(b instanceof kj)return a.format("creditCardNumberIncorrect");
if(b instanceof lj)return a.format("creditCardMissingButRequired");if(b instanceof mj)return a.format("creditCardProcessingError");if(b instanceof nj)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof rj)return a.format("creditCardNoCardEntered");if(b instanceof oj)return a.format("creditCardNoCountryEntered");if(b instanceof pj)return a.format("creditCardNoRegionEntered");if(b instanceof qj)return a.format("creditCardNoZipcodeEntered");if(b instanceof S&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function bk(a){return("YEARLY"===a.yc?1:12)*a.Ud}function ck(){this.Zk=window.pricingPlans}function dk(){var a=new ck,b=Map,c=[0,[cc(a.Zk.paidMonthly),cc(a.Zk.paidYearly)]],a=[cc(a.Zk.paidMonthlyImagesPro),cc(a.Zk.paidYearlyImagesPro)];return new b([c,[1,a]])};function ek(a){this.plan=a.Ge;this.title=a.title;this.pricePerMonthText=a.Du;this.summaryText=a.jv;this.billingCycleText=a.Bs}
function fk(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return bk(b)-bk(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.yc)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.yc)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.Ud/("YEARLY"===a.yc?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.yc?b.format("canvaForWorkUpgradePlanPercentSaving",((bk(d)-bk(a))/bk(d)*100).toFixed(0)/100):c(bk(a),"YEARLY");return new ek({Ge:a,title:g,Du:h,jv:k,Bs:"YEARLY"===a.yc?b.format("canvaForWorkUpgradePlanBilledYearly",a.Ud):""})})};function gk(){}gk=Backbone.View.extend({className:"priceOptions",tagName:"ul"});e=gk.prototype;e.initialize=function(a){this.He=a.He};e.events=function(){return{click:this.Ds}};e.render=function(){this.$el.html(this.He.map(this.Eu).join(""));return this};e.Ds=function(a){a=$(a.target).closest("li");hk(this,a.index())};
function hk(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.He.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.He[b].plan))}e.dl=function(){function a(a){switch(a.yc){case "MONTHLY":return a.Ud;case "YEARLY":return bk(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.He).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.He.indexOf(b[0]);hk(this,b)};
e.mo=function(a){this.He=a;this.render();this.dl()};e.Eu=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');
var ik=gk;function jk(a){soy.asserts.assertType(goog.isString(a.Kf)||a.Kf instanceof goog.soy.data.SanitizedContent,"billingError",a.Kf,"string|goog.soy.data.SanitizedContent");var b=a.Kf;soy.asserts.assertType(goog.isString(a.rh)||a.rh instanceof goog.soy.data.SanitizedContent,"tryAgain",a.rh,"string|goog.soy.data.SanitizedContent");a=a.rh;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function kk(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.Gj)||a.Gj instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.Gj,"string|goog.soy.data.SanitizedContent");var c=a.Gj;soy.asserts.assertType(goog.isString(a.Hj)||a.Hj instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.Hj,"string|goog.soy.data.SanitizedContent");
var d=a.Hj;soy.asserts.assertType(goog.isString(a.Ij)||a.Ij instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.Ij,"string|goog.soy.data.SanitizedContent");var f=a.Ij;soy.asserts.assertType(goog.isString(a.fh)||a.fh instanceof goog.soy.data.SanitizedContent,"startTrial",a.fh,"string|goog.soy.data.SanitizedContent");var g=a.fh;soy.asserts.assertType(goog.isString(a.Wg)||a.Wg instanceof goog.soy.data.SanitizedContent,"revertCard",a.Wg,"string|goog.soy.data.SanitizedContent");var h=
a.Wg;soy.asserts.assertType(goog.isString(a.Wf)||a.Wf instanceof goog.soy.data.SanitizedContent,"encryption",a.Wf,"string|goog.soy.data.SanitizedContent");var k=a.Wf;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.ug)||a.ug instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.ug,"string|goog.soy.data.SanitizedContent");a=a.ug;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(f)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function lk(){}lk=Backbone.View.extend({tagName:"ul",className:"textIconList"});lk.prototype.initialize=function(a){this.items=a.items};
lk.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.Ce)||1===a.Ce||0===a.Ce,"isHtml",a.Ce,"boolean");var d=!!a.Ce;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
lk.Ls=function(a){return new lk({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",Ce:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",Ce:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",Ce:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",Ce:!1}]})};var mk=lk;function nk(){}nk=Backbone.View.extend({className:"teamBillingSignup"});e=nk.prototype;e.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
e.initialize=function(a){this.compact=a.compact;this.Jj=a.Jj;this.Pg=a.Pg;this.listenTo(this.Pg,"selectPlan",this.trigger.bind(this,"selectPlan"));this.Fu=mk.Ls(Rh(a.i));this.Fb=a.Fb;this.i=a.i;this.qb=ai(a.i)};
e.render=function(){var a=moment().add(this.Fb,"days").format("LL"),b;b=this.i;b.Ho||(b.Ho=new xi(b.config));b=b.Ho;this.$el.html(kk({compact:this.compact,claim:this.qb.format("teamBillingSignupUpgrade",this.Fb),Gj:b.format("teamUpgradeCreateTrialPeriodPoint1V"),Hj:b.format("teamUpgradeCreateTrialPeriodPoint2V",a),Ij:b.format("teamUpgradeCreateTrialPeriodPoint3V"),Wf:this.qb.Wf(),ug:this.qb.ug(),Wg:this.qb.Wg(),fh:this.qb.fh()}).toString());this.compact||this.Fu.render().$el.appendTo(this.$(".teamBillingPromoItems"));
this.Pg.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.Jj.render();this.$(".teamBillingCreditCardContainer").prepend(this.Jj.$el);return this};e.dl=function(){this.Pg.dl()};e.Yd=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};e.dh=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function ok(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}e.Af=function(a){this.$el.toggleClass("enabled",a)};e.mo=function(a){this.Pg.mo(a)};
e.ko=function(a){this.$(".teamBillingClaim").text(a)};var pk=nk;function qk(a){this.j=a.j;this.vj=a.vj;this.ma=a.ma;this.o=a.o;this.vi=null;this.Wq=!1;this.Ka=null;this.me=a.me;this.listenTo(this.me,{input:this.Pt,requestSubmit:this.hd});this.rm=a.rm;this.Yg=null;this.yo=a.yo;this.Ul=a.Ul||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.rv,retry:this.nu,revert:this.ou,submit:this.hd})}e=qk.prototype;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;function rk(a,b){return bk(b)-bk(a)}e.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.dl();ok(this.view,!1);this.me.refresh()};e.remove=function(){this.stopListening();this.me.remove();this.view.remove()};e.Af=function(a){this.view.Af(a)};e.ko=function(a){this.view.ko(a)};
function sk(a){var b=a.o.g();a.Af(!1);(function(){return a.Ul?P.resolve(a.Ul):T(a.vj.F,"/billing/brands/"+encodeURIComponent(b)+"/account").catch(yj).get(0).then(q).then(Tb).catch(Dj,function(){return null})})().bind(a).then(function(a){a&&a.Nh&&(this.Ka=a.Nh,this.me.hl(this.rm).Ke(this.Ka))}).catch(function(){var a=this.view;a.$el.html(jk({Kf:a.qb.Kf(),rh:a.qb.rh()}).toString())}).finally(function(){this.Af(!0)})}
function tk(a){var b=Vf().md(a.o.g());a.ma.Uh(b).bind(a).then(function(a){this.vi=a.getCount();this.dh()}).catch(function(){this.Wq=!0;this.dh()})}
e.dh=function(){L(null!=this.Yg,"A plan must be selected");var a=ai(this.i);if(this.Wq)a=this.view,a.$(".teamBillingTotalText").text(a.qb.format("teamBillingSignupTotalPriceError"));else if(null!==this.vi)if(1===this.vi)this.view.dh();else{var b=this.Yg.Ud*this.vi;if("YEARLY"===this.Yg.yc)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Yg.yc)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.format("teamBillingSignupTotalPrice",this.vi,
b);this.view.dh(a)}};e.Pt=function(a){this.Ka&&ok(this.view,a)};e.nu=function(){sk(this)};e.ou=function(){this.Ka&&(this.me.Ke(this.Ka),ok(this.view,!1))};
e.hd=function(){this.Af(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.me.ht().bind(this).then(function(){this.j.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.yo){var a=this.vj,b=new ic({o:this.o.g(),Ge:this.Yg.id});Za(b.o,"brand required");return U(a.F,"/billing/brands/"+b.o+"/subscription",jc(b)).catch(yj).get(0).then(nc).catch(a.kk,a.gk)}}).then(function(a){this.trigger("signup",a)}).catch(S,function(a){this.j.track("upgrade_onboarding_card_error",
{message:a.message});a=ak(Th(this.i),a);this.view.Yd(a)}).catch(function(){this.view.Yd("An error occured while trying to subscribe")}).finally(function(){this.Af(!0)});this.j.track("upgrade_onboarding_card_submit")};e.rv=function(a){this.Yg=a;this.dh()};function uk(a){this.l=a.l;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(vk(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.oj=""}e=uk.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function vk(a){switch(a){case wk:return"modalContentBlurAndDarken";case xk:return"modalContentDarken";case yk:return"modalContentClear";case zk:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.oj).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.l.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");ah(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",vk(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.oj+=c+" ")});$("body").addClass(this.oj)}.bind(this))};
var wk="BLUR_AND_DARKEN",xk="DARKEN",yk="CLEAR",zk="NONE";function Ak(){}Ak=Backbone.View.extend({className:"multipageDialog"});e=Ak.prototype;e.initialize=function(a){this.l=$g;this.Mj=0;this.Yj=a.Yj||[];this.Ac=void 0===a.Ac||a.Ac;this.fc=!!a.fc;this.Dg=new uk({l:this.l,style:wk});this.Jc=a.Jc;this.Jc.forEach(function(a){this.listenTo(a,"next",this.dv);this.listenTo(a,"back",this.ev)},this)};e.events=function(){return{click:this.sf,"click .dialogMaskCloseButton":this.hide}};
e.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Dg.hide();this.l.setTimeout(function(){this.trigger("hide")}.bind(this),300)};e.sf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Ac&&this.hide()};
e.render=function(){var a=this;(function(){a.Yj.forEach(function(b){a.$el.addClass(b)})})();(function(){a.Jc.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.fc&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.Jc.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();Bk(this,this.Mj);return this};
e.show=function(){this.$el.addClass("multipageDialogAppearing");this.Dg.show(this.render().$el);this.l.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};e.dv=function(){var a=this.Mj+1;a>=this.Jc.length?this.hide():Bk(this,a)};e.ev=function(){var a=this.Mj-1;0>a?this.hide():Bk(this,a)};
function Bk(a,b){a.trigger("pageChange",a.Jc[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Mj=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")}var Ck=Ak;function Dk(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");var g=a.u;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var r=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var w=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var G=null==(b=w)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(G)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==w?" disabled":"")+(r?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=w?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(G)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function Ek(a){a=a||{};soy.asserts.assertType(null==a.H||a.H instanceof goog.soy.data.SanitizedContent||goog.isString(a.H),"cssClass",a.H,"null|string|undefined");var b=a.H;soy.asserts.assertType(null==a.jc||goog.isBoolean(a.jc)||1===a.jc||0===a.jc,"withStar",a.jc,"boolean|null|undefined");a=a.jc;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function Fk(a){a=a||{};soy.asserts.assertType(null==a.H||a.H instanceof goog.soy.data.SanitizedContent||goog.isString(a.H),"cssClass",a.H,"null|string|undefined");var b=a.H;soy.asserts.assertType(null==a.jc||goog.isBoolean(a.jc)||1===a.jc||0===a.jc,"withStar",a.jc,"boolean|null|undefined");a=a.jc;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function Gk(){var a={H:"designFolderHeader__cogIcon"},a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.H||a.H instanceof goog.soy.data.SanitizedContent||goog.isString(a.H),"cssClass",a.H,"null|string|undefined");a=a.H;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' fill\x3d"'+soy.$$escapeHtmlAttribute(null==
b?"#FFF":b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 16 16"\x3e\x3cpath d\x3d"M15.2 12.1l.8-2-.9-.8c-.4-.3-.6-.8-.6-1.3s.2-.9.6-1.3l.9-.9-.9-2-1.3.1c-.5 0-1-.2-1.3-.5-.3-.3-.5-.8-.5-1.3l.1-1.3-2-.8-.9.9c-.3.4-.7.6-1.2.6S7 1.3 6.7 1l-.9-1-2 .9.1 1.3c0 .5-.2 1-.5 1.3-.3.3-.8.5-1.3.4H.8l-.8 2 .9.8c.4.4.6.8.6 1.3S1.3 9 1 9.3l-1 .9.9 2h.4c.6 0 1.6.2 2.2.4.3.3.5.8.5 1.3l-.1 1.3 2 .8.8-.9c.3-.4.8-.6 1.3-.6s.9.2 1.3.6l.9.9 2-.9-.1-1.3c0-.5.2-1 .5-1.3.3-.3.8-.5 1.3-.5l1.3.1zm-7.9-.6C4.8 11 3.7 8.2 5 6c.8-1.2 2.2-1.8 3.6-1.5 2.6.5 3.7 3.3 2.4 5.5-.8 1.2-2.3 1.8-3.7 1.5z"/\x3e\x3c/svg\x3e')}
function Hk(){var a={H:"designFolderHeader__viewOnlyIcon"},a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.H||a.H instanceof goog.soy.data.SanitizedContent||goog.isString(a.H),"cssClass",a.H,"null|string|undefined");a=a.H;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' fill\x3d"'+
soy.$$escapeHtmlAttribute(null==b?"#FFF":b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 18 12"\x3e\x3cpath fill-rule\x3d"evenodd" d\x3d"M9 12c5 0 9-6 9-6s-4-6-9-6-9 6-9 6 4 6 9 6zm0-2c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-2c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z"/\x3e\x3c/svg\x3e')};function Ik(a){soy.asserts.assertType(a.Zi instanceof soydata.SanitizedHtml||a.Zi instanceof soydata.UnsanitizedText||goog.isString(a.Zi),"titleHtml",a.Zi,"soydata.SanitizedHtml");var b=a.Zi;soy.asserts.assertType(goog.isString(a.Bg)||a.Bg instanceof goog.soy.data.SanitizedContent,"memberLabel",a.Bg,"string|goog.soy.data.SanitizedContent");var c=a.Bg;soy.asserts.assertType(goog.isString(a.Ak)||a.Ak instanceof goog.soy.data.SanitizedContent,"okButton",a.Ak,"string|goog.soy.data.SanitizedContent");
a=a.Ak;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+Dk({u:"upgradeDialogMember__button",text:a}))}
function Jk(a){a=goog.asserts.assertArray(a.Hb,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++){var f=a[d],g;g=g={H:"upgradeDialogFeaturePromoBenefit__icon"};soy.asserts.assertType(null==g.H||g.H instanceof goog.soy.data.SanitizedContent||goog.isString(g.H),"cssClass",g.H,"null|string|undefined");g=g.H;g=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(g?'class\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e');b+='\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+g+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+
soy.$$escapeHtml(f)+"\x3c/span\x3e\x3c/li\x3e"}b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function Kk(a){soy.asserts.assertType(goog.isString(a.xk)||a.xk instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.xk,"string|goog.soy.data.SanitizedContent");var b=a.xk;soy.asserts.assertType(goog.isString(a.wk)||a.wk instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.wk,"string|goog.soy.data.SanitizedContent");var c=a.wk;soy.asserts.assertType(goog.isString(a.Vj)||a.Vj instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.Vj,"string|goog.soy.data.SanitizedContent");
var d=a.Vj;soy.asserts.assertType(goog.isString(a.Uj)||a.Uj instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.Uj,"string|goog.soy.data.SanitizedContent");var f=a.Uj;soy.asserts.assertType(goog.isString(a.Cl)||a.Cl instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.Cl,"string|goog.soy.data.SanitizedContent");var g=a.Cl;soy.asserts.assertType(goog.isString(a.Bl)||a.Bl instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.Bl,"string|goog.soy.data.SanitizedContent");
a=a.Bl;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(f)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};function Lk(){}Lk=Backbone.View.extend({className:"promotion"});Lk.prototype.initialize=function(a){this.model=a.model};Lk.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.Lc)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
Lk.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.Nb instanceof soydata.SanitizedHtml||a.Nb instanceof soydata.UnsanitizedText||goog.isString(a.Nb),"headingHtml",a.Nb,"soydata.SanitizedHtml");var b=a.Nb;soy.asserts.assertType(goog.isString(a.$b)||a.$b instanceof goog.soy.data.SanitizedContent,"imageUrl",a.$b,"string|goog.soy.data.SanitizedContent");var c=a.$b;soy.asserts.assertType(goog.isString(a.rb)||a.rb instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.rb,"string|goog.soy.data.SanitizedContent");
var d=a.rb;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var f=a.body;soy.asserts.assertType(null==a.jk||a.jk instanceof goog.soy.data.SanitizedContent||goog.isString(a.jk),"imageAlt",a.jk,"null|string|undefined");var g=a.jk;soy.asserts.assertType(null==a.Hb||goog.isArray(a.Hb),"benefitList",a.Hb,"?Array\x3cstring\x3e|undefined");var h=a.Hb;soy.asserts.assertType(null==a.Zh||a.Zh instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Zh),"footerLink",a.Zh,"null|string|undefined");var k=a.Zh,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(f?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(f)+"\x3c/p\x3e":"")+(h?Jk(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+Dk({u:"upgradeDialogFeaturePromo__button",
text:d})+(k?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};var Mk=Lk;function Nk(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.v=a.v}n(Nk,Backbone.View);Nk.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};Nk.prototype.render=function(){this.$el.html(Ik({Zi:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.v.format("canvaForWorkUpgradeMemberTitleHtml")),Bg:this.v.Bg(),Ak:this.v.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};var Ok={Av:"edit",Hv:"remix",Iv:"render",Kv:"screen",Lv:"share",Ov:"view"};function Pk(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function Qk(a){a=a.split("?")[0].split("/").pop();for(var b=Object.keys(Ok).map(function(a){return Ok[a]}),c=0;c<b.length;c++){var d=b[c];if(a===d)return d}return null}
function Rk(a){return Pk(a,"view",null)+"?"+["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26")}
function Sk(a){var b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.Df&&(b+="\x26units\x3d"+encodeURIComponent(String(a.Df)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));null!=a.Wd&&(b+="\x26schema\x3d"+encodeURIComponent(String(a.Wd)));return b};function Tk(a){return Uk("homepage",a.Te,a.feature)}function Vk(a){return Uk("editor",a.Te,a.feature)}function Wk(a,b,c){return O(O(O(O(O(new zh("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function Uk(a,b,c){return O(O(O(O(new zh("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function Xk(){}function Yk(){var a=p(Xk,window.clientInfo),b;b=p(Zk,a.brandInfo);b.brand=wf(b.brand);b.subscription&&(b.subscription=bc(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=p($k,a.user);b.avatar&&(b.avatar=pb(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Zk(){}Zk.prototype.ia=function(){return this.brand};Zk.prototype.getSubscription=function(){return this.subscription||null};function $k(){}e=$k.prototype;e.g=function(){return this.id};e.rq=function(){return this.avatar};
e.ad=function(){return this.email};e.jb=function(){return this.username};e.ua=function(){return this.displayName};e.jg=function(){return this.roles};e.kf=function(){return this.personalBrand};e.xe=function(){return this.locale};e.Sm=function(){return this.country};e.wq=function(){return this.preferredHomepage};e.$i=function(){return yf({id:this.g(),username:this.jb(),personalBrand:this.kf(),displayName:this.ua(),avatar:nb(this.rq()),roles:this.jg(),countryCode:this.Sm(),locale:this.xe()})};function al(a){this.Ra=a.Ra;this.eh=void 0;this.Oa=null;this.Fb=a.Fb||0;this.Ac=void 0===a.Ac||a.Ac;this.Bj=void 0===a.Bj||a.Bj;this.fc=void 0===a.fc||a.fc;this.j=a.j;this.Zs=_.once(function(){sk(a.Ra);tk(a.Ra)});this.Ra.once("signup",this.su.bind(this));this.v=a.Eh;this.qb=a.qb;this.Te=a.Te;this.Xn=a.Xn;this.Un=a.Un;this.Lc=a.ot}e=al.prototype;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenToOnce;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.remove=function(){this.Oa&&this.Oa.remove()};
e.show=function(a){var b=this;if(this.Te){var c=bl(this,this.Ra,a||7);c.on("next",function(c){var f=/\/design\//.test(location.pathname)?Wk("editor",a,c):Wk("homepage",a,c),g=b.Ra,h=b.Un.get(c),h=fk(h.sort(rk),Rh(g.i));g.view.mo(h);b.eh&&1===c&&(b.eh.$el.addClass("upgradeDialogSignup--imagesPro"),b.Ra.ko(b.qb.format("teamBillingSignupUpgradeImagesPro",b.Fb)));b.j.xc(f)});c.on("footerLinkClicked",function(){return cl(b)});this.eh=new Backbone.View({className:"upgradeDialogSignup"});this.Oa=new Ck({Yj:["upgradeDialog"],
Ac:this.Ac,fc:this.fc,Jc:[c,this.eh]});this.Oa.on("hide",function(){b.Oa.remove();b.Oa=null;b.Ra.remove();b.trigger("hide")});this.Zs();this.Oa.show();dl(this);this.Ra.appendTo(this.eh.$el);this.eh.$el.append(Kk({xk:this.v.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),wk:this.v.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),Vj:this.v.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),Uj:this.v.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),Cl:this.v.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
Bl:this.v.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else el(this)};function el(a){var b=new Nk({v:a.v});a.Oa=new Ck({Yj:["upgradeDialog"],Ac:a.Ac,fc:a.fc,Jc:[b]});a.Oa.on("hide",function(){a.Oa.remove();a.Oa=null;a.trigger("hide")});a.Oa.show();dl(a)}function cl(a){a.once("hide",function(){return a.show(7)});a.Oa.hide()}e.su=function(){this.Bj&&this.Oa&&this.Oa.remove();this.trigger("signup")};
function dl(a){/\/design\//.test(location.pathname)?a.j&&a.j.xc(Vk(a.Te)):a.j&&a.j.xc(Tk(a.Te))}
function bl(a,b,c){var d=a.v.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});case 2:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Hb:[ri(a.v),qi(a.v),ni(a.v),pi(a.v)],
Lc:0}});case 4:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});case 3:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});case 6:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),
body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});case 8:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});case 9:return new Mk({Ra:b,model:{rb:d,Nb:ri(a.v),body:mi(a.v),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Hb:[qi(a.v),ni(a.v),oi(a.v),pi(a.v)],Lc:0}});
case 12:return new Mk({Ra:b,model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.v.format("canvaForWorkFeatureUpgradeAnimatorBody"),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",Hb:[a.v.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.v.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.v.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.v.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],Lc:0}});case 10:case 11:c=a.v.Yb("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",
4E5);var f=a.v.format("canvaForWorkFeatureUpgradeImagesProBody"),g;g=a.v.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new Mk({Ra:b,model:{rb:d,Nb:c,body:f,$b:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Hb:[g,a.v.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.v.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.v.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],Lc:1,Zh:a.v.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case 0:case 1:case 7:return new Mk({Ra:b,
model:{rb:d,Nb:a.v.Yb("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.v.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),$b:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Hb:[ri(a.v),qi(a.v),oi(a.v),pi(a.v)],Lc:0}});default:throw Error("Not a recognised feature: "+c);}};function fl(a){this.F=a;this.url="/folders"}e=fl.prototype;e.mm=P.method(function(a){return U(this.F,this.url+"/~",a).get(0).then(Ng)});e.Vh=P.method(function(a){a=this.url+"/~?"+a.Oo();return T(this.F,a).get(0).then(Ig)});e.ba=P.method(function(a){var b=a.Oo();a=""+this.Fa(a.ba())+(b?"?"+b:"");return T(this.F,a).get(0).then(Fg)});e.Fa=function(a){var b=a.lg();return b?[this.url,"~/system",b.R(),b.Zb()].join("/"):[this.url,a.g()].join("/")};
e.Iu=P.method(function(a){var b=this.Fa(a.ba())+"?removeItems";return U(this.F,b,a).return()});e.pf=P.method(function(a){a=this.Fa(a.ba())+"?list\x26"+a.oh();return T(this.F,a).get(0).then(Bg)});P.method(function(a){var b=this.Fa(a.from)+"?moveItems";return U(this.F,b,a).return()});fl.prototype.Hl=P.method(function(a){var b;if(a.ba().lg())throw Error("System folders cannot be updated");b=this.url+"/"+a.ba().g();return U(this.F,b,a).get(0).then(dg)});function gl(a,b){var c=a.bd()&&a.bd().starred,d=b.bd()&&b.bd().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function hl(a){this.vb=a.vb;this.ue=a.ue;this.Pa=!1;this.Mm=new Map;this.Ta=a.Ta;this.Aa=a.Aa;this.Xb=a.Xb}e=hl.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;var il=new R("fi",!0);function jl(a){var b=new kl({ds:function(a,b){return a.Xe(b)}}),c=new kl({ds:function(a,b){return Object.assign({},a,b)}});return new hl({vb:b,ue:c,Ta:a.Ta,Xb:a.Z.get(il),Aa:a.Aa})}e=hl.prototype;
e.fetch=function(){function a(a){var b;if(b=a instanceof Array)a=a[1],b=500<=a&&600>a;return b}var b=this;this.Pa||(this.Pa=!0,this.trigger("fetch:start"),this.Vh([]).bind(this).then(this.Bb).catch(a,this.$t).catch(function(a){b.Jn();throw a;}))};e.Vh=function(a,b){var c=this,d=Kg().Ol().od(100).mj(this.Aa);b&&d.nd(b);return this.Ta.Vh(d).then(function(b){var d=a.concat(b.Da()||[]);return(b=b.ea())?c.Vh(d,b):P.resolve(d)})};
function ll(a,b){var c=b.g();if(!a.Mm.has(c)){a.Mm.set(c,!0);var d=(new Gg).jj(["ACCESS_SUMMARY"]).Qc(bg(b));a.Ta.ba(d).then(function(b){var c=b.ba(),d=c.g();K(null!=c,"GetFolderResponseLegacy did not include a folder");c=a.vb.update(d,c);b=a.ue.update(d,{wh:b.Qm()});a.trigger("change:success","metadata",c,b)}).catch(function(c){a.trigger("change:fail","metadata",b);throw c;}).finally(function(){return a.Mm.delete(c)});a.trigger("change:start","metadata",b)}}e.Da=function(){return Object.freeze(this.vb.getAll().sort(gl))};
e.ba=function(a){return this.vb.get(a)};function ml(a,b){return a.ue.has(b)?a.ue.get(b):null}function nl(a,b){var c={ns:[],Rn:0};if(!a.Xb)return c;var d=a.ba(b);if(!d.shared)return c;b=ml(a,b);if(!b||!b.wh)return ll(a,d),c;if(!b.wh.Tb.length)return c;a=b.wh.Tb.map(function(a){return{Ja:a.ek(),name:a.ua()}});c=b.wh.Sn;return{ns:a,Rn:c&&1<c?c-1:0}}e.Bb=function(a){var b=this;a.forEach(function(a){return b.vb.update(a.g(),a)});this.Pa=!1;this.trigger("fetch:success",this.Da())};
function ol(a){var b=eg(window.homeConfig.initialFolder);L(0===a.vb.size,"cannot load initial folder when DFM has already fetched folders");a.vb.add(b.g(),b);a.trigger("fetch:success",a.Da())}e.Jn=function(){this.Pa=!1;this.trigger("fetch:fail",!1)};e.$t=function(){this.Pa=!1;this.trigger("fetch:fail",!0)};
e.create=function(a){var b=this;a=Pg((new Og).Yo(a));var c=_.uniqueId("CREATE_");this.Ta.mm(a).then(this.Lt.bind(this,c)).catch(function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error},this.Zq.bind(this,c,"quota exceeded")).catch(function(a){b.Zq(c,a);throw a;});P.resolve().then(this.trigger.bind(this,"create:start",c));return c};e.Lt=function(a,b){b=b.ba();this.vb.add(b.g(),b);this.trigger("create:success",a,b)};e.Zq=function(a,b){this.trigger("create:fail",a,b)};
e.delete=function(a){var b=this;K(this.vb.has(a.g()),"attempting to delete unknown folder");var c=ug((new tg).Qc(bg(a)));this.Ta.Hl(c).bind(this).then(this.St).catch(function(c){b.Hn(a);throw c;});this.trigger("delete:start",a)};e.St=function(a){a=a.ba();var b=a.g();this.vb.delete(b);this.ue.has(b)&&this.ue.delete(b);this.trigger("delete:success",a)};e.Hn=function(a){this.trigger("delete:fail",a)};e.zq=function(a){var b=a.ba(),c=b.g();this.ue.update(c,{wh:a.Qm()});return this.vb.update(c,b)};
function pl(a,b,c){K(a.vb.has(c.g()),"attempting to add item to unknown folder");var d=vg((new tg).Qc(bg(c)),[Object.freeze(p(wg,{id:b.g(),type:"DESIGN"}))]);a.Ta.Hl(d).bind(a).then(a.zq).then(a.Dt.bind(a,b,c)).catch(function(d){a.trigger("addToFolder:fail",b,c);throw d;});a.trigger("addToFolder:start",b,c)}e.Dt=function(a,b){this.trigger("addToFolder:success",a,b)};
e.$n=function(a,b){var c=this;K(this.vb.has(b.g()),"attempting to remove item from unknown folder");var d=(new Yf).Xo([a.g()]).Qc(bg(b));this.Ta.Iu(d).bind(this).then(this.Mn.bind(this,a,b)).catch(function(d){c.Nn(a,b);throw d;});this.trigger("removeFromFolder:start",a,b)};e.Mn=function(a,b){this.trigger("removeFromFolder:success",a,b)};e.Nn=function(a,b){this.trigger("removeFromFolder:fail",a,b)};
e.change=function(a,b,c){var d=this;K(this.vb.has(b.g()),"attempting to change unknown folder");var f=(new tg).Qc(bg(b));if("name"===a)f.Yo(c);else if("description"===a)f.description=c;else if("acl"===a)f.acl=c;else if("userSettings"===a)f.Ol(c);else{if("metadata"===a)throw Error("not an actionable change");throw Error("unrecognised change type");}this.Ta.Hl(f).bind(this).then(this.zq).then(this.Bk.bind(this,a,b,c)).catch(function(f){d.Cn(a,b,c);throw f;});this.trigger("change:start",a,b,c)};
e.Bk=function(a,b,c,d){if("acl"===a){if(!d.ve())throw Error("returned folder does not have an ACL field");c=d.ve()}this.trigger("change:success",a,d,c)};e.Cn=function(a,b,c){this.trigger("change:fail",a,b,c)};function kl(a){this.map=new Map;this.sv=a.ds}e=kl.prototype;e.clear=function(){this.map.clear()};e.has=function(a){return this.map.has(a)};e.set=function(a,b){this.map.set(a,b);return b};
e.add=function(a,b){K(!this.has(a),"Can not add {} - item is already being managed",a);return this.set(a,b)};e.update=function(a,b){return this.has(a)?this.set(a,this.sv(this.map.get(a),b)):this.add(a,b)};e.delete=function(a){K(this.has(a),"Can not delete {} - item is not being managed",a);return this.map.delete(a)};e.get=function(a){K(this.has(a),"Can not get {} - item is not being managed",a);return this.map.get(a)};e.getAll=function(){return Array.from(this.map.values())};
Object.defineProperties(kl.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.map.size}}});function ql(a){soy.asserts.assertType(goog.isString(a.Fg)||a.Fg instanceof goog.soy.data.SanitizedContent,"newFolder",a.Fg,"string|goog.soy.data.SanitizedContent");var b=a.Fg;soy.asserts.assertType(goog.isString(a.ig)||a.ig instanceof goog.soy.data.SanitizedContent,"getMoreFolders",a.ig,"string|goog.soy.data.SanitizedContent");var c=a.ig;soy.asserts.assertType(goog.isString(a.eg)||a.eg instanceof goog.soy.data.SanitizedContent,"folderQuotaHint",a.eg,"string|goog.soy.data.SanitizedContent");var d=
a.eg;soy.asserts.assertType(goog.isBoolean(a.Ri)||1===a.Ri||0===a.Ri,"showQuota",a.Ri,"boolean");var f=!!a.Ri;soy.asserts.assertType(goog.isNumber(a.sm),"currentCount",a.sm,"number");var g=a.sm;soy.asserts.assertType(goog.isNumber(a.wn),"maxCount",a.wn,"number");a=a.wn;var h=f&&g>=a,k='\x3cmenu class\x3d"sidebarMenu"\x3e\x3cli class\x3d"noTab noHover"\x3e\x3cbutton type\x3d"button" class\x3d"buttonSmall buttonCreateFolder buttonCreateFolder--'+soy.$$escapeHtmlAttribute(h?"getMore":"create")+'"\x3e',
l;l=l={H:"buttonCreateFolder__icon"};soy.asserts.assertType(null==l.H||l.H instanceof goog.soy.data.SanitizedContent||goog.isString(l.H),"cssClass",l.H,"null|string|undefined");l=l.H;l=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(l?'class\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e');
b=""+(k+l+'\x3cspan class\x3d"buttonCreateFolder__title"\x3e'+soy.$$escapeHtml(h?c:b)+"\x3c/span\x3e\x3c/button\x3e"+(f?'\x3cspan class\x3d"designFolderList__quotaLabel sidebar__pill '+(g==a?"sidebar__pill--red":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(g)+"/"+soy.$$escapeHtml(a)+"\x3c/span\x3e":"")+"\x3c/li\x3e\x3c/menu\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function rl(a){soy.asserts.assertType(goog.isString(a.tk)||a.tk instanceof goog.soy.data.SanitizedContent,"loadingText",a.tk,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListLoading"\x3e'+soy.$$escapeHtml(a.tk)+"\x3c/div\x3e")}goog.DEBUG&&(rl.pl="DesignFolderListTemplates.loading");
function sl(a){soy.asserts.assertType(goog.isString(a.Yf)||a.Yf instanceof goog.soy.data.SanitizedContent,"errorMessageHtml",a.Yf,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListError"\x3e\x3cp\x3e'+soy.$$escapeHtml(a.Yf)+"\x3c/p\x3e\x3c/div\x3e")}goog.DEBUG&&(sl.pl="DesignFolderListTemplates.error");
function tl(a){soy.asserts.assertType(goog.isString(a.dc)||a.dc instanceof goog.soy.data.SanitizedContent,"retry",a.dc,"string|goog.soy.data.SanitizedContent");var b=a.dc;soy.asserts.assertType(goog.isString(a.zg)||a.zg instanceof goog.soy.data.SanitizedContent,"loadFolders",a.zg,"string|goog.soy.data.SanitizedContent");a=a.zg;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListRetry"\x3e\x3cp\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+Dk({u:"buttonRetry",
text:a})+"\x3c/div\x3e")}goog.DEBUG&&(tl.pl="DesignFolderListTemplates.retry");
function ul(a){soy.asserts.assertType(goog.isString(a.te)||a.te instanceof goog.soy.data.SanitizedContent,"folderId",a.te,"string|goog.soy.data.SanitizedContent");var b=a.te;soy.asserts.assertType(goog.isString(a.hf)||a.hf instanceof goog.soy.data.SanitizedContent,"folderName",a.hf,"string|goog.soy.data.SanitizedContent");var c=a.hf;soy.asserts.assertType(goog.isString(a.link)||a.link instanceof goog.soy.data.SanitizedContent,"link",a.link,"string|goog.soy.data.SanitizedContent");var d=a.link;soy.asserts.assertType(goog.isString(a.yd)||
a.yd instanceof goog.soy.data.SanitizedContent,"defaultName",a.yd,"string|goog.soy.data.SanitizedContent");var f=a.yd;soy.asserts.assertType(goog.isBoolean(a.$g)||1===a.$g||0===a.$g,"shared",a.$g,"boolean");var g=!!a.$g;soy.asserts.assertType(goog.isBoolean(a.hc)||1===a.hc||0===a.hc,"starred",a.hc,"boolean");a=!!a.hc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"sidebarMenuLink designFolder__link" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" data-folder-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(g?Fk({H:"designFolder__icon",jc:a}):Ek({H:"designFolder__icon",jc:a}))+'\x3cspan class\x3d"designFolder__title"\x3e'+soy.$$escapeHtml(c)+'\x3c/span\x3e\x3c/a\x3e\x3cinput type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(f)+'" maxlength\x3d"255" value\x3d"'+soy.$$escapeHtmlAttribute(c)+'" /\x3e')};function vl(a){return"folder-"===a.substr(0,7)};function wl(a){Backbone.View.call(this,{className:"designFolder",tagName:"li"});this.model=a.C;this.wi=!1;this.fa=a.fa}n(wl,Backbone.View);wl.prototype.events=function(){var a=this;return{"blur input":function(){a.wi&&(a.wi=!1,xl(a))},"focus input":function(){a.wi=!0},"keydown input":function(b){27===b.which&&a.$("input").blur()},"keypress input":function(b){13===b.which&&xl(a)}}};
wl.prototype.render=function(){var a=this.model.getName()||this.fa.yd(),b=this.model.g();this.$el.html(ul({te:b,hf:a,yd:this.fa.yd(),link:"/folder/"+b,$g:!!this.model.shared,hc:!(!this.model.bd()||!this.model.bd().starred)}).toString());return this};wl.prototype.Po=function(a){this.$el.toggleClass("disabled",!a)};function yl(a,b){a.wi=!1;a.$el.toggleClass("naming",b);b&&(a.$("input").select().focus(),a.wi=!0)}wl.prototype.ph=function(a){this.$el.toggleClass("hidden",!a)};
function xl(a){var b=a.$("input").val().trim()||a.fa.yd();a.$("a").text(b);a.trigger("name",a.model,b)};function zl(a){Backbone.View.call(this,_.extend(a,{className:"designFolderList"}))}n(zl,Backbone.View);e=zl.prototype;e.events=function(){var a=this;return{"click .buttonCreateFolder--create":function(){a.trigger("add")},"click .buttonCreateFolder--getMore":function(){a.trigger("clickGetMoreFolders")},"click .buttonRetry":function(){a.trigger("retry")},"click .designFolder .designFolder__link":this.Gt,"click .designFolderList__quotaLabel":function(){return a.trigger("clickQuota")}}};
e.initialize=function(a){this.nm=a.nm;this.mc={};this.fa=a.fa;this.Ag=null!==a.Ag?a.Ag:-1};e.render=function(){Object.keys(this.mc).forEach(function(a){var b=this.mc[a];this.stopListening(b);b.remove();delete this.mc[a]},this);this.$el.html(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"sidebarMenu"\x3e\x3c/menu\x3e\x3cmenu class\x3d"designFolderListMenu sidebarMenu"\x3e\x3c/menu\x3e').toString());Al(this);return this};
function Al(a){var b=Object.keys(a.mc).length;a.$("menu:first-child").replaceWith(ql({Fg:a.fa.Fg(),ig:a.fa.ig(),eg:a.fa.eg(a.Ag),Ri:-1!==a.Ag,sm:b,wn:a.Ag}).toString())}e.Hl=function(a,b){var c=Bl(this,a);delete this.mc[a.g()];this.mc[b.g()]=c;c.model=b;c.render()};e.Xh=function(a){var b=Bl(this,a).el;b.classList.add("flashFolder");P.delay(800).then(function(){b.classList.remove("flashFolder")})};
e.rd=function(a,b){var c=this,d=this.nm(a),f=this.$(".designFolderListMenu"),g=d.render().$el;b?g.prependTo(f):g.appendTo(f);this.mc[a.g()]=d;this.listenTo(d,{create:function(a,b){return c.trigger("create",a,b)},name:function(a,b){return c.trigger("name",a,b)}});Al(this)};function Cl(a){Object.keys(a.mc).forEach(function(b){return Dl(a,eg({id:b}))})}function Dl(a,b){var c=Bl(a,b);a.stopListening(c);c.remove();delete a.mc[b.g()];Al(a)}
function El(a,b){Fl(a,{Jo:rl,Ko:{tk:a.fa.format("designFolderListLoadingFolders")},yn:"designFolderListLoading",Lm:"loading",visible:b})}e.bj=function(a){Fl(this,{Jo:sl,Ko:{Yf:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.fa.Yf())},yn:"designFolderListError",Lm:"error",visible:a})};function Gl(a,b){Fl(a,{Jo:tl,Ko:{dc:a.fa.dc(),zg:a.fa.zg()},yn:"designFolderListRetry",Lm:"retry",visible:b})}e.select=function(a){a=Bl(this,a);Hl(this)!==a&&(Il(this),a.$el.toggleClass("selected",!0))};
function Il(a){(a=Hl(a))&&a.$el.toggleClass("selected",!1)}function Bl(a,b){if(a=a.mc[b.g()])return a;throw Error("no view for folder: "+b.g());}function Hl(a){var b;_.values(a.mc).some(function(a){if(a.$el.hasClass("selected"))return b=a,!0});return b||null}function Jl(a){return(a=Hl(a))&&a.model}function Fl(a,b){var c=a.$("."+b.yn);a.$el.toggleClass(b.Lm,b.visible);b.visible&&0===c.length?(b=b.Jo(b.Ko).toString(),a.$el.append(b)):b.visible||c.remove()}
e.Gt=function(a){a=$(a.currentTarget).attr("data-folder-id");a=this.mc[a];Hl(this)!==a&&(Il(this),a.$el.toggleClass("selected",!0))};function Kl(a){var b=this;this.qm=a.qm;this.w=a.w;this.listenTo(this.w,{"fetch:start":this.au,"fetch:success":this.bu,"fetch:fail":this.Jn,"create:start":this.Nt,"create:success":this.Ot,"create:fail":this.Mt,"delete:start":this.Wt,"delete:success":this.Xt,"change:success":this.Dn});this.dj={};this.fa=a.fa;this.j=a.j;this.view=a.view;this.listenTo(this.view,{add:this.As,clickGetMoreFolders:this.Cs,clickQuota:this.Es,name:function(a,d){return b.mm(a,d)},retry:this.w.fetch})}e=Kl.prototype;
e.au=function(){this.view.bj(!1);Gl(this.view,!1);El(this.view,!0)};e.bu=function(a){var b=this;El(this.view,!1);var c=Hl(this.view);Cl(this.view);a.forEach(function(a){return b.view.rd(a)});c&&this.view.select(c.model)};e.Jn=function(a){El(this.view,!1);a?Gl(this.view,!0):this.view.bj(!0)};e.Es=function(){yh(this.j,"quota_label","homepage","design_folder","design_folder_list");Ll(this)};
function Ll(a){var b=a.qm();a.listenTo(b,{signup:function(){return window.location=b.Xn},hide:function(){return a.stopListening(b)}});b.show(5)}e.As=function(){var a=eg({id:_.uniqueId("fake_"),name:this.fa.yd()});yh(this.j,"create_folder","homepage","design_folder","design_folder_list");this.view.rd(a,!0);yl(Bl(this.view,a),!0)};e.Cs=function(){this.j.xc(O(O(O(new zh("upgrade_cta_clicked"),"section","homepage"),"subsection","sidebar"),"location","get_more_folders"));Ll(this)};
e.mm=function(a,b){b=this.w.create(b);this.dj[b]=a};e.Nt=function(a){if(a=this.dj[a])yl(Bl(this.view,a),!1),Bl(this.view,a).Po(!1)};e.Ot=function(a){var b=this;delete this.dj[a];Cl(this.view);this.w.Da().forEach(function(a){return b.view.rd(a)})};e.Mt=function(a,b){var c=this.dj[a];c&&(delete this.dj[a],a="quota exceeded"===b?this.fa.format("designFolderListCreateFolderQuotaExceededError"):this.fa.format("designFolderListCreateFolderError"),window.alert(a),Dl(this.view,c))};
e.Wt=function(a){Bl(this.view,a).ph(!1)};e.Xt=function(a){Dl(this.view,a)};e.Dn=function(a,b){var c=this;"name"===a||"userSettings"===a?(b=Jl(this.view),Cl(this.view),this.w.Da().forEach(function(a){return c.view.rd(a)}),b&&this.view.select(b)):"acl"===a&&(a=Bl(this.view,b),a.model=b,a.render())};e.di=function(){var a=this;return this.w.Da().filter(function(a){return lg(a,og)}).map(function(b){return new Wg(Bl(a.view,b).el,b)})};
function Ml(a,b){a.w.Da().forEach(function(c){lg(c,og)||Bl(a.view,c).$el.toggleClass("dndDimmed",b)})}e.Xh=function(a){this.view.Xh(a)};e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;function Nl(a){this.el=a.el;this.l=a.l;this.Wo=a.Wo}Nl.prototype.di=function(){return[new Wg(this.el,this.Wo)]};Nl.prototype.Xh=function(){var a=this;this.el.classList.add("flashFolder");this.l.setTimeout(function(){return a.el.classList.remove("flashFolder")},800)};function Ol(a){bh.call(this,{body:a.body,Ti:a.Wi,mh:a.mh,delegate:this,l:a.l});this.j=a.j;this.Wi=a.Wi;this.te=a.te;this.oe=a.oe||null;this.Al=a.Al||null;this.cg=a.cg||null;this.w=a.w;this.fa=a.fa}Ol.prototype=Object.create(bh.prototype);Ol.prototype.constructor=bh;Ol.prototype.listenTo=Backbone.Events.listenTo;Ol.prototype.stopListening=Backbone.Events.stopListening;Ol.prototype.stop=function(){this.stopListening();bh.prototype.stop.call(this)};
function ih(a){a.cg&&a.cg.addClass("dndDimmed");a.oe&&Ml(a.oe,!0)}function hh(a,b,c,d){var f=!1;a.oe&&Ml(a.oe,!1);a.cg&&a.cg.removeClass("dndDimmed");c&&c instanceof gg?f=Pl(a,b,c):c&&-1<_.values(kh).indexOf(c)&&(f=Ql(a,b,c));f?P.delay(300).then(function(){d.remove()}):(a.j.track("design_card_drag",{failed:!0}),d&&d.remove())}
function Pl(a,b,c){function d(a,d,k){d.g()===b.g()&&k.g()===c.g()&&(a?this.Wi.If(d.g(),k):window.alert(this.fa.format("designFolderListAddToFolderError")),this.stopListening(this.w,f))}if(c.g()===a.te)return!1;var f={"addToFolder:success":d.bind(a,!0),"addToFolder:fail":d.bind(a,!1)};a.oe&&a.oe.Xh(c);a.listenTo(a.w,f);pl(a.w,b,c);a.j.track("design_card_drag",{destination:"design_folder"});return!0}
function Ql(a,b,c){if("/designs/trash"===c)a.Al&&a.Al.Xh(),a.Wi.qh(b),a.j.track("design_card_drag",{destination:"trashed"});else return!1;return!0};function Rl(a){var b;b={};soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");var c=a.u;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");a=a.url;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"avatar'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'" style\x3d"'+(b.Bc?"/*"+b.Bc+"*/":"")+"background-image: url("+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+');"\x3e\x3c/div\x3e')};function Sl(a){var b=goog.asserts.assertArray(a.ob,"expected parameter 'members' of type list\x3c[avatarUrl: null|string, name: string]\x3e.");soy.asserts.assertType(goog.isNumber(a.So),"undisplayedMemberCount",a.So,"number");var c=a.So;a=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [undisplayedMembersTooltip: null|string].");for(var d='\x3cdiv class\x3d"folderMembers"\x3e\x3cdiv class\x3d"folderMembers__members"\x3e',f=b.length,g=0;g<f;g++){var h,k=b[g];soy.asserts.assertType(goog.isString(k.name)||
k.name instanceof goog.soy.data.SanitizedContent,"name",k.name,"string|goog.soy.data.SanitizedContent");h=k.name;soy.asserts.assertType(null==k.Ja||k.Ja instanceof goog.soy.data.SanitizedContent||goog.isString(k.Ja),"avatarUrl",k.Ja,"null|string|undefined");k=k.Ja;h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"folderMembers__member folderMembers__member--withTooltip"\x3e\x3cspan class\x3d"folderMembers__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(h)+'"\x3e\x3c/span\x3e'+(k?
Rl({u:"folderMembers__avatar",url:k}):"")+"\x3c/div\x3e");d+=h}d+="\x3c/div\x3e"+(0<c?'\x3cdiv class\x3d"folderMembers__member '+(a.cs?"folderMembers__member--withTooltip":"")+'"\x3e\x3cspan class\x3d"folderMembers__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(a.cs)+'"\x3e\x3c/span\x3e\x3cdiv class\x3d"folderMembers__hiddenCountText"\x3e'+(99<c?"99+":soy.$$escapeHtml(c))+"\x3c/div\x3e\x3c/div\x3e":"")+"\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(d)};function Tl(a){soy.asserts.assertType(goog.isBoolean(a.checked)||1===a.checked||0===a.checked,"checked",a.checked,"boolean");var b=!!a.checked;soy.asserts.assertType(null==a.Fh||a.Fh instanceof goog.soy.data.SanitizedContent||goog.isString(a.Fh),"checkedTooltipText",a.Fh,"null|string|undefined");var c=a.Fh;soy.asserts.assertType(null==a.fj||a.fj instanceof goog.soy.data.SanitizedContent||goog.isString(a.fj),"uncheckedTooltipText",a.fj,"null|string|undefined");var d=a.fj;soy.asserts.assertType(null==
a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");a=a.u;var f=c||d,b='\x3cdiv data-checked\x3d"'+soy.$$escapeHtmlAttribute(b?"true":"false")+'" class\x3d"starButton starButton--noAnimations '+soy.$$escapeHtmlAttribute(b?"starButton--checked":"starButton--unchecked")+" "+(f?"starButton--withTooltip":"")+" "+(a?soy.$$escapeHtmlAttribute(a):"")+'"\x3e';a=a={H:"starButton__icon"};soy.asserts.assertType(null==a.H||a.H instanceof goog.soy.data.SanitizedContent||
goog.isString(a.H),"cssClass",a.H,"null|string|undefined");a=a.H;a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M11.247 5.293l-1.893-3.99c-.472-.994-1.237-.995-1.71 0l-1.892 3.99-4.145.626c-1.087.163-1.334.94-.57 1.715L4.062 10.7l-.72 4.375c-.18 1.09.46 1.544 1.425 1.017L8.5 14.05l3.734 2.042c.967.528 1.605.074 1.425-1.017l-.722-4.376 3.023-3.065c.774-.784.524-1.55-.568-1.716l-4.145-.627z" fill-rule\x3d"evenodd" stroke-width\x3d"1"/\x3e\x3c/svg\x3e');
c=""+(b+a+'\x3cspan class\x3d"starButton__tooltip" '+(c?'data-checked-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+" "+(d?'data-unchecked-tooltip\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+"\x3e\x3c/span\x3e\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function Ul(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isBoolean(a.Ec)||1===a.Ec||0===a.Ec,"enableSharing",a.Ec,"boolean");var c=!!a.Ec;soy.asserts.assertType(goog.isBoolean(a.Ff)||1===a.Ff||0===a.Ff,"viewOnly",a.Ff,"boolean");var d=!!a.Ff;soy.asserts.assertType(goog.isString(a.Ll)||a.Ll instanceof goog.soy.data.SanitizedContent,"viewOnlyButton",
a.Ll,"string|goog.soy.data.SanitizedContent");var f=a.Ll;soy.asserts.assertType(goog.isString(a.Zg)||a.Zg instanceof goog.soy.data.SanitizedContent,"shareFolderButton",a.Zg,"string|goog.soy.data.SanitizedContent");var g=a.Zg;soy.asserts.assertType(goog.isBoolean(a.Zd)||1===a.Zd||0===a.Zd,"showMenuButton",a.Zd,"boolean");var h=!!a.Zd;soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"itemCount",a.ni,"string|goog.soy.data.SanitizedContent");var k=a.ni;soy.asserts.assertType(goog.isString(a.description)||
a.description instanceof goog.soy.data.SanitizedContent,"description",a.description,"string|goog.soy.data.SanitizedContent");var l=a.description;soy.asserts.assertType(goog.isBoolean(a.hc)||1===a.hc||0===a.hc,"starred",a.hc,"boolean");var r=!!a.hc;soy.asserts.assertType(goog.isString(a.yj)||a.yj instanceof goog.soy.data.SanitizedContent,"checkedStarTooltip",a.yj,"string|goog.soy.data.SanitizedContent");var w=a.yj;soy.asserts.assertType(goog.isString(a.El)||a.El instanceof goog.soy.data.SanitizedContent,
"uncheckedStarTooltip",a.El,"string|goog.soy.data.SanitizedContent");var G=a.El;soy.asserts.assertType(goog.isBoolean(a.Ui)||1===a.Ui||0===a.Ui,"starFoldersIsEnabled",a.Ui,"boolean");var I=!!a.Ui;soy.asserts.assertType(goog.isBoolean(a.Xb)||1===a.Xb||0===a.Xb,"folderAccessSummaryIsEnabled",a.Xb,"boolean");var H=!!a.Xb,ja=goog.asserts.assertObject(a.Bd,"expected parameter 'folderAccessSummary' of type [otherUsersCount: float|int, userList: list\x3c[avatarUrl: null|string, name: string]\x3e].");a=goog.asserts.assertObject(a.et,
"expected parameter 'folderAccessSummaryMessages' of type [undisplayedMembersTooltip: null|string].");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tabHeaderRow lead"\x3e\x3cdiv class\x3d"tabHeaderTitle"\x3e\x3cspan class\x3d"designFolderHeader__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e"+(I?Tl({checked:r,Fh:w,fj:G,u:"designFolderHeader__starButton"}):"")+'\x3c/div\x3e\x3cdiv class\x3d"tabHeaderLeadRight"\x3e'+(H?'\x3cdiv class\x3d"designFolderHeader__members"\x3e'+Sl({ob:ja.ns,
So:ja.Rn,i:a})+"\x3c/div\x3e":"")+(c?(d?'\x3cspan class\x3d"tabHeaderShareButton viewOnly button buttonSmall designFolderHeader__button"\x3e'+Hk()+soy.$$escapeHtml(f)+"\x3c/span\x3e":"")+(d?"":'\x3cspan class\x3d"tabHeaderShareButton button buttonSmall designFolderHeader__button"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e"):"")+(h?'\x3cspan class\x3d"tabHeaderMenuButton button buttonSmall designFolderHeader__button"\x3e'+Gk()+"\x3c/span\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"tabHeaderRow secondary"\x3e\x3cspan class\x3d"tabHeaderItemCount"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3cdiv class\x3d"tabHeaderDescription designFolderHeader__description"\x3e'+soy.$$escapeHtml(l)+"\x3c/div\x3e\x3c/div\x3e")}
function Vl(a){soy.asserts.assertType(goog.isString(a.Xj)||a.Xj instanceof goog.soy.data.SanitizedContent,"errorTitle",a.Xj,"string|goog.soy.data.SanitizedContent");var b=a.Xj;soy.asserts.assertType(goog.isString(a.Wj)||a.Wj instanceof goog.soy.data.SanitizedContent,"errorDescription",a.Wj,"string|goog.soy.data.SanitizedContent");a=a.Wj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tabHeaderRow lead"\x3e\x3cdiv class\x3d"tabHeaderTitle"\x3e\x3cspan\x3e'+soy.$$escapeHtml(b)+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"tabHeaderRow secondary"\x3e\x3cdiv class\x3d"tabHeaderDescription"\x3e\x3cspan\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")}
function Wl(a){soy.asserts.assertType(goog.isString(a.H)||a.H instanceof goog.soy.data.SanitizedContent,"cssClass",a.H,"string|goog.soy.data.SanitizedContent");var b=a.H;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(null==a.description||a.description instanceof goog.soy.data.SanitizedContent||goog.isString(a.description),"description",a.description,"null|string|undefined");
a=a.description;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"'+soy.$$escapeHtmlAttribute(b)+' tabHeader tabHeader--simple"\x3e\x3cdiv class\x3d"tabHeaderRow lead"\x3e\x3cdiv class\x3d"tabHeaderTitle"\x3e\x3cspan\x3e'+soy.$$escapeHtml(c)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e"+(a?'\x3cdiv class\x3d"tabHeaderRow secondary"\x3e\x3cdiv class\x3d"tabHeaderDescription"\x3e\x3cspan\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e":"")+"\x3c/section\x3e")};function Xl(a){this.Z=a}var Yl=new R("nb",!1),Zl=new R("bg",!1),$l=new R("bl",!1),am=new R("cz",!1),bm=new R("dc",-1),cm=new R("dp",!1),dm=new R("dy",!1),em=new R("em","NONE"),fm=new R("et",!0),gm=new R("fz",!0);Xl.prototype.N=function(){return this.Z.get(Yl)};Xl.prototype.Cf=function(){return this.Z.get(cm)};Xl.prototype.zm=function(){return this.Z.get(em)};Xl.prototype.qf=function(){return this.Z.get(fm)};function hm(a){this.$el=a}hm.prototype.remove=function(){this.$el.remove()};function V(a){this.$el=a;this.yg={}}V.prototype.remove=function(){this.$el.off();this.$el.remove()};V.prototype.on=function(a,b){K(!this.yg[a],"listener already registered for event {}",a);this.yg[a]=b};V.prototype.off=function(a,b){null==a?this.yg={}:null!=b&&this.yg[a]!=b||delete this.yg[a]};V.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.yg[a])&&d.apply(null,[].concat(la(c)))};function im(a){var b=this;V.call(this,a);a.on("click",".confirmationDialog__buttonConfirm",function(){b.trigger(jm)});a.on("click",".confirmationDialog__buttonCancel",function(){b.trigger(km)})}n(im,V);var km="CANCEL",jm="CONFIRM";function lm(){}lm=Backbone.View.extend();lm.prototype.initialize=function(a){a=_.defaults({},a,{Aj:!0,content:$(),oo:!0,Me:!0});this.l=a.l;this.Aj=!!a.Aj;this.content=a.content;this.Dg=new uk({style:this.Xm(),l:this.l});this.listenTo(this.Dg,"maskClick",this.blur);this.result=1;this.oo=!!a.oo;this.fc=!!a.fc;this.Me=!!a.Me;this.title=a.Me?a.title:"";this.lq=null;this.Hr=!1};lm.ws=300;e=lm.prototype;e.blur=function(){this.Aj&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(a){this.result=3;this.lq=a||null;this.remove()};e.events=function(){return{"click .close":this.Qd,"click .dialogMaskCloseButton":this.Qd,"click button.done":this.ok}};e.Xm=function(){return wk};e.ok=function(){this.result=2;this.remove()};e.Qd=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Dg.hide();this.Hr=!1;this.trigger("hide",this.result);this.l.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},lm.ws);return this};e.render=function(){this.$el.html(this.template(this.fl()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
e.fl=function(){return{showCloseButton:this.oo,showDialogMaskCloseButton:this.fc,showTitle:this.Me,title:this.title}};e.Ar=function(a){this.$("h2").text(a);this.title=a};
e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Dg.show(this.$el);this.Hr=!0;this.trigger("show",this);ah(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function mm(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.lq)}.bind(this));this.show()}.bind(a))}e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');
var nm=lm;function om(a,b){var c=this;this.view=b;this.Oa=new nm({content:b.$el,l:a.l,Me:!1});this.view.on(km,function(){return c.Oa.cancel()});this.view.on(jm,function(){return c.Oa.ok()});this.Oa.once("remove",function(){return c.view.remove()})}om.prototype.confirm=function(){return mm(this.Oa).then(function(a){return 2===a})};var pm={LEFT:"left",Cv:"leftTop",Mv:"top",Nv:"topLeft",Jv:"rightTop"};function qm(){}qm=nm.extend();e=qm.prototype;e.initialize=function(a){nm.prototype.initialize.call(this,_.extend({l:$g},a));this.Xp=a.Xp||"Done";this.ah=void 0!==a.ah?a.ah:!0;this.xh=null;this.mr=a.position instanceof Array?a.position:[a.position||"top"];this.position=null;this.Mc=_.defaults({},a.Mc,{left:0,top:0});this.xf=a.xf||!1;this.on("hide",this.Op);this.keydown=this.keydown.bind(this)};
function rm(a){$(document).on("keydown",a.keydown)}e.Hu=function(){$(document).off("keydown",this.keydown)};e.Xm=function(){return xk};e.getCurrentPosition=function(){return this.position};
e.render=function(){nm.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.xf?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.ah&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Xp+"\x3c/button\x3e\x3c/p\x3e");return this};
function sm(a,b){if(!a.xh){var c=_.debounce(a.gs.bind(a),300);window.addEventListener("resize",c,!1);a.on("remove",function(){window.removeEventListener("resize",c,!1)})}a.show();rm(a);a.on("remove",a.Hu);tm(a,b);a.gs()}function um(){this.Wn=this.Vn=this.dialogLeft=this.dialogTop=null}
e.gs=function(){for(var a,b,c=0;c<this.mr.length;c++){a=b=this.mr[c];var d=this.xf?5:13,f=this.xf?20:40,g=this.xh,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),r=g.outerHeight(),w=this.$(".dialog").outerHeight(),G=this.$(".dialog").outerWidth(),I=this.$el.width(),g=new um,H=Math.round(h.left+l/2-G/2);switch(a){case "top":g.dialogLeft=H+G+10>I?I-G-10:H;g.dialogLeft+=this.Mc.left;g.dialogTop=Math.round(k)+r+d+this.Mc.top;a=H-g.dialogLeft;g.Vn="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+G+10>I?I-G-10:h.left;g.dialogLeft+=this.Mc.left;g.dialogTop=Math.round(k)+r+d+this.Mc.top;g.Vn=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Mc.left;g.dialogTop=k-w/2+d+this.Mc.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Mc.left+d;g.dialogTop=k+r/2-f+this.Mc.top;10>g.dialogTop&&(g.Wn=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-G+this.Mc.left-d,g.dialogTop=k+r/2-f+this.Mc.top,10>g.dialogTop&&(g.Wn=g.dialogTop-10,g.dialogTop=10)}d=a=g;f=this.$(".dialog");
if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(pm).join(" ")).addClass(b);c.css("left",a.Vn||"");c.css("margin-top",a.Wn||"");return this};function tm(a,b){a.Op();a.xh=b;b.addClass("on");b.blur()}e.Op=function(){this.xh&&this.xh.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};var vm=qm;function wm(){}wm=vm.extend({className:"designFolderMenu"});e=wm.prototype;e.initialize=function(a){this.K=a.K;this.po=a.po||!1;vm.prototype.initialize.call(this,{content:this.zf(),ah:!1,position:"top",xf:!0,Me:!1})};e.events=function(){return{"click .folderMenu__deleteFolder":this.kd.bind(this,"deleteFolder")}};e.kd=function(a){this.trigger(a);this.remove()};e.zf=function(){return this.im({showDeleteFolder:this.po,deleteFolder:this.K.format("designFoldersMenuDeleteFolder")})};e.im=_.template('\x3cdiv class\x3d"selectMenu"\x3e\x3c% if (showDeleteFolder ) { %\x3e\x3cdiv class\x3d"selectMenu__item folderMenu__deleteFolder"\x3e\x3c%- deleteFolder %\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/div\x3e');
var xm=wm;function ym(a){Backbone.View.call(this,{className:"noticeBox"});this.message=a.message;this.zc=a.zc}n(ym,Backbone.View);ym.prototype.events=function(){var a=this;return{"click .noticeBox__acknowledge":function(){return a.trigger("acknowledge")}}};function zm(a){return new P(function(b){a.$el.css({overflow:"hidden",height:a.$el.outerHeight()}).addClass("noticeBox--fading").one("animationend",b)})}ym.prototype.hide=function(){this.$el.addClass("noticeBox--hidden")};ym.prototype.show=function(){this.$el.removeClass("noticeBox--hidden")};
ym.prototype.render=function(){var a=this.el,b;b=this.message;var c=this.zc;soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"message",b,"soydata.SanitizedHtml");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"buttonText",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"noticeBox__message"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"noticeBox__acknowledge"\x3e\x3cbutton class\x3d"button"\x3e'+
soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e");a.innerHTML=b;return this};function Am(a){this.view=a.view;this.listenTo(this.view,"acknowledge",this.Vl)}e=Am.prototype;e.getElement=function(){return this.view.$el};e.Vl=function(){this.stopListening(this.view);var a=this.view;zm(a).bind(a).then(a.remove);this.trigger("acknowledge");return this};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.trigger=Backbone.Events.trigger;e.stopListening=Backbone.Events.stopListening;function Bm(a,b){this.$l=a;this.namespace=void 0===b?null:b}function Cm(a){if(window.localStorage)return new Bm(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}Bm.prototype.setItem=function(a,b){try{return this.$l.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};Bm.prototype.getItem=function(a){return this.$l.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Dm(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}Bm.prototype.removeItem=function(a){this.$l.removeItem(null==this.namespace?a:this.namespace+"."+a)};function Em(a){this.Hg=a.Hg;this.iv="noticeBox__"+this.Hg;this.ka=a.ka;this.gd=a.gd;this.listenTo(this.gd,"acknowledge",this.Vl)}Em.prototype.Vl=function(){var a=this.ka,b=this.iv;try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}this.stopListening(this.gd)};Em.prototype.getElement=function(){return this.gd.getElement()};function Fm(a){if(Dm(a.ka,"noticeBox__"+a.Hg))a=null;else{var b=new ym({message:a.message,zc:a.zc});b.render();b=new Am({view:b});a=new Em({Hg:a.Hg,ka:a.ka,gd:b})}return a}
Em.prototype.listenTo=Backbone.Events.listenTo;Em.prototype.stopListening=Backbone.Events.stopListening;function Gm(){}Gm=Backbone.View.extend({className:"editableInput"});e=Gm.prototype;e.events=function(){return{click:this.sf,"keydown input":this.Kg,"input input":this.ep,"blur input":this.fu}};e.initialize=function(a){this.Kq=this.af=a.pt;this.defaultValue=a.defaultValue;this.en=a.en;this.enabled="undefined"!==typeof a.enabled?a.enabled:!0;this.Po(this.enabled);this.maxLength=a.maxLength||null;this.pq=!!a.pq;this.gp=!!a.gp;this.qg=!1};
e.sf=function(){this.trigger("clicked");!this.enabled||this.qg||window.getSelection().toString().length||(this.qg=!0,this.$el.addClass("editing"),this.render().ep(),this.$("input").select())};function Hm(a,b){if(a.enabled&&a.qg){var c=a.$("input").val()||a.defaultValue;a.qg=!1;a.$el.removeClass("editing");b&&c!==a.af&&(a.af=c,a.en&&a.$el.addClass("savePending"),a.trigger("edit",c));a.render()}}e.Kg=function(a){switch(a.keyCode){case 13:Hm(this,!0);break;case 27:Hm(this,!1)}};
e.ep=function(){this.pq||this.$(".inputSandbox").text(this.$("input").val()||this.defaultValue);return this};e.fu=function(){Hm(this,!0)};e.Po=function(a){!a&&this.qg&&Hm(this,!1);this.enabled=a;this.$el.toggleClass("enabled",a)};function Im(a,b){a.$el.removeClass("savePending");b?a.Kq=a.af:(a.af=a.Kq,a.render())}
e.render=function(){this.qg?this.$el.html(this.Vs({editValue:this.af,defaultValue:this.defaultValue,maxLength:this.maxLength})):this.$el.html(this.Rs({displayValue:this.af}));this.gp&&this.$el.addClass("pseudoEnabled");return this};e.Rs=_.template("\x3cspan\x3e\x3c%- displayValue %\x3e\x3c/span\x3e");e.Vs=_.template('\x3cdiv class\x3d"inputContainer"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- editValue %\x3e" \x3c% if (maxLength) { %\x3emaxlength\x3d"\x3c%- maxLength %\x3e" \x3c% } %\x3eplaceholder\x3d"\x3c%- defaultValue %\x3e" /\x3e\x3cspan class\x3d"inputSandbox"\x3e\x3c/span\x3e\x3c/div\x3e');
var Jm=Gm;function Km(a){hm.apply(this,arguments)}n(Km,hm);Km.prototype.ji=function(){return"true"===this.$el.attr("data-checked")};Km.prototype.gl=function(a){var b=this,c=a?"starButton--checked":"starButton--unchecked";this.$el.attr("data-checked",a);this.$el.removeClass("starButton--checked starButton--unchecked starButton--noAnimations starButton--withTooltip");requestAnimationFrame(function(){requestAnimationFrame(function(){b.$el.addClass(c).addClass("starButton--withTooltip")})})};function Lm(){}Lm=Backbone.View.extend({className:"designFolderHeader",tagName:"section"});Lm.prototype.initialize=function(a){this.j=a.j;this.hm=a.hm;this.ra=a.ra;this.K=a.K;this.Ec=a.Ec;this.C=a.C;this.Yd=!1;this.Zd=a.Zd||!1;this.kl=a.kl||!1;this.ll=a.ll||!1;this.pc=this.ne=this.Pe=null;this.hb=a.hb;this.gd=a.gd;this.Xb=a.Xb;this.Bd=a.Bd};
Lm.create=function(a){var b=a.C,c=lg(b,og),d=lg(b,ng),f=lg(b,mg),g=null;c&&!f&&(g=c?a.K.format("designFoldersNoticeBoxFirstEditHtml"):a.K.format("designFoldersNoticeBoxFirstViewHtml"),g=Fm({ka:a.ka,Hg:"sharedFolderHeader",message:soydata.VERY_UNSAFE.ordainSanitizedHtml(g),zc:a.K.format("designFoldersNoticeBoxButton")}));return new Lm({j:a.j,ra:a.ra,K:a.K,Xb:a.Z.get(il),Ec:a.Ec,Zd:f,kl:c,ll:d,gd:g,C:b,Bd:a.Bd,hb:function(){return new xm({K:a.K,po:f})},hm:Lm.av.bind(null,a.K)})};e=Lm.prototype;
e.events=function(){return{"click .tabHeaderMenuButton":this.Ro,"click .tabHeaderShareButton":this.ov,"click .folderMembers__member":this.Ht,"click .designFolderHeader__starButton":this.It}};e.bj=function(a){this.Yd=a;this.render()};function Mm(a,b){var c="title"===b?vi(a.K):a.K.format("designFoldersHeaderDescriptionPlaceholder");return new Jm({pt:("title"===b?a.C.getName():a.C.gg())||c,defaultValue:c,en:!0,maxLength:255})}
function Nm(a,b,c){"title"===b?Im(a.Pe,c):"description"===b&&Im(a.ne,c);c||alert(a.K.format("designFoldersHeaderEditSaveError"))}function Om(a,b){a.$el.toggleClass("beingDeleted",b);return a}e.Oj=function(){alert(this.K.Oj())};e.Ro=function(){this.pc&&this.stopListening(this.pc);this.pc=this.hb();this.listenTo(this.pc,{deleteFolder:this.Os});sm(this.pc,this.$(".tabHeaderMenuButton"));yh(this.j,"design_folder_menu","homepage","design_folder","design_folder")};
e.ov=function(){yh(this.j,"share_folder","homepage","design_folder","design_folder");this.trigger("shareDialogClick")};e.It=function(a){a=new Km($(a.currentTarget));a.gl(!a.ji());this.trigger("starButtonClick",a.ji());yh(this.j,"star_button","folder","folder_header",null,{checked:a.ji()})};e.Ht=function(){this.trigger("folderMemberClick");yh(this.j,"share_folder","homepage","design_folder","folder_members")};
Lm.av=function(a,b){var c=a.format("designFoldersDeleteFolderConfirmationDialogCancelButtonText"),d=a.format("designFoldersDeleteFolderConfirmationDialogDeleteButtonText"),f=a.Yb("designFoldersMenuDeleteFolderConfirmHtml",b.hf);b=a.format("designFoldersDeleteFolderConfirmationDialogTitle",b.hf);a=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"cancelButtonText",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"confirmButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(f instanceof goog.soy.data.SanitizedContent||f instanceof soydata.SanitizedHtml||f instanceof soydata.UnsanitizedText||goog.isString(f),"message",f,"!soydata.SanitizedHtml|string");soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(!0)||!1||!1,"isDestructive",!0,"boolean|null|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2 class\x3d'confirmationDialog__title'\x3e"+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cp class\x3d'confirmationDialog__message'\x3e"+soy.$$escapeHtml(f)+'\x3c/p\x3e\x3cdiv class\x3d"confirmationDialog__buttons"\x3e'+Dk({u:"confirmationDialog__buttonCancel buttonSecondary",text:c})+Dk({u:soydata.$$markUnsanitizedTextForInternalBlocks("confirmationDialog__buttonConfirm buttonDestructive"),text:d})+"\x3c/div\x3e");c=a(c.toString());c=new im(c);return(new om({l:$g},c)).confirm()};
Lm.prototype.Os=function(){yh(this.j,"delete_folder","homepage","design_folder","design_folder");this.hm({hf:this.C.getName()||""}).then(function(a){a&&this.trigger("deleteFolder")}.bind(this))};
Lm.prototype.render=function(){this.stopListening();this.Pe&&this.Pe.remove();this.ne&&this.ne.remove();var a=this.K.format("designFoldersHeaderUndisplayedMembersTooltip",this.Bd.Rn);this.Yd?this.$el.html(Vl({Xj:this.K.format("designFoldersHeaderLoadErrorTitle"),Wj:this.K.format("designFoldersHeaderLoadErrorDescription")}).toString()):(this.$el.html(Ul({title:this.C.getName()||vi(this.K),description:this.C.gg()||"",ni:this.K.format("designFoldersHeaderItemCount",this.C.itemCount),Ec:this.Ec,Zd:this.Zd,
ll:this.ll,Ff:!this.kl,Zg:this.K.Zg(),Ll:this.K.Ff(),hc:!(!this.C.bd()||!this.C.bd().starred),yj:this.K.format("designFoldersUnstarFolder"),El:this.K.format("designFoldersStarFolder"),Ui:this.ra.Z.get(dm),Xb:this.Xb,et:{cs:a},Bd:this.Bd}).toString()),this.gd&&this.gd.getElement().appendTo(this.$el),this.kl&&(this.Pe=Mm(this,"title"),this.ne=Mm(this,"description"),this.listenTo(this.Pe,"edit",this.trigger.bind(this,"edit","title")),this.listenTo(this.ne,"edit",this.trigger.bind(this,"edit","description")),
this.$(".designFolderHeader__title").html(this.Pe.render().$el),this.$(".designFolderHeader__description").html(this.ne.render().$el)));return this};Lm.prototype.remove=function(){Backbone.View.prototype.remove.call(this);this.Pe&&this.Pe.remove();this.ne&&this.ne.remove()};Lm.prototype.nc=function(){return this.C.getName()||vi(this.K)};var Pm=Lm;function Qm(){}Qm=vm.extend({className:"accessEditorMenu"});Qm.prototype.initialize=function(a){this.da=a.da;this.Ze=a.Ze;this.uo=a.uo;vm.prototype.initialize.call(this,{content:this.zf(),ah:!1,xf:!0,Me:!1})};Qm.prototype.events=function(){function a(a){b.trigger("select",a);b.remove()}var b=this;return{"click .accessEditorMenu__edit":function(){return a(ng)},"click .accessEditorMenu__view":function(){return a(pg)},"click .accessEditorMenu__none":function(){return a(null)}}};Qm.prototype.Xm=function(){return yk};
Qm.prototype.zf=function(){return $(Rm({editLabel:this.da.Lf(),viewLabel:this.da.format("shareFolderDialogCanView"),notSharedLabel:this.da.format("shareFolderDialogNotShared"),removeLabel:this.da.remove(),showNotShared:this.uo,currentAccess:this.Ze,editorEnum:ng,viewerEnum:pg}))};
var Rm=_.template('\n  \x3cdiv class\x3d"selectMenu"\x3e\n    \x3cdiv class\x3d"selectMenu__item accessEditorMenu__edit\x3c% if (currentAccess \x3d\x3d\x3d editorEnum) { %\x3e currentAccess\x3c% } %\x3e"\x3e\x3c%- editLabel %\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"selectMenu__item accessEditorMenu__view\x3c% if (currentAccess \x3d\x3d\x3d viewerEnum) { %\x3e currentAccess\x3c% } %\x3e"\x3e\x3c%- viewLabel %\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"selectMenu__item accessEditorMenu__none\x3c% if (currentAccess \x3d\x3d\x3d null) { %\x3e currentAccess\x3c% } %\x3e"\x3e\x3c%- showNotShared ? notSharedLabel : removeLabel %\x3e\x3c/div\x3e\n  \x3c/div\x3e\n'),Sm=
Qm;function Tm(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.jn||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.jn=!1;this.Ao=_.debounce(this.Ao,500);this.Kg=this.Kg.bind(this);$(document).on("keydown",this.Kg)}n(Tm,Backbone.View);function Um(a){var b=$(Vm({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.yr).toggleClass("toolbar__menuHeader",a.st).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(la(a)));return new Tm({el:b[0]})}e=Tm.prototype;
e.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};e.cl=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};e.remove=function(){$(document).off("keydown",this.Kg);Backbone.View.prototype.remove.call(this)};e.Ao=function(){this.jn=!1};
e.Kg=function(a){if("visible"===this.$el.css("visibility")){this.jn=!0;this.Ao();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function Wm(a,b){this.element=a instanceof jQuery?a:$(a);this.yr=b;this.st=!1}var Vm=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function Xm(a){var b=this;this.index=a.index;this.Xd=a.Xd;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return Ym(b,!1)},keyDown:function(){return Zm(b,!1)},keyTab:function(){return Zm(b,!0)},keyShiftTab:function(){return Ym(b,!0)},keyEnter:function(a){return $m(b,a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.Xd[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function an(a){var b=Um({elements:a.elements,className:a.className});"undefined"!==typeof a.Sf&&b.select(a.Sf);return new Xm({index:"undefined"===typeof a.Sf?null:a.Sf,Xd:a.elements.filter(function(a){return a.yr}),view:b})}function Ym(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.Xd.length-1:0);a.view.select(a.index);a.view.cl();a.trigger("activeChange",a.Xd[a.index])}e=Xm.prototype;e.cl=function(a){this.view.cl(a)};
function Zm(a,b){a.index||(a.index=0);a.index++;a.index>=a.Xd.length&&(a.index=b?0:a.Xd.length-1);a.view.select(a.index);a.view.cl();a.trigger("activeChange",a.Xd[a.index])}function $m(a,b){null!==a.index&&a.trigger("select",a.index,a.Xd[a.index||0],b)}e.remove=function(){this.stopListening();this.view.remove()};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function bn(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"input input":function(a){return cn(b,a)},"focus input":function(a){b.trigger("focus");return cn(b,a)},"blur input":function(){return b.yi()}}});this.Yc=a.Yc;this.wa=this.bc=null}n(bn,Backbone.View);function cn(a,b){var c=$(b.target);b=c[0].selectionEnd;c=c.val();a.trigger("requestAutocomplete",c,b)}bn.prototype.yi=function(){this.wa&&!this.wa.view.$("li").hasClass("hovering")&&dn(this)};
function en(a,b){function c(a){a=$(fn({lead:a.R().ua(),desc:a.ad(),avatarURL:a.R().fg()&&a.R().fg().sizes.get("50").Fa()}));return new Wm(a,!0)}var d=gn.bind(a,{message:a.Yc.format("findUserInputNoResults","/brand/members")});a.bc=b;a.wa&&dn(a);a.wa=an({elements:b.length?b.map(c):[new Wm($(d()),!1)],Sf:b.length?0:void 0});a.$el.append(a.wa.view.$el);a.listenTo(a.wa,{select:function(b){a.trigger("select",b);dn(a)},cancel:function(){dn(a)}})}
bn.prototype.Yd=function(){this.wa=an({elements:[new Wm($(gn({message:this.Yc.error()})),!1)]});this.$el.append(this.wa.view.$el)};function dn(a){a.wa&&(a.stopListening(a.wa),a.wa.view.remove(),a.wa=null)}bn.prototype.Af=function(a){this.$("input").prop("disabled",!a)};
var hn=_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n'),fn=_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n'),gn=_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function jn(){this.ec=[255,0,255];this.pg=[300,100,50]}function kn(a,b,c,d){a.pg=[b,c,d];var f;f=b/60;c/=100;d/=100;b=Math.floor(f);var g=f-b;f=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.ec=[Math.round(255*[d,h,f,f,c,d][b]),Math.round(255*[c,d,d,h,f,f][b]),Math.round(255*[f,f,c,d,d,h][b])];return a}e=jn.prototype;e.Br=function(a){return kn(this,this.pg[0],this.pg[1],a)};
function ln(a,b,c,d){a.ec=[b,c,d];b/=255;c/=255;d/=255;var f=Math.max(b,c,d),g=Math.min(b,c,d),h;if(f==g)h=g=0;else{var k=f-g,g=k/f;switch(f){case b:h=(c-d)/k+(c<d?6:0);break;case c:h=(d-b)/k+2;break;case d:h=(b-c)/k+4}h/=6}a.pg=[360*h,100*g,100*f];return a}function mn(a){var b=new jn;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return ln(b,nn(a,0*c,c),nn(a,1*c,c),nn(a,2*c,c))}
e.No=function(){return"#"+(256+this.ec[0]).toString(16).slice(-2)+(256+this.ec[1]).toString(16).slice(-2)+(256+this.ec[2]).toString(16).slice(-2)};e.clone=function(){var a=new jn;a.ec=this.ec;a.pg=this.pg;return a};e.tq=function(){return Math.round(Math.sqrt(.241*this.ec[0]*this.ec[0]+.691*this.ec[1]*this.ec[1]+.068*this.ec[2]*this.ec[2]))};e.equals=function(a){return null!=a&&a.serialize()===this.serialize()};
function on(a){var b=String(a);if("#"===b.slice(0,1))return mn(b);if("hsl("===b.slice(0,4)){a=new jn;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,f=b*(.5>d?d:1-d),g=d+f,c=[+c[1],100*(0<d?2*f/g:b),100*g];return kn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new jn;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return ln(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return mn(b);throw Error("could not parse color: "+a);}function nn(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}e.serialize=jn.prototype.No;e.toString=jn.prototype.No;function pn(a){K(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.Ja=a.Ja||null;this.vg=a.vg||null;this.Sc=a.Sc||null;this.size=a.size;this.og=!!a.og;this.Mg=!!a.Mg;this.th=!!a.th;this.Rf=!!a.Rf}n(pn,Backbone.View);
pn.prototype.render=function(){var a=this.Ja&&this.vg,b=!!this.vg;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.Ja&&this.$el.css("backgroundImage","url("+this.Ja+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.vg&&this.$el.attr("data-letter",this.vg);this.Sc&&(this.$el.css("backgroundColor",this.Sc.No()),208<this.Sc.tq()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.th);this.$el.toggleClass("avatar--darkBorder",this.Rf);this.$el.toggleClass("avatar--glow",this.og);this.$el.toggleClass("avatar--pointer",this.Mg);return this};function qn(a,b){a=a.fg().sizes;L(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(la(a.values()))).sortBy(function(a){return Math.abs(a.Ym()-c)}).sortBy(function(a){return a.Ym()<c}).first().value().Fa()};function rn(a){Backbone.View.call(this,{el:a.el});this.sb=a.sb;this.l=a.l;this.da=a.da}n(rn,Backbone.View);rn.prototype.events=function(){var a=this;return{"click .accessControl":function(){return a.Pn()}}};
function sn(a){var b;b=null===a.user?a.da.format("shareFolderDialogAllMembers"):a.user.g()===a.D.g()?a.da.format("shareFolderDialogThatsYou"):a.email;var c=a.o.ua()?a.o.ua():a.da.format("shareFolderDialogDefaultBrandName");b=$(tn({lead:null===a.user?c:a.user.ua()||a.user.jb(),desc:b,currentAccess:un(a.Ze,a.da),editable:a.sb,animated:a.qj,user:a.user?a.user.g():null,brand:a.o.g()}));if(a.user){var c={user:a.user,size:40},d=qn(c.user,c.size),c=new pn({Ja:d,size:c.size,og:c.og,Mg:c.Mg,th:c.th,Rf:c.Rf});
c.render()}else if(a.o){var c={o:a.o,size:40},d=(c.o.ua()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0),f=c.o.sq(),f=on(f?"#"+f:"#b0b0b0"),c=new pn({vg:d,Sc:f,size:c.size,og:c.og,Mg:c.Mg,th:c.th,Rf:c.Rf});c.render()}else throw Error("unable to create AccessEditorEntryView avatar");b.find(".accessEditorEntryAvatar").append(c.render().$el);return new rn({el:b[0],l:a.l,da:a.da,sb:a.sb})}rn.prototype.Pn=function(){this.sb&&this.trigger("triggerMenu")};
function vn(a){a.$el.addClass("flashing");a.l.setTimeout(function(){a.$el.removeClass("flashing")},200)}function wn(a){a.$el.removeClass("animated");a.l.requestAnimationFrame(function(){a.$el.addClass("removing");a.l.setTimeout(function(){a.$el.remove()},500)})}function un(a,b){return a===mg?b.nf():a===ng?b.Lf():a===pg?b.format("shareFolderDialogCanView"):null===a?b.format("shareFolderDialogNotShared"):b.format("shareFolderDialogUnknown")}var tn=_.template('\n  \x3cdiv class\x3d"accessEditorEntry\x3c% if (animated) { %\x3e animated\x3c% } %\x3e" data-user\x3d"\x3c%- user %\x3e" data-brand\x3d"\x3c%- brand %\x3e"\x3e\n    \x3cdiv class\x3d"accessEditorEntryAvatar"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"accessEditorEntryInfo"\x3e\n      \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n      \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"accessEditorEntryControls"\x3e\n      \x3cspan class\x3d"accessControl\x3c% if (editable) {%\x3e editable\x3c% } %\x3e"\x3e\x3c%- currentAccess %\x3e\x3c/span\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n');function xn(a){nm.call(this,_.extend({},a,{className:"shareFolderDialog"}))}n(xn,nm);e=xn.prototype;e.events=function(){return _.extend(nm.prototype.events.call(this),{"click .save":this.qu})};e.initialize=function(a){nm.prototype.initialize.call(this,{l:a.l,title:a.da.title()});this.hb=a.hb;this.D=a.D;this.Em={};this.Jm=a.Jm;this.C=a.C;this.da=a.da;this.Dh=a.Dh};e.render=function(){nm.prototype.render.call(this);this.zf();return this};
e.zf=function(){this.$(".content").html(yn({accessText:this.da.format("shareFolderDialogPeopleWithAccess",this.C.getName()||""),saveButton:this.da.Su(),canModify:this.Dh,readOnlyText:this.da.readOnly()}));this.Dh&&this.$(".findUserInputHolder").append(this.Jm.$el)};e.Ro=function(a,b,c){var d=this;c=this.hb(c,null===a);this.listenTo(c,{select:function(c){return d.trigger("changeAccess",a,b,c)}});sm(c,zn(this,a,b).$(".accessControl"))};
function An(a,b){var c=sn(_.extend(b,{D:a.D,l:a.l,da:a.da}));a.Em[(b.user?b.user.g():"")+b.o.g()]=c;a.Dh&&a.listenTo(c,"triggerMenu",function(){return a.trigger("triggerMenu",b.user,b.o)});a.$(".accessEditor").append(c.$el);b.qj&&!Bn(a,c)&&Cn(a,c)}function Dn(a,b,c){var d=zn(a,b,c);wn(d);a.stopListening(d);delete a.Em[(b?b.g():"")+c.g()]}function En(a,b,c,d){a=zn(a,b,c);a.$(".accessControl").text(un(d,a.da))}function Fn(a,b,c){var d=zn(a,b,c);Bn(a,d)?vn(d):Cn(a,d).then(function(){return vn(d)})}
e.qu=function(){this.trigger("save");Gn(this,!0)};function Hn(a){a.$(".findUserInputHolder").text(a.da.format("shareFolderDialogDegradedAddUserText"))}function Gn(a,b){a.$(".save").toggleClass("submitting",b);a.$(".close").toggleClass("hide",b);a.Aj=!b}function In(a){a.$(".save").prop("disabled",!1)}function zn(a,b,c){a=a.Em[(b?b.g():"")+c.g()];if(!a)throw Error("access editor entry not found");return a}
function Bn(a,b){var c=b.$el.position().top;b=b.$el.height();a=a.$(".accessEditor").height();return 0<c&&c<a-b}function Cn(a,b){a=a.$(".accessEditor");return P.resolve(a.animate({scrollTop:a.scrollTop()+b.$el.position().top-a.height()/2+b.$el.height()/2}).promise())}var yn=_.template('\n  \x3c% if (!canModify) { %\x3e\n    \x3cp class\x3d"feedback feedback--warning feedback--small"\x3e\x3c%- readOnlyText %\x3e\x3c/p\x3e\n  \x3c% } %\x3e\n  \x3cp class\x3d"peopleWithAccess"\x3e\x3c%- accessText %\x3e\x3c/p\x3e\n  \x3cdiv class\x3d"accessEditor\x3c% if (!canModify) { %\x3e readOnly\x3c% } %\x3e"\x3e\x3c/div\x3e\n  \x3cdiv class\x3d"findUserInputHolder"\x3e\x3c/div\x3e\n  \x3cbutton class\x3d"save button buttonSubmittable" disabled\x3e\x3c%- saveButton %\x3e\x3c/button\x3e\n');function Jn(a){this.ma=a.ma;this.view=a.view;this.ob=null;this.o=a.o;this.vk=a.vk||4;this.rf=!!a.rf;this.Tb=[];this.Kd=[];this.pi=0;this.Td=this.bc=null;this.ul=!!a.ul;this.listenTo(this.view,{requestAutocomplete:this.cr,select:this.On})}function Kn(a){var b=a.Yc,b=new bn({el:$(hn({inputPlaceholder:a.Kc}))[0],Yc:b});return new Jn({ma:a.ma,o:a.o,vk:a.vk,rf:a.rf,ul:a.ul,view:b})}e=Jn.prototype;e.remove=function(){this.stopListening();this.view.remove()};
e.lf=function(){var a=this;L(this.rf,"getUsers() only valid in multi user mode");return this.Tb.filter(function(a){return""!==a}).map(function(b){return Ln(a,b)})};function Mn(a){var b=Uf(Tf((new Sf).md(a.o.g()))).od(100);a.ma.Uh(b).then(function(c){a.ob=c.bi();if(c.ea())return a.ma.Uh(b.nd(c.ea()))}).then(function(b){b&&a.ob.push.apply(a.ob,[].concat(la(b.bi())));b=a.Td;a.Td=null;a.cr(b.Qr,b.pos)}).catch(function(b){!a.ul&&a.view.Yd();throw b;})}
e.cr=function(a,b){this.trigger("input");if(this.Td)this.Td={Qr:a,pos:b};else if(null===this.ob)this.Td={Qr:a,pos:b},Mn(this);else{var c=this.Le(a,b);""===c?dn(this.view):(this.bc=this.ob.filter(function(a){return Nn(c,a.R().jb())||Nn(c,a.R().ua())||Nn(c,a.ad())}).slice(0,this.vk),this.rf&&0==this.bc.length?dn(this.view):en(this.view,this.bc))}};
e.Le=function(a,b){if(!this.rf)return a;b=a.lastIndexOf(",",b-1);b=0>=b?0:b+1;var c=a.indexOf(",",b),c=-1==c?a.length:c;this.Kd=[a.slice(0,b),a.slice(b,c),a.slice(c)];this.pi=this.Kd[0].split(",").length-1;this.Tb[this.pi]=this.Kd[1];a=this.Tb.length-this.pi-1;b=this.Kd[2].split(",");c=b.length-1;0<c&&!b[b.length-1].trim()&&c--;this.Tb.splice(this.pi+1,a-c);return this.Kd[1]};
function Ln(a,b){if(b instanceof Qf||!a.ob)return b;a=a.ob.filter(function(a){return a.ad()===b.trim()});return a.length?a[0]:b}function Nn(a,b){return!!b&&-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}e.On=function(a){if(this.rf){this.Tb[this.pi]=this.bc[a];var b=this.view,c=this.Kd[0]+(this.Kd[0]?" ":"");a=this.bc[a];a=a.ad()||a.R().ua()||a.R().jb();c=c+a+(this.Kd[2]?"":", ")+this.Kd[2];b.$("input").val(c)}else this.trigger("select",this.bc[a]),this.view.$("input").val("")};
e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function On(a){var b=this;this.D=a.D;this.Na=a.Na;this.w=a.w;this.ym=!1;this.C=a.C;this.xa=a.xa;this.Im=a.Im;this.ma=a.ma;this.view=a.view;this.listenTo(this.view,{save:function(){b.ym&&b.w.change("acl",b.C,b.xa)},hide:function(){b.stopListening()},triggerMenu:function(a,d){return b.Pn(a,d)},changeAccess:function(a,d,f){return Pn(b,a,d,f)}});this.listenTo(this.w,{"change:success":function(a,d){return b.Dn(a,d)},"change:fail":function(a,d){return b.Cn(a,d)}});this.listenTo(this.Im,{select:function(a){return Qn(b,
a)}})}
function Rn(a){var b=Zh(a.i);L("undefined"!==typeof a.C.ve(),"expecting Folder to have ACL list");var c=a.C.ve().getEntries().reduce(function(a,b){return a+(b.R()?0:1)},0);L(1>=c,"expecting ACL to have maximum of 1 brand entry");var c=a.Ms({Kc:b.format("shareFolderDialogAddUserPlaceholder"),ma:a.ma,o:a.Na,Yc:Jh(a.i)}),d=new xn({Dh:lg(a.C,ng),D:a.D,hb:function(a,c){return new Sm({da:b,Ze:a,uo:c})},l:a.l,C:a.C,Jm:c.view,da:b});return new On({Na:a.Na,D:a.D,w:a.w,C:a.C,xa:a.C.ve(),Im:c,ma:a.ma,view:d})}
e=On.prototype;e.init=function(){this.view.show();Sn(this)};function Sn(a){var b=Uf(Tf((new Sf).md(a.Na.g()).od(100)));a.Th([],b,4).then(function(b){Tn(a,b)}).catch(Un,function(b){return Tn(a,b.ob,!0)}).catch(function(){var b=a.view;b.$(".content").html(b.da.format("shareFolderDialogEditorLoadError","https://support.canva.com/troubleshooting"))})}
e.Th=function(a,b,c){var d=this;return this.ma.Uh(b).then(function(f){a=a.concat(f.bi());if(f.ea()){if(1===c)throw new Un(0,a);return d.Th(a,b.nd(f.ea()),c-1)}return a})};
function Tn(a,b,c){if("undefined"===typeof a.xa.getEntries())throw Error("acl getEntres() is returning undefined");c&&Hn(a.view);c=a.xa.getEntries().filter(function(a){return a.ia()&&!a.R()});An(a.view,{user:null,o:a.Na,email:null,Ze:c.length?c[0].$c():null,qj:!1,sb:!0});a.xa.getEntries().filter(function(a){return!(a.ia()&&!a.R())}).forEach(function(c){var f;b.forEach(function(a){a.R().g()===c.R()&&(f=a)});"undefined"!==typeof f&&An(a.view,{user:f.R(),o:a.Na,email:f.ad(),Ze:c.$c(),qj:!1,sb:c.$c()!==
mg})})}function Qn(a,b){var c;c=void 0===c?ng:c;var d=b.R();if(a.xa.getEntries().some(function(b){return Vn(b,d,a.Na)}))Fn(a.view,d,a.Na);else{var f=a.xa.getEntries().slice();f.push(new sg({user:d.g(),o:a.Na.g(),Tl:c}));a.xa=a.xa.Xe({entries:f});An(a.view,{user:d,o:a.Na,email:b.ad(),Ze:c,qj:!0,sb:!0});a.ym=!0;In(a.view)}}
function Pn(a,b,c,d){var f;if(null===d)f=a.xa.getEntries().filter(function(a){return!Vn(a,b,c)});else{var g=!1;f=a.xa.getEntries().map(function(a){return Vn(a,b,c)?(g=!0,a.Xe({access:d})):a});g||null!==b||f.unshift(new sg({user:null,o:c.g(),Tl:d}))}a.xa=a.xa.Xe({entries:f});a.ym=!0;In(a.view);null===d&&null!==b?Dn(a.view,b,c):En(a.view,b,c,d)}e.Pn=function(a,b){var c=this.xa.getEntries().filter(function(c){return Vn(c,a,b)});this.view.Ro(a,b,c.length?c[0].$c():null)};
e.Dn=function(a,b){"acl"===a&&b.g()===this.C.g()&&this.view.remove()};e.Cn=function(a,b){"acl"===a&&b.g()===this.C.g()&&(a=this.view,alert(a.da.format("shareFolderDialogSaveFailed","https://support.canva.com/troubleshooting")),Gn(a,!1))};function Vn(a,b,c){return("undefined"!==typeof a.R()?a.R():null)===(b?b.g():null)&&a.ia()===c.g()}e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function Un(a,b){this.ob=b}n(Un,Error);function Wn(a){this.C=a.C;this.w=a.w;this.Nf=a.Nf;this.view=a.view;this.listenTo(this.w,{"change:success":this.Bk.bind(this,!0),"change:fail":this.Bk.bind(this,!1),"delete:fail":this.Hn});this.listenTo(this.view,{edit:this.Yt,deleteFolder:this.Vt,shareDialogClick:this.ru,folderMemberClick:this.eu,starButtonClick:this.uu})}e=Wn.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;function Xn(a){return new Wn({Nf:a.Nf,w:a.w,K:a.K,C:a.C,l:a.l,view:a.view})}
e.getElement=function(){return this.view.render().$el};e.remove=function(){this.view.remove();this.stopListening()};e.ru=function(){Yn(this)};e.eu=function(){Yn(this)};function Yn(a){if(!a.Nf)throw Error("createShareFolderDialog not injected to DesignFolderHeader");a.Nf().init()}e.uu=function(a){this.w.change("userSettings",this.C,new kg({hc:a}))};
e.Bk=function(a,b,c){c.g()===this.C.g()&&(a&&(this.C=c),"name"===b?Nm(this.view,"title",a):"description"===b?Nm(this.view,"description",a):"acl"===b?(a=this.view,a.C=c,a.render(),Zn(this)):"metadata"===b?Zn(this):"userSettings"===b&&Nm(this.view,"star",a))};function Zn(a){var b=nl(a.w,a.C.g());a=a.view;a.Bd=b;a.render()}e.Yt=function(a,b){this.w.change("title"===a?"name":"description",this.C,b)};e.Vt=function(){Om(this.view,!0);this.w.delete(this.C)};
e.Hn=function(a){a.g()===this.C.g()&&Om(this.view,!1).Oj()};function $n(){}$n=Backbone.View.extend({className:"tileListBusyIndicator"});e=$n.prototype;e.initialize=function(){this.transitionDelay=-1;this.zl=0};e.hide=function(){ao(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};e.render=function(){this.$el.html(this.template());return this};function ao(a,b){0!=a.zl&&(window.clearTimeout(a.zl),a.zl=0);0<=a.transitionDelay?a.zl=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}e.show=function(){ao(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
e.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};var bo=$n;function co(a,b){this.$el=a;this.Cj=b.Cj||"";this.lc=b.lc}function eo(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new co(b,a)}e=co.prototype;e.add=function(a,b){var c=this;this.aa||fo(this,go(this));var d=ho(this);this.aa.eq(0).append(a);var f=a.get().map(this.Ua,this);a.each(function(a,h){var k=io(c,d);d[k]+=f[a];b?c.aa.eq(k).prepend(h):c.aa.eq(k).append(h)})};e.contains=function(a){return!(!this.aa||!this.aa.children().filter(a).length)};
function fo(a,b){var c="masonryLayoutColumn "+a.Cj;a.aa=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.aa.appendTo(a.$el)}function go(a){if("function"===typeof a.lc){var b=a.$el.width();a=a.lc(b)}else a=a.lc;return Math.max(a,1)}
function ho(a){return a.aa.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}function io(a,b){b||(b=ho(a));return _.min(_.range(b.length),function(a){return b[a]})}
e.Ua=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};e.we=function(){var a=this.aa&&this.aa.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
function lo(a,b){function c(a){return a.offsetHeight+a.offsetTop}if(!a.contains(b))throw Error("The given element is not an item in the masonry layout.");var d=c(b[0]);return $(a.aa.children().get().filter(function(a){return c(a)>d}))}e.kg=function(){if(this.aa){var a=io(this),a=this.aa.get(a);return $(a)}return null};e.isEmpty=function(){return!(this.aa&&this.aa.children().length)};e.push=function(a){this.add(a)};
e.jd=function(){var a=go(this),a=this.aa&&a!==this.aa.length;this.aa&&a&&(a=this.we().detach(),this.aa&&this.aa.remove(),this.aa=void 0,this.push(a),this.trigger("redraw"))};e.remove=function(a){this.aa&&this.aa.children().filter(a).remove()};e.removeAll=function(){this.aa&&this.aa.children().remove()};
e.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=lo(this,a);if(0===b.length)return null;var c=eo({Cj:this.Cj,lc:this.lc});fo(c,this.aa.length);this.aa.each(function(a,f){f=$(f).children().filter(b);c.aa.eq(a).append(f)});return c};e.unshift=function(a){this.add(a,!0)};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function mo(){}mo=vm.extend({className:"designCardMenuContainer"});e=mo.prototype;e.initialize=function(a){this.Sh=a.Sh;this.jl=a.jl||!1;this.Wl=a.Wl||null;this.ol=!!a.ol;this.vo=!!a.vo;this.Fr=!!a.Fr;this.wo=!!a.wo;this.qo=!!a.qo;this.Er=!!a.Er;this.Gr=!!a.Gr;this.La=a.La;vm.prototype.initialize.call(this,{content:this.zf(),ah:!1,position:["leftTop","rightTop"],xf:!0,Me:!1})};
e.events=function(){return{"click .designCardMenu__copyDesign":this.kd.bind(this,"copy"),"click .designCardMenu__trashDesign":this.kd.bind(this,"trash"),"click .designCardMenu__removeFromFolder":this.kd.bind(this,"removeFromFolder"),"click .designCardMenu__removeFromAllFolders":this.kd.bind(this,"removeFromAllFolders"),"click .designCardMenu__restoreDesign":this.kd.bind(this,"restore"),"click .designCardMenu__deleteForever":this.kd.bind(this,"deleteForever"),"click .designCardMenu__editTemplate":this.kd.bind(this,
"editTemplate"),"click .designCardMenu__removeTemplate":this.kd.bind(this,"removeTemplate")}};e.kd=function(a){this.trigger(a);this.remove()};
e.zf=function(){return this.im({docTypeName:this.Sh,showCopyDesign:this.jl,showTrashDesign:this.ol,showRemoveFromFolder:this.vo,showRemoveFromAllFolders:this.Fr,showRestoreDesign:this.wo,showDeleteForever:this.qo,showEditTemplate:this.Er,showRemoveTemplate:this.Gr,copyDesign:this.La.format("designCardMenuCopyDesign"),trashDesign:this.La.format("designCardMenuTrashDesign"),removeFromFolder:this.La.format("designCardMenuRemoveFromFolder",this.Wl),removeFromAllFolders:this.La.format("designCardMenuRemoveFromAllFolders"),
restoreDesign:this.La.format("designCardMenuRestoreDesign"),deleteForever:this.La.format("designCardMenuDeleteForever"),editTemplate:this.La.format("designCardMenuEditTemplate"),removeTemplate:this.La.format("designCardMenuRemoveTemplate")})};e.im=_.template('\x3cdiv class\x3d"infoPanel"\x3e\x3c%- docTypeName %\x3e\x3c/div\x3e\x3cdiv class\x3d"selectMenu"\x3e\x3c% if (showEditTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__editTemplate"\x3e\x3c%- editTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showCopyDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__copyDesign"\x3e\x3c%- copyDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showTrashDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__trashDesign"\x3e\x3c%- trashDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromFolder) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromFolder"\x3e\x3c%- removeFromFolder %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromAllFolders) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromAllFolders"\x3e\x3c%- removeFromAllFolders %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRestoreDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__restoreDesign"\x3e\x3c%- restoreDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showDeleteForever) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__deleteForever"\x3e\x3c%- deleteForever %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeTemplate"\x3e\x3c%- removeTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');
var no=mo;function oo(a){this.object=a.object;this.id=a.id;this.sd=a.sd;this.Gb=a.Gb;this.content=a.content;this.Ma=a.Ma;this.ee=a.ee;this.zd=a.zd;this.Ug=a.Ug;this.qk=a.qk;this.Tg=a.Tg}oo.prototype.g=function(){return this.id};oo.prototype.getContent=function(){return this.content};
function po(a){return new oo({object:v("object",a),id:v("id",a),sd:v("authorId",a),Gb:A(tb,"author",a),content:x("content",a),Ma:t("created",a),ee:t("updated",a),zd:x("deleter",a),Ug:y("resolved",a),qk:B(qo,"latestReply",a),Tg:t("replyCount",a)})}function ro(a){this.object=a.object;this.Tr=a.Tr;this.id=a.id;this.sd=a.sd;this.Gb=a.Gb;this.content=a.content;this.Ma=a.Ma;this.ee=a.ee;this.zd=a.zd}ro.prototype.g=function(){return this.id};ro.prototype.getContent=function(){return this.content};
function qo(a){return new ro({object:v("object",a),Tr:v("threadId",a),id:v("id",a),sd:v("authorId",a),Gb:A(tb,"author",a),content:x("content",a),Ma:t("created",a),ee:t("updated",a),zd:x("deleter",a)})}function so(a){this.object=a.object;this.accessToken=a.accessToken;this.content=a.content}so.prototype.getContent=function(){return this.content};function to(a){return{object:E("object",a.object),accessToken:J("accessToken",a.accessToken),content:E("content",a.content)}}
function uo(a){this.id=a.id;this.Ma=a.Ma}uo.prototype.g=function(){return this.id};function vo(a){return new uo({id:v("id",a),Ma:t("created",a)})}function wo(a){this.object=a.object;this.accessToken=a.accessToken;this.limit=a.limit;this.G=a.G}wo.prototype.Fc=function(){return this.limit};wo.prototype.ea=function(){return this.G};function xo(a){this.qa=a.qa||[];this.G=a.G}xo.prototype.ea=function(){return this.G};function yo(a){return new xo({qa:C(po,"comments",a),G:x("continuation",a)})}
function zo(a){this.object=a.object;this.id=a.id}zo.prototype.g=function(){return this.id};function Ao(){}function Bo(){return new Ao};function Co(a){this.F=a;this.path="/comments"}function Do(a,b){return T(a.F,a.path+"/"+encodeURIComponent(b.object)+"?limit\x3d"+encodeURIComponent(String(b.limit))+(b.G?"\x26continuation\x3d"+encodeURIComponent(b.G):"")+(b.accessToken?"\x26accessToken\x3d"+encodeURIComponent(b.accessToken):"")).get(0).then(q).then(yo)}Co.prototype.createComment=function(a){return U(this.F,this.path+"/"+encodeURIComponent(a.object),to(a)).get(0).then(q).then(vo)};
Co.prototype.Oh=function(a){return xj(this.F,this.path+"/"+encodeURIComponent(a.object)+"/"+encodeURIComponent(a.id)).get(0).then(q).then(Bo)};function Eo(a,b){switch(b){case "FOLLOW":return"FOLLOW";case "LIKE":return"LIKE";case "PUBLICIFY":return"PUBLICIFY";default:throw new TypeError('expected ActivityVerb for property "'+a+'", found: '+JSON.stringify(b));}}function Fo(a){this.document=a.document;this.W=a.W;this.Nc=a.Nc;this.za=a.za;this.$a=a.$a;this.ca=a.ca}Fo.prototype.getDocument=function(){return this.document};Fo.prototype.ci=function(){return this.W};
function Go(a){return new Fo({document:A(Nc,"document",a),W:A(tb,"owner",a),Nc:t("remixCount",a),za:t("likerCount",a),$a:t("commentCount",a),ca:y("likedByMe",a)})}function Ho(a){this.id=a.id;this.bg=a.bg;this.ja=a.ja}Ho.prototype.g=function(){return this.id};Ho.prototype.getExtension=function(){return this.bg};function Io(a){this.document=a.document;this.ti=a.ti||[];this.je=a.je}Io.prototype.getDocument=function(){return this.document};
function Jo(a){return new Io({document:A(Go,"document",a),ti:C(cd,"mediaMap",a),je:D(sc,"accessRole",a)})}function Ko(a){this.wg=a.wg;this.type=a.type;this.Qb=a.Qb;this.accessToken=a.accessToken}Ko.prototype.Zb=function(){return this.type};function Lo(a){return{liker:J("liker",a.wg),type:E("type",a.type),liked:E("liked",a.Qb),accessToken:J("accessToken",a.accessToken)}}function Mo(){}function No(){return new Mo}function Oo(a){this.wg=a.wg;this.type=a.type;this.Qb=a.Qb}Oo.prototype.Zb=function(){return this.type};
function Po(){}function Qo(){return new Po}function Ro(a){this.user=a.user;this.limit=a.limit;this.G=a.G}Ro.prototype.R=function(){return this.user};Ro.prototype.Fc=function(){return this.limit};Ro.prototype.ea=function(){return this.G};function So(a){this.user=a.user;this.read=a.read}So.prototype.R=function(){return this.user};function To(a){return{user:J("user",a.user),read:Oa("read",a.read)}}function Uo(){}function Vo(){return new Uo};function Wo(a){this.Co=a.Co||[];this.read=a.read;this.G=a.G}Wo.prototype.ea=function(){return this.G};function Xo(a){return new Wo({Co:C(Yo,"stories",a),read:u("read",a),G:x("continuation",a)})}function Zo(a){this.document=a.document;this.W=a.W;this.Nc=a.Nc;this.za=a.za;this.$a=a.$a;this.ca=a.ca}Zo.prototype.getDocument=function(){return this.document};Zo.prototype.ci=function(){return this.W};
function $o(a){return new Zo({document:A(tf,"document",a),W:A(zf,"owner",a),Nc:t("remixCount",a),za:t("likerCount",a),$a:t("commentCount",a),ca:y("likedByMe",a)})}function ap(a){this.document=a.document;this.rs=a.rs;this.Xl=a.Xl;this.timestamp=a.timestamp}ap.prototype.getDocument=function(){return this.document};function Yo(a){return new ap({document:A($o,"document",a),rs:D(Eo,"verb",a),Xl:A(zf,"actor",a),timestamp:t("timestamp",a)})};function bp(a){this.F=a;this.path="/social"}bp.prototype.vq=function(a){var b=a.bg;return T(this.F,this.path+"/documents/"+encodeURIComponent(a.id)+"/profile"+(b?"?extension\x3d"+encodeURIComponent(b):"")).get(0).then(q).then(Jo)};function cp(a,b){var c=b.wg;return U(a.F,c?a.path+encodeURIComponent(c)+"/likes":a.path+"/user/likes",Lo(b)).get(0).then(q).then(No)}
function dp(a,b){var c=b.wg;return xj(a.F,c?a.path+"/users/"+encodeURIComponent(c)+"/likes/"+encodeURIComponent(b.Qb):a.path+"/user/likes/"+encodeURIComponent(b.Qb)).get(0).then(q).then(Qo)}function ep(a,b){var c=b.G;return T(a.F,a.path+"/user/stream?limit\x3d"+encodeURIComponent(String(b.limit))+(c?"\x26continuation\x3d"+encodeURIComponent(c):"")).get(0).then(q).then(Xo)};function fp(){this.items=[];this.nn={}}e=fp.prototype;e.contains=function(a){return a in this.nn};e.getItem=function(a){if(!this.contains(a))throw Error('DesignStreamItem for document "'+a+'" not found.');return this.nn[a]};e.getLength=function(){return this.items.length};e.previous=function(a){var b=this.getLength();a=this.items.indexOf(a);0<=a&&--a;return this.items[(a+b)%b]};e.next=function(a){var b=this.getLength();a=this.items.indexOf(a);return this.items[(a+1)%b]};
function gp(a,b,c,d,f){this.Hh=a;this.pa=b;this.Wb=c.document.g();this.complete=f;a=c.document.g();a in hp&&!f||(hp[a]=c)}gp.prototype.vq=function(){return hp[this.Wb]};gp.prototype.Oh=function(a){var b=this;return this.Hh.Oh(new zo({object:this.Wb,id:a.id})).then(function(){b.Rm().Oh(a)})};gp.prototype.Rm=function(){var a=ip[this.Wb];a||(a=new jp,ip[this.Wb]=a);return a};var hp={},ip={};function jp(){this.Ps={};this.items=[];this.complete=!1}jp.prototype.Oh=function(a){this.Ps[a.id]=a};function kp(){}kp=Backbone.View.extend({className:"designCardFolderList",tagName:"ul"});e=kp.prototype;e.initialize=function(a){this.Zc=[];this.La=a.La};
e.render=function(){function a(a){this.$el.append($(this.ft({name:a.getName(),link:"/folder/"+a.g()})))}function b(a){return a.getName()||this.La.format("designCardFolderLabelDefaultName")}var c;this.$el.empty();3>=this.Zc.length?this.Zc.forEach(a,this):(this.Zc.slice(0,2).forEach(a,this),c=this.Zc.slice(2),this.$el.append($(this.At({moreText:this.La.format("designCardMoreFolders",c.length),moreTitle:c.map(b,this).join(", ")}))));return this};
e.rd=function(a){var b;this.Zc.some(function(c){if(c.g()===a.g())return b=c,!0});b||this.Zc.push(a)};e.Il=function(a){this.Zc=a.slice(0)};e.At=_.template('\x3cli class\x3d"designCardFolder designCardFolderMore"\x3e\x3cspan class\x3d"designCardFolderMoreLink" title\x3d"\x3c%- moreTitle %\x3e"\x3e\x3c%- moreText %\x3e\x3c/span\x3e\x3c/li\x3e');e.ft=_.template('\x3cli class\x3d"designCardFolder"\x3e\x3ca class\x3d"designCardFolderLink" href\x3d"\x3c%- link %\x3e" title\x3d"\x3c%- name %\x3e"\x3e\x3c%- name %\x3e\x3c/a\x3e\x3c/li\x3e');
var lp=kp;function mp(a){a=_.map(a,function(a,c){if(void 0!==a)return[encodeURIComponent(c),encodeURIComponent(a)].join("\x3d")});a=_.flatten(a).join("\x26");return window.signupLink||"/signup"+(a?"?"+a:"")};function np(){}np=Backbone.View.extend({className:"button buttonLike buttonSmall"});e=np.prototype;e.attributes=function(){return{tabindex:0}};e.events=function(){return{click:this.sf}};e.initialize=function(a){this.Wb=a.Wb;this.Be=a.Be;this.ca=a.ca;this.za=a.za;this.pa=a.pa;this.Ab=a.Ab};e.si=function(){var a=this;this.ca=!0;this.za++;this.render();cp(this.pa,new Ko({Qb:this.Wb,type:"DOCUMENT"})).catch(function(){a.ca=!1;a.za--;a.render();a.trigger("unlike")});this.trigger("like")};
e.navigate=function(a){window.location=a};e.sf=function(){this.$el.removeClass("buttonLike--noAnimation");this.Be?this.navigate(mp({loginRedirect:window.location.pathname+window.location.search})):this.ca?op(this):this.si()};
e.render=function(){if(1>this.$el.children().length)this.$el.html(this.template(this.fl())),this.$el.addClass("buttonLike--noAnimation");else if(this.gn()){var a=this.ca?this.Ab.si():this.Ab.Qb();this.$(".buttonLike__text").attr("data-alternate-text",a)}this.$(".buttonLike__text").html(this.lv(this.fl()));this.$el.toggleClass("buttonActive",this.ca);this.$el.toggleClass("buttonLike__firstLike",this.gn());return this};
e.fl=function(){return{isFirstLike:this.gn(),likedByMe:this.ca,likerCount:this.za,likeLabel:this.Ab.si(),likedLabel:this.Ab.Qb()}};e.gn=function(){return 1>this.za-this.ca};e.template=_.template('\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text"\x3c% if (isFirstLike) { %\x3e data-alternate-text\x3d"\x3c%- likedByMe ? likeLabel : likedLabel %\x3e"\x3c% } %\x3e\x3e\x3c/span\x3e');e.lv=_.template("\x3c% if (isFirstLike) { %\x3e\x3c%- likedByMe ? likedLabel : likeLabel %\x3e\x3c% } else { %\x3e\x3c%- likerCount %\x3e\x3c% } %\x3e");
function op(a){a.ca=!1;a.za--;a.render();dp(a.pa,new Oo({Qb:a.Wb})).catch(function(){a.ca=!0;a.za++;a.render();a.trigger("like")});a.trigger("unlike")}var pp=np;var qp=new function(){"undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/);this.Rl=5E3;this.xs=255;this.Sl=40};function rp(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}e=rp.prototype;e.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};e.clone=function(){return new rp(this.left,this.top,this.width,this.height)};e.ab=function(){return this.width};e.Ua=function(){return this.height};e.Ym=function(){return{width:this.width,height:this.height}};e.setPosition=function(a,b){this.left=a;this.top=b;return this};
e.setSize=function(a,b){this.width=a;this.height=b;return this};e.translate=function(a,b){this.left+=a;this.top+=b;return this};e.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};e.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
e.touches=function(a){return.25>Math.abs(this.top-(a.top+a.height))||.25>Math.abs(this.top+this.height-a.top)?this.left<=a.left+a.width&&this.left+this.width>=a.left:.25>Math.abs(this.left+this.width-a.left)||.25>Math.abs(this.left-(a.left+a.width))?this.top<=a.top+a.height&&this.top+this.height>=a.top:!1};function sp(a,b,c){a=a.trim();if(a.length<=b)return a;void 0===c&&(c="");var d=a.substr(0,b-c.length),f=a.substr(b-c.length).match(/^\S+/),g=d.match(/\S+$/);g&&f&&(d=d.substr(0,d.length-g[0].length));d=d.trim();""===d&&(d=a.substr(0,b-c.length));return d=d.trim()+c};function tp(a,b,c){this.text=b||null;b=Dh(a);this.text&&this.text.toLocaleLowerCase()===ii(b).toLocaleLowerCase()&&(this.text=null);this.Ph=c||null;this.i=a}tp.prototype.on=Backbone.Events.on;tp.prototype.off=Backbone.Events.off;tp.prototype.trigger=Backbone.Events.trigger;function up(a){var b=a.text||ii(Dh(a.i));a.Ph&&(null===a.text||""===a.text)&&(b=a.Ph+"  "+b);return b};function vp(a){soy.asserts.assertType(goog.isBoolean(a.zh)||1===a.zh||0===a.zh,"brandIsPublic",a.zh,"boolean");var b=!!a.zh;soy.asserts.assertType(goog.isNumber(a.$a),"commentCount",a.$a,"number");soy.asserts.assertType(goog.isString(a.Ye)||a.Ye instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Ye,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"editingTitle",a.tb,"boolean");soy.asserts.assertType(goog.isBoolean(a.ki)||1===a.ki||0===
a.ki,"isForSale",a.ki,"boolean");var c=!!a.ki;soy.asserts.assertType(goog.isBoolean(a.nf)||1===a.nf||0===a.nf,"isOwner",a.nf,"boolean");var d=!!a.nf;soy.asserts.assertType(goog.isBoolean(a.li)||1===a.li||0===a.li,"isPublic",a.li,"boolean");var f=!!a.li;soy.asserts.assertType(goog.isBoolean(a.mi)||1===a.mi||0===a.mi,"isUnderReview",a.mi,"boolean");var g=!!a.mi;soy.asserts.assertType(goog.isBoolean(a.oc)||1===a.oc||0===a.oc,"isViewOnly",a.oc,"boolean");var h=!!a.oc;soy.asserts.assertType(goog.isBoolean(a.xi)||
1===a.xi||0===a.xi,"newMenuDesign",a.xi,"boolean");var k=!!a.xi;soy.asserts.assertType(null==a.wf||goog.isObject(a.wf),"ownerModel",a.wf,"null|undefined|{avatarUrl: string, displayName: string, username: string}");soy.asserts.assertType(goog.isBoolean(a.kb)||1===a.kb||0===a.kb,"showEditTitle",a.kb,"boolean");soy.asserts.assertType(goog.isBoolean(a.Rb)||1===a.Rb||0===a.Rb,"showFolders",a.Rb,"boolean");var l=!!a.Rb;soy.asserts.assertType(goog.isBoolean(a.Za)||1===a.Za||0===a.Za,"showSocialSection",
a.Za,"boolean");var r=!!a.Za;soy.asserts.assertType(goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showVisibilityIcon",a.Oc,"boolean");var w=!!a.Oc;soy.asserts.assertType(goog.isString(a.gh)||a.gh instanceof goog.soy.data.SanitizedContent,"stateBrandPublic",a.gh,"string|goog.soy.data.SanitizedContent");var G=a.gh;soy.asserts.assertType(goog.isString(a.hh)||a.hh instanceof goog.soy.data.SanitizedContent,"stateForSale",a.hh,"string|goog.soy.data.SanitizedContent");var I=a.hh;soy.asserts.assertType(goog.isString(a.ih)||
a.ih instanceof goog.soy.data.SanitizedContent,"statePublic",a.ih,"string|goog.soy.data.SanitizedContent");var H=a.ih;soy.asserts.assertType(goog.isString(a.jh)||a.jh instanceof goog.soy.data.SanitizedContent,"stateUnderReview",a.jh,"string|goog.soy.data.SanitizedContent");var ja=a.jh;soy.asserts.assertType(goog.isString(a.kh)||a.kh instanceof goog.soy.data.SanitizedContent,"stateViewOnly",a.kh,"string|goog.soy.data.SanitizedContent");var F=a.kh;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof
goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ml)||a.Ml instanceof goog.soy.data.SanitizedContent,"viewOnlyIconText",a.Ml,"string|goog.soy.data.SanitizedContent");var Fa=a.Ml;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__clickBarrier"\x3e\x3c/div\x3e\x3cdiv class\x3d"designCardThumbnailContainer"\x3e'+(k?'\x3cbutton class\x3d"button buttonSmall designCardMenuTrigger"\x3e\x3c/button\x3e':
"")+(d&&g?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardUnderReviewIcon" title\x3d"'+soy.$$escapeHtmlAttribute(ja)+'"\x3e\x3c/div\x3e':c?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardForSaleIcon" title\x3d"'+soy.$$escapeHtmlAttribute(I)+'"\x3e\x3c/div\x3e':w?b?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardBrandPublicIcon" title\x3d"'+soy.$$escapeHtmlAttribute(G)+'"\x3e\x3c/div\x3e':f?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardPublicIcon" title\x3d"'+
soy.$$escapeHtmlAttribute(H)+'"\x3e\x3c/div\x3e':"":h?'\x3cdiv class\x3d"designCard__statusIndicatorText designCardViewOnlyIcon" title\x3d"'+soy.$$escapeHtmlAttribute(F)+'"\x3e'+soy.$$escapeHtml(Fa)+"\x3c/div\x3e":"")+"\x3c/div\x3e"+wp(a)+(l?'\x3cdiv class\x3d"designCard__folderListContainer"\x3e\x3c/div\x3e':"")+(r?xp(a):""))}
function wp(a){soy.asserts.assertType(null==a.wf||goog.isObject(a.wf),"ownerModel",a.wf,"null|undefined|{avatarUrl: string, displayName: string, username: string}");var b=a.wf;soy.asserts.assertType(goog.isBoolean(a.tb)||1===a.tb||0===a.tb,"editingTitle",a.tb,"boolean");var c=!!a.tb;soy.asserts.assertType(goog.isBoolean(a.kb)||1===a.kb||0===a.kb,"showEditTitle",a.kb,"boolean");var d=!!a.kb;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");a=a.title;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cfigcaption class\x3d"designCard__titleSection"\x3e'+(b?yp(b):"")+'\x3cdiv class\x3d"designCardTitle'+(d?" editable":"")+(c?" editing":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e'+(c?'\x3cinput type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(a)+'" /\x3e':soy.$$escapeHtml(a))+"\x3c/div\x3e\x3c/figcaption\x3e")}
function yp(a){soy.asserts.assertType(goog.isString(a.username)||a.username instanceof goog.soy.data.SanitizedContent,"username",a.username,"string|goog.soy.data.SanitizedContent");var b=a.username;soy.asserts.assertType(goog.isString(a.Ja)||a.Ja instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.Ja,"string|goog.soy.data.SanitizedContent");var c=a.Ja;soy.asserts.assertType(goog.isString(a.displayName)||a.displayName instanceof goog.soy.data.SanitizedContent,"displayName",a.displayName,"string|goog.soy.data.SanitizedContent");
a=a.displayName;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"designCardOwner" href\x3d"/'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(c))+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e")}
function xp(a){soy.asserts.assertType(goog.isNumber(a.$a),"commentCount",a.$a,"number");var b=a.$a;soy.asserts.assertType(goog.isString(a.Ye)||a.Ye instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Ye,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__socialSection"\x3e\x3ca class\x3d"designCard__commentsLink" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Ye))+'"\x3e\x3cdiv class\x3d"designCard__commentsIconContainer"\x3e'+
soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"14px" height\x3d"14px" viewBox\x3d"0 0 14 14" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cg stroke\x3d"none" stroke-width\x3d"1" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(-590.000000, -471.000000)"\x3e\x3cg transform\x3d"translate(575.000000, 114.000000)"\x3e\x3cpath d\x3d"M22,357 C18.13425,357 15,359.742687 15,363.125 C15,365.058312 16.0259375,366.779875 17.625,367.902062 L17.625,371 L20.6914375,369.139313 C21.1158125,369.209312 21.5524375,369.25 22,369.25 C25.86575,369.25 29,366.50775 29,363.125 C29,359.742687 25.86575,357 22,357" transform\x3d"translate(22.000000, 364.000000) scale(-1, 1) translate(-22.000000, -364.000000) "\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/div\x3e"+(0<b?'\x3cspan class\x3d"designCard__commentsLinkText"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/a\x3e\x3c/div\x3e")}
function zp(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__generatingPreview"\x3e\x3cdiv class\x3d"designCard__generatingPreviewContent"\x3e\x3cp\x3e'+soy.$$escapeHtml(a.title)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")};function Ap(){}Ap=Backbone.View.extend({className:"designCard",tagName:"figure"});e=Ap.prototype;e.initialize=function(a){this.j=a.j||null;this.We=!!a.We;this.D=a.D;this.Gc=a.Gc;this.ai=a.ai;this.ei=a.ei;this.an=a.an;this.mn=a.mn;this.oc=a.oc;this.pc=null;this.hb=a.hb;this.W=a.W;this.Rb=!!a.Rb;this.$d=!!a.$d;this.Za=!!a.Za;this.Oc=!!a.Oc;this.kb=!!a.kb;this.item=a.item;this.pa=a.pa;this.i=a.i;this.tb=!1};
e.events=function(){return{"click .designCard__clickBarrier":this.Kn,"click .designCardThumbnail":this.Ei,"click .designCardTitle \x3e .more":this.ct,"click .designCardTitle":this.gv,"keydown .designCardTitle input":this.vu,"blur .designCardTitle input":this.Bo.bind(this,!0),"click .designCardMenuTrigger":this.Kn}};e.ct=function(a){a.preventDefault();a=this.$(".designCardTitle");var b=a.data("fullText");void 0!==b&&a.text(b).removeData("fullText")};
e.gv=function(a){!this.kb||window.getSelection().toString().length||this.tb||this.$el.hasClass("titleEditPending")||this.$el.hasClass("designCardTrashed")||(this.tb=!0,a.preventDefault(),this.render(),this.$el.find(".designCardTitle input").select())};e.Bo=function(a){if(this.tb){this.tb=!1;var b=sp(this.$el.find(".designCardTitle input").val().toString(),qp.xs,"");a&&b!==this.item.getName()&&b!==up(new tp(this.i,this.item.getName()))&&this.trigger("editTitle",b);this.render()}};
e.vu=function(a){switch(a.keyCode){case 13:this.Bo(!0);break;case 27:this.Bo(!1)}};
e.Kn=function(){function a(a){this.trigger(a);this.j&&yh(this.j,a,"homepage",null,"design_card_menu")}var b=this;this.hb&&(this.pc&&this.stopListening(this.pc),this.pc=this.hb(),this.listenTo(this.pc,{copy:function(){return b.trigger("copy")},trash:function(){return b.trigger("trash")},removeFromFolder:a.bind(this,"removeFromFolder"),removeFromAllFolders:a.bind(this,"removeFromAllFolders"),restore:a.bind(this,"restore"),deleteForever:a.bind(this,"deleteForever"),editTemplate:a.bind(this,"editTemplate"),
removeTemplate:a.bind(this,"removeTemplate")}),sm(this.pc,this.$(".designCardMenuTrigger")),this.$(".designCardMenuTrigger").toggleClass("pointLeft","rightTop"===this.pc.getCurrentPosition()))};e.Ei=function(){this.We?this.Kn():this.trigger("thumbnailClick")};e.wb=function(){return this.$(".designCardThumbnail")};
e.render=function(){L(!this.Za||!!this.ai,"Cannot render social section without getCommentsLink.");L(!this.Za||!!this.D,"Cannot render social section without currentUser.");var a=Za(Vg(this.item),"items must have socialMetadata"),b="OWNER"===a.Nd,c=Hh(this.i);this.$el.data("id",this.item.g());this.$el.html(vp({zh:!!a.Ah,$a:a.$a,Ye:this.ai?this.ai().href:"",tb:this.tb,ki:"APPROVED"==this.item.marketplaceStatus,nf:b,li:!!a.Ii,mi:"UNDER_REVIEW"==this.item.marketplaceStatus,oc:this.oc,xi:void 0!==this.hb,
wf:this.$d?Bp(this):void 0,kb:this.kb,Rb:!!this.Rb,Za:this.Za,Oc:this.Oc,gh:c.gh(),hh:c.hh(),ih:c.ih(),jh:c.jh(),kh:c.kh(),title:up(new tp(this.i,this.item.getName())),Ml:c.format("designCardViewOnlyIcon")}).toString());a=this.$(".designCardTitle");b=a.text().trim();c=sp(b,100);b!=c&&a.data("fullText",b).text(c+" ").append('\x3cbutton class\x3d"more" tabindex\x3d"-1"\x3eSeemore\x3c/button\x3e');this.$el.toggleClass("designCardOwnerVisible",this.$d);this.$el.toggleClass("designCard--clickTriggersMenu",
this.We);Cp(this);this.Rb&&(a=this.$(".designCard__folderListContainer"),L(a,'Cannot render the folder list without a ".designCard__folderListContainer"'),this.Yh||(this.Yh=new lp({La:Hh(this.i)})),this.Yh.delegateEvents(),this.Yh.render().$el.appendTo(a));this.Za&&(this.zb=new pp({Wb:this.item.g(),Be:this.D.Be(),ca:Vg(this.item).ca,za:Vg(this.item).za,pa:this.pa,Ab:Lh(this.i)}),this.zb.render().$el.appendTo(this.$(".designCard__socialSection")));return this};
function Bp(a){L(!!a.W,"Cannot build owner model without an owner User");return{Ja:a.W.ek(),displayName:a.W.ua(),username:a.W.jb()}}
function Cp(a){var b=$("\x3ca\x3e").addClass("designCardThumbnail");if(!a.We){var c=a.Gc();b.attr("href",c.href);c.Qn&&b.attr("target","_blank")}b.css({backgroundImage:"url('"+a.ei()+"')",paddingBottom:100/function(){var b=a.item.wb();return b.ab()/b.Ua()}()+"%"});a.mn&&(c=Hh(a.i),b.append(zp({title:a.an?c.format("designCardUpdatingPreview"):c.format("designCardGeneratingPreview")}).toString()));a.$(".designCardThumbnailContainer").prepend(b)}
e.wl=function(a){this.$el.toggleClass("designCardDisabled",a)};e.ph=function(a){this.$el.toggleClass("designCardInvisible",!a)};
e.ic=P.method(function(a){function b(a){d.addClass("designCardNoTransitions");a();d.removeClass("designCardNoTransitions")}var c,d=this.$el,f=0;if(a===d.hasClass("designCardCollapsed"))return P.delay(500);b(function(){c=d.height();f=a?0:d.height("auto").height();d.height(c).height()});d.height(f);d.toggleClass("designCardCollapsed",a);setTimeout(function(){a||b(function(){d.height("").height()})}.bind(this),500);return P.delay(500)});
e.aj=function(a){this.$el.toggleClass("designCardDisappeared",a);return P.delay(500)};e.cj=function(a){this.$el.toggleClass("titleEditPending",a)};var Dp=Ap;function Ep(a){var b=Fp.bind(null,a.item),c=Gp.bind(null,a.item);this.D=a.D;this.Sp=a.Sp||null;this.item=a.item;var d=a.j,f=a.We,g=a.hb,h=this.D,k=a.Gc,b=a.ei||b,l=0<a.item.wb().getVersion(),r;r=a.item;r=null==r.getVersion()?!1:r.getVersion()>r.wb().getVersion();this.view=new Dp({j:d,We:f,hb:g,D:h,ai:c,Gc:k,ei:b,an:l,mn:r,oc:!!a.oc,i:a.i,W:a.W,kb:!!a.kb,Rb:!!a.Rb,$d:!!a.$d,Za:!!a.Za,Oc:!!a.Oc,item:a.item,pa:a.pa});this.listenTo(this.view,{thumbnailClick:this.trigger.bind(this,"thumbnailClick"),editTitle:this.trigger.bind(this,
"editTitle"),copy:this.trigger.bind(this,"copy"),trash:this.trigger.bind(this,"trash"),removeFromFolder:this.trigger.bind(this,"removeFromFolder"),removeFromAllFolders:this.trigger.bind(this,"removeFromAllFolders"),restore:this.trigger.bind(this,"restore"),deleteForever:this.trigger.bind(this,"deleteForever"),editTemplate:this.trigger.bind(this,"editTemplate"),removeTemplate:this.trigger.bind(this,"removeTemplate")})}function Hp(a){return{href:Pk(a.g(),"edit",void 0),Qn:!0}}
function Fp(a){return a.wb().Fa()}function Gp(a){return{href:Pk(a.g(),"view",void 0),Qn:!1}}e=Ep.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.trigger=Backbone.Events.trigger;e.rd=function(a){var b=this.view.Yh;b&&(b.rd(a),b.render())};e.Il=function(a){var b=this.view.Yh;b&&(b.Il(a),b.render())};e.getElement=function(){return this.view.$el};e.getItem=function(){return this.item};
e.render=function(){this.view.render();return this};e.wl=function(a){this.view.wl(a)};e.ph=function(a){this.view.ph(a)};e.ic=function(a){return this.view.ic(a)};e.aj=function(a){return this.view.aj(a)};e.cj=function(a){this.view.cj(a)};function Ip(){}Ip=Backbone.View.extend();Ip.vh=250;e=Ip.prototype;e.initialize=function(a){this.Ca=a.Ca;this.ta=a.ta;this.Ig=a.Ig};e.events=function(){return{"click .designCardThumbnail":this.Ei,"click .designCard__commentsLink":this.Jt}};e.Ei=function(a){if(!(a.ctrlKey||a.metaKey||1<a.which)&&this.Ig){var b=$(a.currentTarget).closest(".designCard");this.trigger("thumbnailClick",a,b.data("id"))}};
e.Jt=function(a){a.ctrlKey||a.metaKey||1<a.which||(a.preventDefault(),a=$(a.currentTarget).closest(".designCard"),this.trigger("commentsClick",a.data("id")))};e.render=function(){this.$el.append(this.ta.$el,this.Ca.$el);return this};e.jd=function(){this.ta.jd()};e.kg=function(){return this.ta.kg()};function Jp(a){return 0<a.$(".designCardListEmptyMessage").length}function Kp(a,b){b?a.Ca.show():a.Ca.hide()}e.ml=function(){Jp(this)||this.$el.append(this.Rg())};e.Rg=function(){return'\x3cp class\x3d"designCardListEmptyMessage"\x3eNo designs found\x3c/p\x3e'};
e.bj=function(a){var b=this.$(".designCardListEmptyMessage");a?1>b.length&&this.$el.append(this.Sg()):b.remove()};e.Sg=function(){return'\x3cp class\x3d"designCardListErrorMessage"\x3eAn error occurred and we weren\'t able to load any designs\x3c/p\x3e'};e.push=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.ta.push($(b)))};
e.unshift=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.ta.unshift($(b)))};var W=Ip;function Lp(){}Lp=W.extend();Lp.create=function(a,b){var c=(new bo).render(),d=eo({lc:function(a){return Math.floor(a/W.vh)}});b=lg(b,og);return new Lp({Ca:c,K:a,ta:d,Lf:b})};Lp.prototype.initialize=function(a){W.prototype.initialize.call(this,{Ca:a.Ca,ta:a.ta,Ig:!0});this.K=a.K;this.Lf=a.Lf};Lp.prototype.Rg=function(){return['\x3cp class\x3d"designCardListEmptyMessage"\x3e',this.Lf?this.K.format("designFoldersEmptyFolder"):this.K.format("designFoldersEmptyFolderNoEdit"),"\x3c/p\x3e"].join("")};
Lp.prototype.Sg=function(){return['\x3cp class\x3d"designCardListErrorMessage"\x3e',this.K.format("designFoldersLoadDesignsError"),"\x3c/p\x3e"].join("")};var Mp=Lp;function Np(a){this.ef=a;this.bt=$.isWindow(this.ef[0]);this.yq=_.throttle(this.dispatchEvent.bind(this),200)}function Op(){var a=window,a=$(a),b=a.data("CANVA_SCROLL_TARGET");if(!b){var c=b=new Np(a);c.stopListening();c.ef.on("scroll",c.yq);a.data("CANVA_SCROLL_TARGET",b)}return b}e=Np.prototype;e.stopListening=function(){this.ef.off("scroll",this.yq)};
function Pp(a,b){var c;c=_.defaults({},c,{mt:!1});var d=b.offset().top;c=c.mt?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.bt?a.ef.scrollTop():a.ef.offset().top+parseInt(a.ef.css("border-top-width"),10);a=a.ef.innerHeight();return d-(b+a)}e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.dispatchEvent=function(){this.trigger("scroll",this)};function Qp(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");
var f=a.u;soy.asserts.assertType(null==a.Lh||goog.isBoolean(a.Lh)||1===a.Lh||0===a.Lh,"dark",a.Lh,"boolean|null|undefined");var g=a.Lh;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function Rp(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.lj||goog.isBoolean(a.lj)||1===a.lj||0===a.lj,"withShadow",
a.lj,"boolean|null|undefined");var f=a.lj;soy.asserts.assertType(null==a.kj||goog.isBoolean(a.kj)||1===a.kj||0===a.kj,"withRoundedCorners",a.kj,"boolean|null|undefined");var g=a.kj;soy.asserts.assertType(null==a.ij||goog.isBoolean(a.ij)||1===a.ij||0===a.ij,"withCloseButton",a.ij,"boolean|null|undefined");var h=a.ij;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");var k=a.u;soy.asserts.assertType(null==a.Fj||
a.Fj instanceof goog.soy.data.SanitizedContent||goog.isString(a.Fj),"contentClasses",a.Fj,"null|string|undefined");a=a.Fj;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Qp({visible:d,u:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=f)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Sp(a){soy.asserts.assertType(goog.isBoolean(a.ca)||1===a.ca||0===a.ca,"likedByMe",a.ca,"boolean");var b=!!a.ca;soy.asserts.assertType(goog.isString(a.rk)||a.rk instanceof goog.soy.data.SanitizedContent,"likeLabel",a.rk,"string|goog.soy.data.SanitizedContent");var c=a.rk;soy.asserts.assertType(goog.isString(a.sk)||a.sk instanceof goog.soy.data.SanitizedContent,"likedLabel",a.sk,"string|goog.soy.data.SanitizedContent");var d=a.sk,f=goog.asserts.assertNumber(a.za,"expected parameter 'likerCount' of type int.");
soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");a=a.u;var g=b?1==f:0==f,b=""+('\x3cdiv class\x3d"button buttonLike'+(g?" buttonLike--firstLike":"")+(b?" buttonActive":"")+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text '+(g?b?" buttonLike__text--liked ":"buttonLike__text--like":
"")+'" data-like-msg\x3d"'+soy.$$escapeHtmlAttribute(c)+'" data-liked-msg\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-like-count\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/span\x3e\x3c/div\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function Tp(a){soy.asserts.assertType(goog.isString(a.Lb)||a.Lb instanceof goog.soy.data.SanitizedContent,"errorText",a.Lb,"string|goog.soy.data.SanitizedContent");var b=a.Lb;soy.asserts.assertType(null==a.frames||goog.isArray(a.frames),"frames",a.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");var c=a.frames;soy.asserts.assertType(null==a.dd||goog.isBoolean(a.dd)||
1===a.dd||0===a.dd,"loading",a.dd,"boolean|null|undefined");var d=a.dd;soy.asserts.assertType(a.Sd instanceof soydata.SanitizedHtml||a.Sd instanceof soydata.UnsanitizedText||goog.isString(a.Sd),"pagination",a.Sd,"soydata.SanitizedHtml");var f=a.Sd;soy.asserts.assertType(a.sidebar instanceof soydata.SanitizedHtml||a.sidebar instanceof soydata.UnsanitizedText||goog.isString(a.sidebar),"sidebar",a.sidebar,"soydata.SanitizedHtml");a=a.sidebar;d='\x3cdiv class\x3d"lightbox'+(null==d||d?" lightbox--loading":
"")+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"lightbox__frames"\x3e';if(c)for(var g=c.length,h=0;h<g;h++)d+=Up(c[h],void 0);d+='\x3cdiv class\x3d"lightbox__framesBackstop"\x3e\x3c/div\x3e'+soy.$$escapeHtml(f)+'\x3cdiv class\x3d"lightbox__error lightbox__documentError"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"lightbox__loadingIndicator"\x3e\x3c/div\x3e\x3c/div\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(d)}
function Vp(a){var b;a=a||{};soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(null==a.Tc||a.Tc instanceof soydata.SanitizedHtml||a.Tc instanceof soydata.UnsanitizedText||goog.isString(a.Tc),"byline",a.Tc,"?soydata.SanitizedHtml|string|undefined");var d=a.Tc;soy.asserts.assertType(null==a.zb||goog.isObject(a.zb),"likeButton",a.zb,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}");
var f=a.zb;soy.asserts.assertType(null==a.re||goog.isObject(a.re),"editButton",a.re,"null|undefined|{label: string, url: string}");var g=a.re;soy.asserts.assertType(null==a.Ie||goog.isObject(a.Ie),"remixButton",a.Ie,"null|undefined|{label: string, url: string}");a=a.Ie;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"lightbox__header"\x3e\x3ch1 class\x3d"lightbox__title"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__byline"\x3e'+soy.$$escapeHtml(null==
(b=d)?"":b)+'\x3c/h1\x3e\x3csection class\x3d"lightbox__actionButtons"\x3e'+(g?Wp(soy.$$assignDefaults({u:"lightbox__actionButton--edit"},g)):'\x3cspan class\x3d"lightbox_editButtonPlaceholder"\x3e\x3c/span\x3e')+(a?Wp(soy.$$assignDefaults({u:"lightbox__actionButton--remix"},a)):'\x3cspan class\x3d"lightbox_remixButtonPlaceholder"\x3e\x3c/span\x3e')+(f?Sp(soy.$$assignDefaults({u:"lightbox__actionButton lightbox__likeButton"},f)):'\x3cspan class\x3d"lightbox__likeButtonPlaceholder"\x3e\x3c/span\x3e')+
"\x3csection\x3e\x3c/header\x3e")}
function Wp(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var c=a.label;soy.asserts.assertType(null==a.u||a.u instanceof goog.soy.data.SanitizedContent||goog.isString(a.u),"classes",a.u,"null|string|undefined");a=a.u;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Dk({tagName:"a",
small:!0,href:b,text:c,u:soydata.$$markUnsanitizedTextForInternalBlocks("lightbox__actionButton"+(a?" "+a:"")),attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('title\x3d"'+soy.$$escapeHtmlAttribute(c)+'" target\x3d"_blank"')}))}
function Up(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.Lb)||a.Lb instanceof goog.soy.data.SanitizedContent,"errorText",a.Lb,"string|goog.soy.data.SanitizedContent");var c=a.Lb;soy.asserts.assertType(null==a.Hi||a.Hi instanceof goog.soy.data.SanitizedContent||goog.isString(a.Hi),"previewSrc",a.Hi,"null|string|undefined");var d=a.Hi;soy.asserts.assertType(null==a.Yi||a.Yi instanceof goog.soy.data.SanitizedContent||goog.isString(a.Yi),"thumbnailSrc",a.Yi,"null|string|undefined");var f=a.Yi;
soy.asserts.assertType(goog.isString(a.Dl)||a.Dl instanceof goog.soy.data.SanitizedContent,"unavailableText",a.Dl,"string|goog.soy.data.SanitizedContent");var g=a.Dl;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__frame'+(a.visible?" lightbox__frame--visible":"")+(d?"":" lightbox__frame--unavailable")+'"\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__thumbnailLoader"'+
(f?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__thumbnail"'+(f?' style\x3d"'+(b.Bc?"/*"+b.Bc+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+');"':"")+'\x3e\x3c/div\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__previewLoader"'+(d?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__preview"'+
(d?' style\x3d"'+(b.Bc?"/*"+b.Bc+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+');"':"")+'\x3e\x3c/div\x3e\x3cp class\x3d"lightbox__error lightbox__frameError"\x3e'+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"lightbox__error lightbox__frameUnavailable"\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e\x3c/div\x3e")};function Xp(a){var b=this;V.call(this,a);this.wa=null;a.on("input",function(a){return b.Rd(a)});a.on("keydown",function(a){return b.uf(a)});a.on("blur",function(){return b.yi()})}n(Xp,V);e=Xp.prototype;e.Rd=function(a){a=$(a.target);this.trigger(Yp,a.val(),a[0].selectionEnd)};e.uf=function(a){13==a.keyCode&&!a.shiftKey&&this.wa&&(a.stopImmediatePropagation(),a.preventDefault(),$m(this.wa,a))};e.yi=function(){this.wa&&!this.wa.view.$("li").hasClass("hovering")&&this.Qd()};
e.Qd=function(){this.wa&&(this.wa.remove(),this.wa=null)};
e.show=function(a){var b=this;a=a.map(function(a){var b=$,f;soy.asserts.assertType(goog.isString(a.Ja)||a.Ja instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.Ja,"string|goog.soy.data.SanitizedContent");f=a.Ja;soy.asserts.assertType(null==a.displayName||a.displayName instanceof goog.soy.data.SanitizedContent||goog.isString(a.displayName),"displayName",a.displayName,"null|string|undefined");var g=a.displayName;soy.asserts.assertType(goog.isString(a.username)||a.username instanceof goog.soy.data.SanitizedContent,
"username",a.username,"string|goog.soy.data.SanitizedContent");a=a.username;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"mention__userAvatar avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'" /\x3e\x3cdiv class\x3d"mention__user"\x3e\x3cspan class\x3d"mention__userDisplayName"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cspan class\x3d"mention__username"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e");return new Wm(b(f.toString()),!0)});this.wa=an({elements:a,
Sf:0,className:"mentionList"});this.wa.on("select",function(a){return b.trigger(Zp,a)});this.wa.on("cancel",function(){return b.Qd()});this.wa.view.$el.outerWidth(this.$el.outerWidth());this.$el.after(this.wa.view.$el)};e.Br=function(a){a.length<=this.$el.attr("maxlength")&&this.$el.val(a).trigger("input");this.Qd()};var Yp="INPUT",Zp="SELECT";function $p(a,b){var c=this;V.call(this,a);this.yt=b;this.Gf=a.find(".commentList__comments");this.lb=a.find(".commentList__form__input");a.on("input",".commentList__form__input",function(){return aq(c)});a.on("keydown",".commentList__form__input",function(a){return c.uf(a)});this.Gf.on("scroll",function(){return c.Qk()});a.on("click",".comment__metadata__delete",function(a){a=new bq($(a.target).closest(".comment"));c.trigger(cq,a)})}n($p,V);
function dq(a){var b=a.find(".commentList__form__input"),b=new Xp(b);return new $p(a,b)}e=$p.prototype;e.am=function(){this.lb.blur()};function eq(a,b){a.lb.val(b);aq(a)}function aq(a){var b=getComputedStyle(a.lb[0]),b=parseInt(b.borderBottomWidth,10)+parseInt(b.borderTopWidth,10);a.lb.css("height","");a.lb.css("height",a.lb.prop("scrollHeight")+b)}e.prepend=function(a){a=fq(a);this.Gf.prepend(a.$el);return a};e.replace=function(a,b){b=fq(b);a.$el.replaceWith(b.$el);return b};
e.append=function(a){a=fq(a);this.Gf.append(a.$el);return a};e.uf=function(a){13!=a.keyCode||a.shiftKey||(a.preventDefault(),this.trigger(gq,this.lb.val()))};e.Qk=function(){var a=this.Gf[0].getBoundingClientRect().bottom,b=this.$el.find(".comment:last-child")[0];100>(b?b.getBoundingClientRect().bottom:Infinity)-a&&this.trigger(hq)};var gq="SUBMIT",cq="DELETE",hq="NEAR_BOTTOM";function bq(a){hm.apply(this,arguments)}n(bq,hm);
function fq(a){var b=$,c;soy.asserts.assertType(goog.isString(a.rj)||a.rj instanceof goog.soy.data.SanitizedContent,"authorAvatarUrl",a.rj,"string|goog.soy.data.SanitizedContent");c=a.rj;soy.asserts.assertType(goog.isString(a.sj)||a.sj instanceof goog.soy.data.SanitizedContent,"authorName",a.sj,"string|goog.soy.data.SanitizedContent");var d=a.sj;soy.asserts.assertType(goog.isString(a.tj)||a.tj instanceof goog.soy.data.SanitizedContent,"authorProfileUrl",a.tj,"string|goog.soy.data.SanitizedContent");
var f=a.tj;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var g=a.content;soy.asserts.assertType(goog.isString(a.Ma)||a.Ma instanceof goog.soy.data.SanitizedContent,"created",a.Ma,"string|goog.soy.data.SanitizedContent");var h=a.Ma;soy.asserts.assertType(goog.isString(a.Tf)||a.Tf instanceof goog.soy.data.SanitizedContent,"deleteLabel",a.Tf,"string|goog.soy.data.SanitizedContent");
var k=a.Tf;soy.asserts.assertType(goog.isString(a.yk)||a.yk instanceof goog.soy.data.SanitizedContent,"modelId",a.yk,"string|goog.soy.data.SanitizedContent");var l=a.yk;soy.asserts.assertType(goog.isBoolean(a.Pi)||1===a.Pi||0===a.Pi,"showDelete",a.Pi,"boolean");a=!!a.Pi;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comment'+(a?" comment--deletable":"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e'+Rl({u:"comment__avatar",url:c})+'\x3cdiv class\x3d"comment__metadata"\x3e\x3ca class\x3d"comment__metadata__authorName" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(f))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e \x3cspan class\x3d"comment__metadata__created"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e "+(a?'\x3cbutton class\x3d"comment__metadata__delete" title\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e\x3c/button\x3e':"")+'\x3c/div\x3e\x3cdiv class\x3d"comment__content"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new bq(b)}bq.prototype.dk=function(){return this.$el.data("model-id")};function iq(a){return new P(function(b){function c(f){f.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function jq(a){this.$el=a}n(jq,hm);function kq(a){K(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new jq(a)}jq.prototype.show=function(){this.uc(!0);this.$el.hasClass("mask2--blur")&&lq(this,!0)};jq.prototype.hide=function(){this.uc(!1);this.$el.hasClass("mask2--blur")&&lq(this,!1);return iq(this.$el[0])};jq.prototype.uc=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};
function lq(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function mq(a,b){var c=this;V.call(this,a);this.$o=b;this.ar=this.Zt.bind(this);this.$el.on("click",function(a){return c.sf(a)});this.$o.on("keyup",this.ar)}n(mq,V);e=mq.prototype;e.remove=function(){V.prototype.remove.call(this);this.$o.off("keyup",this.ar)};e.show=function(){var a=this;ah(function(){return kq(a.$el).show()})};e.hide=function(){return kq(this.$el).hide()};e.sf=function(a){!$(a.target).closest(".dialog2__content").length&&nq(this)&&this.trigger(oq)};
e.Zt=function(a){27===a.keyCode&&nq(this)&&this.trigger(oq)};function nq(a){return!!a.$el.find(".dialog2__closeButton").length}var oq="CLOSE";function pq(a,b){this.$el=a;this.className=b}n(pq,hm);function qq(a){a.$el.addClass(a.className);a=a.$el.get(0);var b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;Za(b,"browser doesn't implement Element::requestFullscreen");b.call(a)}
pq.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;Za(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};
function rq(a){function b(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||(a(),$(document).off("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b))}$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b)};function sq(a){var b=this;V.call(this,a);a.on("click",function(){return b.trigger(tq)})}n(sq,V);sq.prototype.ji=function(){return this.$el.hasClass("buttonActive")};sq.prototype.getCount=function(){return parseInt(this.$el.find(".buttonLike__text").attr("data-like-count"),10)};
sq.prototype.gl=function(a){this.$el.toggleClass("buttonActive",a);var b=this.$el.find(".buttonLike__text");b.toggleClass("buttonLike__text--like",!a);b.toggleClass("buttonLike__text--liked",a);a?uq(this,this.getCount()+1):uq(this,this.getCount()-1)};function uq(a,b){a.$el.find(".buttonLike__text").attr("data-like-count",b)}var tq="CLICK";function vq(a,b,c){var d=this;V.call(this,a);this.fb=b;this.zb=c;a.on("click",".lightbox__enterPresentation",function(){return d.trigger(wq)});a.on("mousemove",function(){return d.trigger(xq)});a.on("click",".lightbox__exitPresentation",function(){(new pq(d.$el,"lightbox--fullscreen")).exitFullscreen()});a.on("click",".lightbox__previousFrame",function(){return d.trigger(yq)});a.on("click",".lightbox__nextFrame",function(){return d.trigger(zq)});a.on("click",".lightbox__shareItem--more",function(){return d.trigger(Aq)});
a.on("click",".lightbox__shareItem--share",function(){return d.trigger(Aq)});a.on("click",".lightboxShare__close",function(){return d.trigger(Bq)});a.on("click",".lightboxShare__button--embed",function(){return d.trigger(Cq)});a.on("click",".lightboxShare__button--copy",function(){return d.trigger(Dq)});a.on("click",".lightboxShare__shareItem",function(a){return d.trigger(Eq,a.target.dataset.medium)});a.on("click",".lightboxShare__embedTextArea",function(){return d.trigger(Fq)});a.on("click",".lightboxShare__shareItem",
function(a){return d.trigger(Eq,a.target.getAttribute["data-medium"],"overlay")});a.on("click",".lightbox__shareItem",function(a){return d.trigger(Eq,a.target.getAttribute["data-medium"],"footer")});a.on("click",".lightbox__actionButton--edit",function(){return d.trigger(Gq)});a.on("click",".lightbox__actionButton--remix",function(){return d.trigger(Hq)});a.on("keydown",function(a){return d.uf(a)})}n(vq,V);
function Iq(a){var b=a.find(".lightbox__commentList").children().first(),c=null;b.length&&(c=dq(b));var b=a.find(".lightbox__likeButton"),d=null;b.length&&(d=new sq(b));a=new vq(a,c,d);a.$el.find(".lightbox__frame").get().forEach(function(a){return Jq($(a))});return a}function Kq(a){return a.$el.find(".lightbox__frame").get().map(function(a){return new Lq($(a))})}e=vq.prototype;e.Rm=function(){return this.fb};e.focus=function(){this.$el.focus()};
function Mq(a,b){b=Nq(b);b.$el.insertBefore(a.$el.find(".lightbox__framesBackstop"));return b}function Oq(a,b){a.$el.toggleClass("lightbox--presentation",b);var c=new pq(a.$el,"lightbox--fullscreen");b&&(qq(c),rq(function(){a.trigger(Pq)}));a.focus()}function Qq(a,b){a.$el.find(".lightbox__currentFrameText").text(b)}function Rq(a,b){a.$el.find(".lightbox__pagination").toggleClass("lightbox__pagination--hidden",b)}
e.Yd=function(){this.$el.toggleClass("lightbox--error",!0);this.$el.toggleClass("lightbox--loading",!1)};e.Ar=function(a){this.$el.find(".lightbox__title, .lightboxShare__title").text(a)};function Sq(a,b){a.$el.find(".lightbox__byline, .lightboxShare__byline").html(b)}function Tq(a,b){b=$(Sp(b).toString());b=new sq(b);a.zb?(b.$el.insertAfter(a.zb.$el),a.zb.remove()):a.$el.find(".lightbox__likeButtonPlaceholder").replaceWith(b.$el);return a.zb=b}
function Uq(a,b){b=$(Wp(b).toString());var c=a.$el.find(".lightbox_editButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--edit"));c.replaceWith(b)}function Vq(a,b){b=$(Wp(b).toString());var c=a.$el.find(".lightbox_remixButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--remix"));c.replaceWith(b)}
function Wq(a){var b=a.$el.find(".lightbox__frame"),c=$(b[0]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__previousFrame").toggleClass("lightbox__previousFrame--disabled",c);b=$(b[b.length-1]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__nextFrame").toggleClass("lightbox__nextFrame--disabled",b)}
function Xq(a,b){a.$el.find(".lightbox__openDesignViewerButton").attr("href",b);a.$el.find(".lightbox__openDesignViewerButton").removeClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__enterPresentationButton").addClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__exitPresentationButton").addClass("lightbox__paginationButton--hidden")}
function Yq(a){a.$el.find(".lightbox__openDesignViewerButton").addClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__enterPresentationButton").removeClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__exitPresentationButton").removeClass("lightbox__paginationButton--hidden")}e.xo=function(){this.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--embedVisible");this.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--visible")};
e.uf=function(a){if(!$(a.target).hasClass("commentList__form__input"))switch(a.keyCode){case 37:a.preventDefault();this.trigger(yq);break;case 39:a.preventDefault(),this.trigger(zq)}};var zq="NEXT_FRAME",yq="PREVIOUS_FRAME",wq="ENTER_PRESENTATION",xq="MOVEMENT",Pq="EXIT_PRESENTATION",Aq="SHOW_SHARING",Bq="CLOSE_SHARING",Eq="SHARE_ITEM",Cq="SHOW_EMBED",Dq="COPY_EMBED",Fq="EMBED_TEXTAREA_CLICKED",Gq="EDIT",Hq="REMIX";function Lq(a){hm.apply(this,arguments)}n(Lq,hm);
function Nq(a){a=$(Up(a).toString());return Jq(a)}function Jq(a){a=new Lq(a);Zq(a);$q(a);return a}function Zq(a){var b=a.$el.find(".lightbox__thumbnailLoader");if(b.prop("src")&&!b.prop("complete")){var c=a.$el;c.toggleClass("lightbox__frame--thumbnailLoading",!0);b.on("load error",function f(){c.toggleClass("lightbox__frame--thumbnailLoading",!1);b.off("load error",f)})}}
function $q(a){function b(){f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}function c(){f.toggleClass("lightbox__frame--error",!0);f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}var d=a.$el.find(".lightbox__previewLoader");if(d.prop("src")&&!d.prop("complete")){var f=a.$el;f.toggleClass("lightbox__frame--previewLoading",!0);d.on("load",b);d.on("error",c)}}
Lq.prototype.uc=function(a){this.$el.toggleClass("lightbox__frame--visible",a)};function ar(a,b,c){V.call(this,a);this.Qh=b;this.rn=c}n(ar,V);ar.prototype.remove=function(){this.rn.remove();this.Qh.remove();V.prototype.remove.call(this)};function br(a){var b;b=b||{};soy.asserts.assertType(a.Dc instanceof soydata.SanitizedTrustedResourceUri||a.Dc instanceof soydata.UnsanitizedText||goog.isString(a.Dc),"embedScriptUrl",a.Dc,"soydata.SanitizedTrustedResourceUri");var c=a.Dc;soy.asserts.assertType(goog.isNumber(a.be),"thumbnailHeight",a.be,"number");var d=a.be;soy.asserts.assertType(goog.isNumber(a.ce),"thumbnailWidth",a.ce,"number");var f=a.ce;soy.asserts.assertType(goog.isString(a.Pj)||a.Pj instanceof goog.soy.data.SanitizedContent,
"designId",a.Pj,"string|goog.soy.data.SanitizedContent");var g=a.Pj;soy.asserts.assertType(a.Ch instanceof soydata.SanitizedHtml||a.Ch instanceof soydata.UnsanitizedText||goog.isString(a.Ch),"byLineHtml",a.Ch,"soydata.SanitizedHtml");a=a.Ch;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(d/f*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(g)+'" style\x3d"'+(b.Bc?"/*"+b.Bc+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(d/
f*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(c))+'"'+(b.Bc?' nonce\x3d"'+b.Bc+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(a))};function cr(a){this.kc=a.kc;this.ma=a.ma;this.De=a.De;this.qf=a.qf;this.hk=new Map;this.qs=new Map;this.gj=dr(this)}function dr(a){if(!a.qf)return P.resolve([]);var b=Tf((new Sf).md(a.kc)).od(100);return a.Th(b,[]).then(function(b){return b.map(function(b){b=b.R();a.hk.set(b.g(),b);a.qs.set(b.jb()||b.g(),b);return b})})}cr.prototype.Th=function(a,b){var c=this;return this.ma.Uh(a).then(function(d){b=b.concat(d.bi());return d.ea()?c.Th(a.nd(d.ea()),b):b})};cr.prototype.lf=function(){return this.gj};
function er(a,b){if(!a.qf)return b;for(var c=/@[a-zA-Z0-9\._-]*[a-zA-Z0-9\_-](?=\s|$|\?|,|\!|\.)/gm,d="",f=0,g;g=c.exec(b);){var f=b.slice(f,g.index),h=a;g=g[0];var k=h.qs.get(g.slice(1)),d=d+(f+(k?"["+k.g()+":"+h.kc+"]":g)),f=c.lastIndex}return d+=b.slice(f)}
function fr(a,b){var c=[];b.forEach(function(b){if(b)for(var f=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,g;g=f.exec(b);)a.hk.has(g[1])||c.push(g[1])});return c.length?Qj(a.ma,Ef(c)).then(function(c){c.lf().forEach(function(b){return a.hk.set(b.g(),b)});return gr(a,b)}).catch(function(){return gr(a,b,!0)}):gr(a,b)}function gr(a,b,c){var d=[];b.forEach(function(b){b?d.push(hr(a,_.escape(b),c)):d.push(b)});return P.resolve(d)}function ir(a,b){return fr(a,[b]).then(function(a){return a[0]})}
function hr(a,b,c){for(var d=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,f="",g=0,h;h=d.exec(b);){var g=b.slice(g,h.index),k=a,l=c;(h=k.hk.get(h[1]))&&h.jb()?(k=h.jb(),h="/"+encodeURIComponent(h.jb()),soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"username",k,"string|goog.soy.data.SanitizedContent"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"profilePath",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"mention__profileLink" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+'"\x3e@'+soy.$$escapeHtml(k)+"\x3c/a\x3e").toString()):(h=l?k.De.format("mentionLookupError"):k.De.format("mentionUnknownUserError"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"title",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"mention__unknown" title\x3d'+soy.$$escapeHtmlAttributeNospace(h)+"\x3e@unknown\x3c/span\x3e").toString());f+=g+h;g=
d.lastIndex}return f+=b.slice(g)};function jr(a,b){var c=this;this.view=b;this.gj=a.gj;this.Tb=[];this.pn=[];this.bc=[];this.Td=null;this.ja=a.ja||null;this.view.on(Yp,function(a,b){return c.Rd(a,b)});this.view.on(Zp,function(a){return c.On(a)})}function kr(a,b){return new jr(a,b)}jr.prototype.cc=function(){var a=this;this.gj.then(function(b){a.Tb=b;a.Td&&a.autocomplete(a.Td)})};
jr.prototype.Rd=function(a,b){var c=a.lastIndexOf("@",b-1);if(-1===c)this.view.Qd();else if(c+=1,a.lastIndexOf(" ",b-1)>c)this.view.Qd();else{b=a.indexOf(" ",c);b=-1===b?a.length:b;var d=a.slice(c,b);this.pn=[a.slice(0,c),a.slice(b)];this.autocomplete(d)}};jr.prototype.autocomplete=function(a){var b=this;0===this.Tb.length?this.Td=a:(this.bc=this.Tb.filter(function(c){return!(null!==b.ja&&c.g()===b.ja.g())&&lr(a,c)}),mr(this,this.bc))};
function lr(a,b){function c(a,b){return!!b&&-1!==b.toLowerCase().indexOf(a.toLowerCase())}return c(a,b.jb())||c(a,b.ua())}function mr(a,b){a.view.Qd();if(b.length){var c=Cf.sizes.get("50").Fa();b=b.map(function(a){return{Ja:a.ek()||c,displayName:a.ua(),username:"@"+a.jb()}});a.view.show(b)}}jr.prototype.On=function(a){this.view.Br(this.pn[0]+(this.bc[a].jb()||this.bc[a].g())+(this.pn[1]||" "))};function nr(a,b,c,d,f){var g=this;this.view=b;this.alert=d;this.confirm=f;this.i=a.i;this.qa=a.qa;this.va=a.va;this.Xq=c;this.ja=a.ja;this.G=a.fb&&a.fb.G;this.Pa=!1;this.Ct=0;this.object=a.object;this.accessToken=a.accessToken;this.ql=!!a.fb&&!a.fb.G;this.rl=!1;this.j=a.j;this.tt=!!this.ja&&-1<this.ja.jg().indexOf("SUPPORT");this.view.on(gq,function(a){return g.hd(String(a))});this.view.on(cq,function(a){return or(g,a)});this.view.on(hq,function(){g.Pa||g.ql||g.rl||g.fetch()})}
function pr(a,b){var c=null;a.va.qf&&(c=kr({gj:a.va.lf(),ja:a.ja},b.yt));return new nr(a,b,c,function(a){return window.alert(a)},function(a){return window.confirm(a)})}nr.prototype.cc=function(){function a(){var c;if(!(c=b.ql||b.rl)){c=b.view;var d=c.Gf.prop("clientHeight");c=c.Gf.prop("scrollHeight")>d}return c?P.resolve():b.fetch().then(a)}var b=this;a();this.Xq&&this.Xq.cc()};nr.prototype.destroy=function(){this.view.remove()};
function qr(a,b){var c=b.Gb.Re.sizes.get("200").url;K(null==b.zd,"can't render a deleted comment");Za(c,"can't render a comment with no author avatar");var d=!!a.ja&&a.ja.g()==b.Gb.id,f=0==b.id.indexOf("pending_comment_");return{rj:c,sj:b.Gb.displayName||b.Gb.username||"",tj:"/"+encodeURIComponent(b.Gb.username||""),content:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.content),Ma:moment(b.Ma).fromNow(),Tf:a.i.Tf(),yk:b.id,Pi:a.tt||d&&!f}}
nr.prototype.fetch=function(){var a=this;L(!this.Pa);L(!this.ql);L(!this.rl);this.Pa=!0;return Do(this.qa,new wo({object:this.object,accessToken:this.accessToken,limit:20,G:this.G})).then(function(b){rr(a,b.qa);a.G=b.G;a.ql=!b.G}).catch(function(b){a.alert(a.i.format("commentListListError"));a.rl=!0;throw b;}).finally(function(){return a.Pa=!1})};
function rr(a,b){var c=b.map(function(a){return a.content});fr(a.va,c).then(function(c){b.forEach(function(b,g){b=new oo({object:b.object,id:b.id,sd:b.sd,Gb:b.Gb,content:c[g],Ma:b.Ma,ee:b.ee,zd:b.zd,Ug:b.Ug,qk:b.qk,Tg:b.Tg});b.zd||a.view.append(qr(a,b))})})}
function or(a,b){if(a.confirm(a.i.format("commentListDeleteConfirmation"))){var c=new zo({object:a.object,id:b.dk()});b.$el.toggleClass("comment--hidden",!0);a.qa.Oh(c).then(function(){return b.remove()}).catch(function(){b.$el.toggleClass("comment--hidden",!1);a.alert(a.i.format("commentListDeleteError"))})}}
nr.prototype.hd=function(a){var b=this;K(1023>=a.length,"comment too long");if(""==a.trim())this.view.am();else{var c=Date.now(),d=er(this.va,a);ir(this.va,d).then(function(f){var g=new oo({object:b.object,id:"pending_comment_"+String(b.Ct++),sd:b.ja.g(),Gb:b.ja.$i(),content:f,Ma:c,ee:c,Ug:!1,Tg:0}),h=b.view.prepend(qr(b,g));eq(b.view,"");b.qa.createComment(new so({object:b.object,accessToken:b.accessToken,content:d})).then(function(a){a=new oo({object:b.object,id:a.id,sd:b.ja.g(),Gb:b.ja.$i(),content:f,
Ma:a.Ma,ee:a.Ma,Ug:!1,Tg:0});b.view.replace(h,qr(b,a));h.remove()}).catch(function(){h.remove();eq(b.view,a);b.alert(b.i.format("commentListCreateError"))})}).catch(function(){eq(b.view,a);b.alert(b.i.format("commentListCreateError"))})}};function sr(a,b,c){var d=this;this.fb=c;this.i=a.i;this.Ab=a.Ab;this.l=a.l;this.Ga=a.Ga;this.j=a.j;this.view=b;this.mb=0;this.document=a.document;this.ja=a.ja;this.Dc=a.Dc;this.gi=null;this.Yn=!1;this.Ba=a.Ba;this.N=a.N;this.view.on(wq,function(){d.Yn=!0;Oq(d.view,!0);tr(d);d.track(ur)});this.view.on(xq,function(){d.Yn&&(vr(d),Rq(d.view,!1),tr(d))});this.view.on(Pq,function(){vr(d);Rq(d.view,!1);Oq(d.view,!1);d.Yn=!1});this.view.on(yq,function(){if(0!=d.mb){var a=d.document.Kb.Fe,b=Kq(d.view);d.mb==
a-1?(b[0].uc(!0),b[1].uc(!1)):(b[0].uc(!0),b[1].uc(!1),b[2].remove());d.mb--;Qq(d.view,d.i.mb(d.mb+1,a));0<d.mb&&(a=d.view,b=wr(d,d.mb-1),b=Nq(b),0<a.$el.find(".lightboxShare__modal").length?b.$el.insertAfter(a.$el.find(".lightboxShare__modal")):b.$el.prependTo(a.$el.find(".lightbox__frames")));Wq(d.view)}});this.view.on(zq,function(){var a=d.document.Kb.Fe;if(d.mb!=a-1){var b=Kq(d.view);0==d.mb?(b[0].uc(!1),b[1].uc(!0)):(b[0].remove(),b[1].uc(!1),b[2].uc(!0));d.mb++;Qq(d.view,d.i.mb(d.mb+1,a));d.mb<
a-1&&Mq(d.view,wr(d,d.mb+1));Wq(d.view)}});this.view.on(Aq,function(){return d.xo()});this.view.on(Bq,function(){d.view.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--visible")});this.view.on(Cq,function(){d.view.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--embedVisible")});this.view.on(Dq,function(){document.execCommand("copy",!1,d.view.$el.find(".lightboxShare__embedTextArea")[0].select());d.track(xr)});this.view.on(Eq,function(a,b){d.j.xc(yr(d.Ba,d.document.id,
a,b))});this.view.on(Fq,function(){d.view.$el.find(".lightboxShare__embedTextArea").select()});this.view.on(Hq,function(){return d.track(zr)});(a=this.view.zb)&&a.on(tq,function(){return Ar(d)})}function Br(a,b,c){(a.Ss?P.resolve(a.Ss):a.Ga.vq(new Ho({id:a.Wb})).then(function(a){return{Si:a.document,je:a.je}}).catch(function(a){c.Yd();throw a;})).then(function(a){return Cr(b,a)})}sr.prototype.cc=function(){this.view.focus();this.fb&&this.fb.cc()};
sr.prototype.destroy=function(){this.fb&&this.fb.destroy();this.view.remove()};function wr(a,b){var c=a.document.Kb.ze,d=c.Db.images,c=c.Yk&&c.Yk.images||[];return{Yi:d[b]&&d[b].url,Hi:c[b]&&c[b].url,Lb:a.i.format("newLightboxFrameError"),Dl:a.i.format("newLightboxFrameUnavailable")}}sr.prototype.track=function(a){this.j.xc(a(this.Ba))};
function Cr(a,b){var c=b.Si,d=b.je;a.document=c.document;b=a.document.Kb.Fe;var f=c.W.displayName||c.W.username||"",g=c.W.username?"/"+encodeURIComponent(c.W.username):"",h=a.document.Kb.content.title||a.i.format("newLightboxUntitled");a.view.$el.toggleClass("lightbox--loading",!1);Mq(a.view,wr(a,0)).uc(!0);1<b&&Mq(a.view,wr(a,1));Qq(a.view,a.i.mb(1,b));a.view.Ar(h);Sq(a.view,Ai(a.i,g,_.escape(f)));if(!a.N&&a.ja&&!a.ja.Be())Tq(a.view,{ca:c.ca,rk:a.Ab.si(),sk:a.Ab.Qb(),za:c.za,u:"lightbox__actionButton lightbox__likeButton"}).on(tq,
function(){return Ar(a)});d=(g="OWNER"===d||"EDITOR"===d)||"REMIXER"===d;g&&Uq(a.view,{url:Pk(c.document.id,"edit",void 0),label:a.i.Us(),u:"lightbox__actionButton--edit"});d&&Vq(a.view,{url:Pk(c.document.id,"remix",void 0),label:a.i.format("newLightboxUseAsTemplateLabel"),u:"lightbox__actionButton--remix"});a.Dc&&(c=br({Pj:a.document.id,be:a.document.Kb.ze.Db.height,ce:a.document.Kb.ze.Db.width,Dc:soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.Dc),Ch:soydata.VERY_UNSAFE.ordainSanitizedHtml(zi(a.i,
_.escape(h),Rk(a.document.id),location.protocol+"//"+location.host+("/"+encodeURIComponent(c.W.username||""))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(f)))}).toString(),a.view.$el.find(".lightboxShare__embedTextArea").val(c));Wq(a.view);c=a.document.Kb.content.doctype;a.j.xc(Dr(a.Ba,a.document.id,"REFERENCE"===c.type?c.id:"custom",b));"web-2"===a.document.Kb.Wd?Xq(a.view,
Pk(a.document.id,"view",void 0)+"?presentation"):Yq(a.view)}sr.prototype.xo=function(){this.view.xo();this.track(Er)};function tr(a){a.gi=a.l.setTimeout(function(){a.gi=null;Rq(a.view,!0)},3E3)}function vr(a){null!=a.gi&&(a.l.clearTimeout(a.gi),a.gi=null)}
function Ar(a){var b=a.view.zb,c=!b.ji();b.gl(c);b.$el.toggleClass("buttonLike--disabled",!0);(c?cp(a.Ga,new Ko({type:"DOCUMENT",Qb:a.document.id,accessToken:a.document.gf.default})):dp(a.Ga,new Oo({type:"DOCUMENT",Qb:a.document.id}))).catch(function(){return b.gl(!c)}).finally(function(){b.$el.toggleClass("buttonLike--disabled",!1)})}function Fr(a,b){var c=this;this.ri=a.ri;this.view=b;this.gr=!1;this.Gh=null;b.Qh.on(oq,function(){return c.tf()})}e=Fr.prototype;e.cc=function(){this.ri.cc()};
e.show=function(){L(!this.gr,"the dialog has been opened already");this.gr=!0;this.view.Qh.show()};e.destroy=function(){this.ri.destroy();this.view.Qh.remove()};e.zr=function(a){this.Gh=a};e.tf=function(){var a=this;this.view.Qh.hide().then(function(){a.Gh&&a.Gh();a.destroy()})};function Gr(a,b,c,d){zh.call(this,a);O(this,"section",b);O(this,"subsection","lightbox");c&&O(this,"location",c);d&&O(this,"type",d)}n(Gr,zh);
function Dr(a,b,c,d){a=new Gr("design_view",a,"lightbox");O(a,"design",b);c&&O(a,"template",c);O(a,"design_page_count",d);return a}function ur(a){return new Gr("fullscreen_mode",a,"navigation_toolbar")}function zr(a){return new Gr("button_click",a,"header","remix")}function yr(a,b,c,d){a=new Gr("design_share",a,d,c);O(a,"design",b);return a}function Er(a){return new Gr("button_click",a,"footer","more_options")}function xr(a){return new Gr("button_click",a,"overlay","embed_copy")};function Hr(a){this.Jb=a.Jb;this.bf={};this.error=!1;this.Cb=a.Cb;this.xb=a.xb;this.j=a.j;this.ra=a.ra;this.i=a.i;this.l=a.l;this.qa=a.qa;this.Ga=a.Ga;this.va=a.va;this.D=a.D;this.gc=a.gc;this.Nm=!!a.Nm;this.Ba=a.Ba;this.N=a.N;this.view=a.view}e=Hr.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.init=function(){this.listenTo(this.xb,{error:this.Di,fetch:this.Bb});this.listenTo(this.view,{thumbnailClick:this.Ei,commentsClick:this.fr});return this};e.remove=function(){this.stopListening()};e.Xc=function(){function a(){this.off("fetch",b)}function b(){this.off("error",a);this.Xc()}if(!this.error&&this.xb.Md&&!this.xb.mf()){var c=this.view.kg();c&&800<=Pp(this.Cb,c)||(this.once("error",a,this),this.once("fetch",b,this),this.fetch())}};
e.Qg=function(a){var b=X(this,a),c=this.view;c.stopListening(b);c.ta.remove(b.getElement());delete this.bf[a];Object.keys(this.bf).length||this.view.ml();this.trigger("removeDesign")};e.fetch=function(){this.error||!this.xb.Md||this.xb.mf()||(Kp(this.view,!0),this.xb.fetch())};e.Bb=function(a){this.xb.isEmpty()?this.view.ml():this.push(a);Kp(this.view,!1);this.trigger("fetch")};
e.push=function(a){var b=[];a.forEach(function(a){a=this.Jb(a);b.push(a);Ir(this,a)},this);this.view.push.apply(this.view,b)};function Ir(a,b){var c=b.getItem().g();a.bf[c]=b;a.xg(b)}e.xg=function(){};e.Di=function(){this.error=!0;this.view.bj(!0);Kp(this.view,!1);this.trigger("error")};e.fr=function(a){this.gc({j:this.j,i:this.i,l:this.l,qa:this.qa,Ga:this.Ga,va:this.va,D:this.D,Ba:this.Ba,N:this.N},a)};
e.Ei=function(a,b){var c=X(this,b).view.wb().attr("href").toString(),c=Qk(c);if("view"===c||"remix"===c||this.Nm)a.preventDefault(),this.fr(b)};function X(a,b){if(a=a.bf[b])return a;throw Error("no DesignCard for design: "+b);}
function Jr(a,b){var c=a.D,d=a.Ba,f=a.N;b={j:a.j,i:a.i,l:a.l,qa:a.qa,Ga:a.Ga,va:a.va,Wb:b,ja:c.Be()?null:c,Ba:d,N:f};var c=ei(b.i),c={Gs:ci(b.i).qt(),tv:b.ja&&b.ja.ak("200"),Ir:b.ja?null:{message:c.format("newLightboxSignupCtaMessage"),label:c.format("newLightboxSignupCtaLabel"),title:c.format("newLightboxSignupCtaTitle"),url:mp(),Rh:c.Yb("newLightboxSignupCtaDisclaimerHtml","https://about.canva.com/terms-of-use","https://about.canva.com/privacy-policy")},Xf:c.format("newLightboxEnterPresentation"),
Lb:c.format("newLightboxDocumentError"),Zf:c.format("newLightboxExitPresentation"),Gg:c.format("newLightboxNextFrame"),Og:c.format("newLightboxPreviousFrame"),N:b.N},g;if(c.Ir){var h=c.Ir;soy.asserts.assertType(goog.isString(h.message)||h.message instanceof goog.soy.data.SanitizedContent,"message",h.message,"string|goog.soy.data.SanitizedContent");d=h.message;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
f=h.label;soy.asserts.assertType(goog.isString(h.title)||h.title instanceof goog.soy.data.SanitizedContent,"title",h.title,"string|goog.soy.data.SanitizedContent");g=h.title;soy.asserts.assertType(goog.isString(h.url)||h.url instanceof goog.soy.data.SanitizedContent,"url",h.url,"string|goog.soy.data.SanitizedContent");var k=h.url;soy.asserts.assertType(h.Rh instanceof soydata.SanitizedHtml||h.Rh instanceof soydata.UnsanitizedText||goog.isString(h.Rh),"disclaimer",h.Rh,"soydata.SanitizedHtml");h=h.Rh;
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar lightbox__sidebar--signupCta"\x3e\x3cdiv class\x3d"lightbox__signupCta"\x3e\x3cspan class\x3d"lightbox__signupCtaCanvaLogo"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"100" height\x3d"100" viewBox\x3d"0 -1 100 100" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"49" fill\x3d"#20C4CB"/\x3e\x3cpath d\x3d"M62.65 58.163c-1.986 2.176-4.772 3.278-6.078 3.278-1.509 0-2.334-.926-2.504-2.315a5.73 5.73 0 0 1 .056-1.6c.499-3.115 1.645-5.051 1.574-5.64-.021-.169-.116-.253-.241-.253-.965 0-4.352 3.494-4.866 5.81l-.4 1.852c-.262 1.305-1.542 2.146-2.421 2.146-.42 0-.74-.21-.796-.673a1.998 1.998 0 0 1 .05-.632l.188-.976c-1.826 1.365-3.796 2.287-4.718 2.287-1.258 0-1.968-.673-2.217-1.684-.831 1.095-1.932 1.684-3.106 1.684-1.498 0-2.94-.99-3.634-2.458-.987 1.109-2.158 2.193-3.556 3.09-2.062 1.305-4.364 2.357-7.088 2.357-2.516 0-4.651-1.347-5.832-2.441-1.752-1.642-2.679-4.084-2.951-6.315-.86-7.03 3.42-16.25 10.051-20.29 1.522-.927 3.226-1.39 4.776-1.39 3.186 0 5.564 2.28 5.897 5.003.3 2.455-.682 4.574-3.402 5.947-1.39.703-2.078.67-2.295.335-.145-.224-.063-.602.217-.836 2.558-2.138 2.607-3.892 2.305-6.366-.195-1.59-1.242-2.61-2.415-2.61-5.03 0-12.243 11.282-11.24 19.491.391 3.2 2.353 6.904 6.377 6.904 1.341 0 2.762-.379 4.026-1.01 2.207-1.128 3.454-2.02 4.708-3.48-.307-3.796 2.95-8.56 7.794-8.56 2.095 0 3.833.842 4.039 2.526.257 2.104-1.536 2.526-2.207 2.526-.587 0-1.53-.169-1.596-.716-.072-.59 1.269-.252 1.104-1.6-.103-.841-.977-1.136-1.816-1.136-3.018 0-4.683 4.21-4.364 6.82.144 1.179.75 2.357 1.84 2.357.88 0 2.15-1.263 2.636-3.115.307-1.263 1.504-2.105 2.384-2.105.461 0 .78.21.837.673.02.169.004.38-.049.632-.1.547-.52 2.368-.501 2.746.015.329.204.78.774.78.453 0 2.115-.898 3.655-2.28.484-2.501 1.081-5.591 1.127-5.835.188-1.013.551-2.056 2.605-2.056.42 0 .739.21.8.715.02.168.005.38-.048.631l-.574 2.599c1.802-2.4 4.604-4.167 6.28-4.167.714 0 1.263.378 1.356 1.136.051.421-.071 1.137-.35 1.937-.597 1.641-1.268 4.107-1.712 6.23-.095.45.062 1.132.887 1.132.658 0 2.774-.806 4.482-3.062-.011-.32-.016-.644-.016-.97 0-1.768.125-3.199.46-4.251.335-1.095 1.72-2.146 2.641-2.146.462 0 .797.252.797.757 0 .169-.042.38-.126.589-.629 1.852-.964 3.579-.964 5.305 0 .968.21 2.526.42 3.325.041.169.082.337.25.337.294 0 2.264-1.936 3.689-4.294-1.258-.8-1.97-2.273-1.97-4.084 0-3.03 1.803-4.588 3.563-4.588 1.384 0 2.641 1.01 2.641 3.03 0 1.264-.503 2.695-1.215 4.085 0 0 .293.042.418.042 1.09 0 1.928-.506 2.39-1.053.21-.237.404-.425.591-.532 1.404-1.696 3.46-2.92 5.874-2.92 2.054 0 3.828.8 4.033 2.484.263 2.146-1.57 2.568-2.2 2.568-.628 0-1.572-.169-1.638-.716-.067-.547 1.31-.252 1.15-1.557-.102-.843-.981-1.179-1.82-1.179-2.809 0-4.74 3.746-4.369 6.778.149 1.22.712 2.4 1.802 2.4.88 0 2.194-1.264 2.68-3.116.312-1.221 1.502-2.105 2.383-2.105.419 0 .78.21.842.716.031.253-.07.8-.54 2.778-.191.842-.23 1.558-.158 2.147.15 1.22.709 2.02 1.226 2.484.189.168.298.378.314.505.04.336-.216.631-.636.631-.126 0-.293 0-.43-.084-2.16-.884-3.054-2.357-3.308-3.746-.834 1.052-1.937 1.641-3.068 1.641-1.929 0-3.812-1.684-4.079-3.873-.11-.9-.001-1.865.293-2.815-.782.484-1.625.752-2.38.752-.252 0-.46 0-.712-.041-1.886 2.735-3.857 4.63-5.366 5.472-.628.337-1.214.505-1.634.505-.336 0-.713-.083-.88-.379-.384-.65-.644-1.687-.797-2.905zm6.832-8.966c0 1.18.586 2.4 1.34 3.2.295-.8.462-1.6.462-2.4 0-1.516-.587-2.19-1.048-2.19-.545 0-.754.758-.754 1.39z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3cimage src\x3d"https://static.canva.com/static/images/canva_logo_100x100.png"/\x3e\x3c/svg\x3e')+
'\x3c/span\x3e\x3ch1 class\x3d"lightbox__signupCtaTitle"\x3e'+soy.$$escapeHtml(g)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__signupCtaMessage"\x3e'+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3ca class\x3d"lightbox__signupCtaButton button" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'" title\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(f)+'\x3c/a\x3e\x3cp class\x3d"lightbox__signupCtaDisclaimer"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")}else c.N?d=void 0:
(d=c.tv,f=c.Gs,soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"avatarUrl",d,"null|string|undefined"),soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",f,"string|goog.soy.data.SanitizedContent"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"commentList"\x3e'+(null!=d?'\x3cdiv class\x3d"commentList__form"\x3e'+Rl({u:"commentList__form__avatar",url:d})+Ki({attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('maxlength\x3d"1023" rows\x3d"1"'),
block:!0,u:"commentList__form__input",placeholder:f,tagName:"textarea"})+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"commentList__comments"\x3e\x3c/div\x3e\x3c/div\x3e')),d=d={fb:d,re:c.re,Ie:c.Ie},soy.asserts.assertType(null==d.title||d.title instanceof goog.soy.data.SanitizedContent||goog.isString(d.title),"title",d.title,"null|string|undefined"),soy.asserts.assertType(null==d.Tc||d.Tc instanceof soydata.SanitizedHtml||d.Tc instanceof soydata.UnsanitizedText||goog.isString(d.Tc),"byline",d.Tc,"?soydata.SanitizedHtml|string|undefined"),
soy.asserts.assertType(null==d.fb||d.fb instanceof soydata.SanitizedHtml||d.fb instanceof soydata.UnsanitizedText||goog.isString(d.fb),"commentList",d.fb,"?soydata.SanitizedHtml|string|undefined"),f=d.fb,soy.asserts.assertType(null==d.zb||goog.isObject(d.zb),"likeButton",d.zb,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}"),soy.asserts.assertType(null==d.re||goog.isObject(d.re),"editButton",d.re,"null|undefined|{label: string, url: string}"),soy.asserts.assertType(null==
d.Ie||goog.isObject(d.Ie),"remixButton",d.Ie,"null|undefined|{label: string, url: string}"),g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar"\x3e'+Vp(d)+(null!=f?'\x3cdiv class\x3d"lightbox__commentList"\x3e'+soy.$$escapeHtml(f)+"\x3c/div\x3e":"")+"\x3c/div\x3e");var d=$,f=c.Lb,l={Xf:c.Xf,Zf:c.Zf,Gg:c.Gg,Og:c.Og};soy.asserts.assertType(null==l.Lj||l.Lj instanceof goog.soy.data.SanitizedContent||goog.isString(l.Lj),"currentFrameText",l.Lj,"null|string|undefined");c=l.Lj;
soy.asserts.assertType(goog.isString(l.Xf)||l.Xf instanceof goog.soy.data.SanitizedContent,"enterPresentationTitle",l.Xf,"string|goog.soy.data.SanitizedContent");k=l.Xf;soy.asserts.assertType(goog.isString(l.Zf)||l.Zf instanceof goog.soy.data.SanitizedContent,"exitPresentationTitle",l.Zf,"string|goog.soy.data.SanitizedContent");h=l.Zf;soy.asserts.assertType(goog.isString(l.Gg)||l.Gg instanceof goog.soy.data.SanitizedContent,"nextFrameTitle",l.Gg,"string|goog.soy.data.SanitizedContent");var r=l.Gg;
soy.asserts.assertType(goog.isString(l.Og)||l.Og instanceof goog.soy.data.SanitizedContent,"previousFrameTitle",l.Og,"string|goog.soy.data.SanitizedContent");var w=l.Og;soy.asserts.assertType(null==l.Xk||l.Xk instanceof goog.soy.data.SanitizedContent||goog.isString(l.Xk),"presentationUrl",l.Xk,"null|string|undefined");l=l.Xk;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__pagination"\x3e'+(l?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(l))+'" target\x3d"_blank" class\x3d"lightbox__paginationButton lightbox__openDesignViewerButton" title\x3d"'+
soy.$$escapeHtmlAttribute(k)+'"\x3e\x3c/a\x3e':'\x3ca target\x3d"_blank" class\x3d"lightbox__paginationButton lightbox__openDesignViewerButton lightbox__paginationButton--hidden" title\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e\x3c/a\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__enterPresentationButton lightbox__enterPresentation" title\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__exitPresentationButton lightbox__exitPresentation" title\x3d"'+
soy.$$escapeHtmlAttribute(h)+'"\x3e\x3c/button\x3e')+'\x3cspan class\x3d"lightbox__paginationSeparator"\x3e\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__previousFrame" title\x3d"'+soy.$$escapeHtmlAttribute(w)+'"\x3e\x3c/button\x3e\x3cspan class\x3d"lightbox__currentFrameText"\x3e'+soy.$$escapeHtml(null==c?"":c)+'\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__nextFrame" title\x3d"'+soy.$$escapeHtmlAttribute(r)+'"\x3e\x3c/button\x3e\x3c/div\x3e');c={Lb:f,
sidebar:g,Sd:c};soy.asserts.assertType(null==c.visible||goog.isBoolean(c.visible)||1===c.visible||0===c.visible,"visible",c.visible,"boolean|null|undefined");f=c.visible;soy.asserts.assertType(goog.isString(c.Lb)||c.Lb instanceof goog.soy.data.SanitizedContent,"errorText",c.Lb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==c.frames||goog.isArray(c.frames),"frames",c.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");
soy.asserts.assertType(null==c.dd||goog.isBoolean(c.dd)||1===c.dd||0===c.dd,"loading",c.dd,"boolean|null|undefined");soy.asserts.assertType(c.Sd instanceof soydata.SanitizedHtml||c.Sd instanceof soydata.UnsanitizedText||goog.isString(c.Sd),"pagination",c.Sd,"soydata.SanitizedHtml");soy.asserts.assertType(c.sidebar instanceof soydata.SanitizedHtml||c.sidebar instanceof soydata.UnsanitizedText||goog.isString(c.sidebar),"sidebar",c.sidebar,"soydata.SanitizedHtml");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(Rp({visible:f,
u:"lightboxDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Tp(c))}));c=d(c.toString());d=new mq(c,$(document));f=Iq(c.find(".lightbox"));c=new ar(c,d,f);d=c.rn;f=d.Rm();g=null;f&&(Za(b.va,"Cannot have CommentListView with null MentionConverter"),g=pr({i:ci(b.i),qa:b.qa,va:b.va,ja:b.ja,object:b.Wb,accessToken:b.Si&&b.Si.document.gf.default,j:b.j,Tv:{cw:b.Ba,ew:"lightbox"}},f));d=new sr({j:b.j,i:ei(b.i),l:b.l,Ga:b.Ga,document:b.Si?b.Si.document:null,Dc:b.Dc,ja:b.ja,Ab:Lh(b.i),
Ba:b.Ba,N:b.N},d,g);d=new Fr({ri:d},c);Br(b,d.ri,c.rn);c.$el.appendTo("body");d.cc();d.show();a.Gh&&d.zr(a.Gh)};function Kr(){return"undefined"!==typeof Rollbar?new Lr:new Mr}function Lr(){}Lr.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Mr(){}Mr.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function Nr(a,b,c){this.F=a;this.zm=b;this.Ru=c;this.path="/documents"}function Or(a,b){var c=Kr();a:switch(b=b.zm(),b){case "NONE":b="NONE";break a;case "LOG":b="LOG";break a;case "THROW":b="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+b);}return new Nr(a,b,c)}e=Nr.prototype;e.duplicate=function(a){return U(this.F,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),gd(a)).get(0).tap(Pr(this,"CreateDocumentResponseProto (duplicate)",Ze)).then(df)};
e.nv=function(a){return U(this.F,this.path+"/"+encodeURIComponent(a)+"?trash",null).return()};e.delete=function(a){return U(this.F,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return U(this.F,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};
e.getDocument=function(a){a=[this.path,null!=a.Tj?"/"+encodeURIComponent(a.Tj):"","?includePages\x3d"+encodeURIComponent(String(!!a.Gq))].join("");return T(this.F,a).get(0).tap(Pr(this,"GetDocumentResponseProto",af)).then(gf)};e.search=function(a){return T(this.F,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(Pr(this,"SearchDocumentsResponseProto",Ad)).then(nf)};
function Pr(a,b,c){return function(d){try{c(q(d))}catch(f){switch(a.zm){case "THROW":throw f;case "LOG":a.Ru.log("Failed deserialization of "+b,{error:f})}}}};function Qr(a){Hr.call(this,a);this.nb=a.nb}Qr.prototype=Object.create(Hr.prototype);e=Qr.prototype;e.constructor=Qr;e.xg=function(a){var b=a.getItem();this.listenTo(a,{editTitle:this.Ku.bind(this,b),copy:this.Js.bind(this,b),trash:this.qh.bind(this,b)})};
e.Js=function(a){var b=Dh(this.i),c=a.getName()||ii(b),d=a.mg(),b=b.format("documentCopyDesignTitle",c).substr(0,255),c=a.wb(),f=a.getVersion(),d=Cg({name:b,tags:d,thumbnail:{height:c.Ua(),url:c.Fa(),width:c.ab(),version:c.getVersion()},socialMetadata:yg(new xg({Ah:!1,Ii:!1,Nd:"OWNER",Nc:0,za:0,$a:0,ca:!1,W:this.D})),version:f}),d=this.Jb(d);d.wl(!0);d.ic(!0);this.view.unshift(d);d.ic(!1);this.trigger("copy");a=new fd({id:a.g(),title:b});this.nb.duplicate(a).then(this.In.bind(this,d)).catch(this.$q.bind(this,
d))};e.In=function(a,b){a.getItem().id=b.getDocument().g();a.render().wl(!1);Ir(this,a)};e.$q=function(a){var b=this.view;b.stopListening(a);b.ta.remove(a.getElement());window.alert("An error occurred and we weren't able to copy your design.\n\nPlease refresh the page and try again.")};e.qh=function(a){X(this,a.g()).ic(!0);this.nb.nv(a.g()).then(this.kt.bind(this,a)).catch(this.wu.bind(this,a))};e.wu=function(a){X(this,a.g()).ic(!1);window.alert(Hh(this.i).format("designCardTrashDesignError"))};
e.kt=function(a){var b=a.g();X(this,b).ic(!0).then(function(){this.Qg(b)}.bind(this))};
e.Ku=function(a,b){var c=a.g(),d=X(this,c);b=b.trim().replace(/\s+/g," ");var f=Dh(this.i),f=a.getName()||ii(f);a.name=b;d.cj(!0);d.render();this.nb.getDocument(new hd({Tj:c})).then(function(a){a=a.getDocument();var c=this.nb,d=a.getVersion();return U(c.F,c.path+"/"+encodeURIComponent(a.g())+"/content/title?version\x3d"+d.toString(),{title:b}).return()}.bind(this)).then(this.ku.bind(this,a)).catch(this.ju.bind(this,a,f))};e.ku=function(a){X(this,a.g()).cj(!1)};
e.ju=function(a,b){var c=X(this,a.g());a.name=b;c.cj(!1);c.render();window.alert("Oh dear, we weren't able to rename your design.\n\nRefresh the page and try again. If it still doesn't work, email us at support@canva.com.")};function Rr(a){this.G=null;this.Pa=this.empty=!1;this.Wh=!0;this.C=a.C;this.Ta=a.Ta;this.Md=!0;this.qc=a.qc}e=Rr.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.fetch=function(){function a(){this.Pa=!1}if(!this.Pa&&this.Md){var b=(new Dg).nd(this.G).Qc(this.C).jj(["SOCIAL"]).od(this.qc);this.Pa=!0;this.Ta.pf(b).bind(this).finally(a).then(this.Bb).catch(this.Di)}};
e.Bb=function(a){var b=a.we();this.Wh&&(this.empty=0===b.length,this.Wh=!1);this.G=a.ea();this.Md=!!this.G;this.trigger("fetch",b)};e.Di=function(a){this.trigger("error",a)};e.isEmpty=function(){return this.empty};e.mf=function(){return this.Pa};function Sr(a,b){this.C=a;this.Pd=b}Sr.prototype.ua=function(){var a=this.C.getName(),b=this.C.lg();if(a)return a;if(b){if("LOGOS"===b)return this.Pd.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.Pd.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.C===qg?this.Pd.format("objectPanelUploadsPanelUploadsFolder"):this.C===rg?this.Pd.format("objectPanelUploadsPanelUnlimitedUseFolder"):this.Pd.format("objectPanelUploadsPanelUntitledFolder")};function Tr(a){Qr.call(this,{Jb:a.Jb,D:a.D,nb:a.nb,Cb:a.Cb,xb:a.xb,j:a.j,ra:a.ra,l:a.l,qa:a.qa,Ga:a.Ga,va:a.va,gc:a.gc,Ba:a.Ba,Nm:!0,N:a.N,view:a.view,i:a.i});this.w=a.w;this.listenTo(this.w,{"removeFromFolder:success":this.Mn,"removeFromFolder:fail":this.Nn});this.K=Xh(a.i);this.o=a.o;this.dg=a.dg;this.Ta=a.Ta}Tr.prototype=Object.create(Qr.prototype);e=Tr.prototype;e.constructor=Tr;
function Ur(a,b){var c=Vr(b),d=c?Hp.bind(null,b):Gp.bind(null,b);return new Ep({j:a.j,hb:Wr.bind(null,a,b),D:a.D,Gc:d,oc:!c,i:a.i,W:Vg(b).W||void 0,$d:a.C.shared,kb:c,Rb:!0,Za:!a.N&&!vf(a.Na),item:b,pa:a.pa})}function Wr(a,b){var c=a.C,d=a.i;d.Pd||(d.Pd=new gi(d.config));var c=new Sr(c,d.Pd),d=Vr(b),f=lg(a.C,og);return new no({Sh:b.getName()||ii(Dh(a.i)),Wl:c.ua(),La:Hh(a.i),jl:d&&f,ol:d&&f,vo:d&&f})}function Vr(a){a=Za(Vg(a).Nd,"myRole must be present");return sf[a]>=sf.EDITOR}
e.In=function(a,b){function c(b,c,l){c.g()===d.g()&&l.g()===f.g()&&(!b&&this.$q.call(this,a),this.stopListening(this.w,g))}Qr.prototype.In.call(this,a,b);var d=a.getItem(),f=this.w.ba(this.dg.g()),g={"addToFolder:success":c.bind(this,!0),"addToFolder:fail":c.bind(this,!1)};this.listenTo(this.w,g);pl(this.w,d,f)};e.$n=function(a){var b=this.w.ba(this.dg.g());this.w.$n(a,b);X(this,a.g()).ic(!0)};e.Mn=function(a,b){b.g()===this.dg.g()&&X(this,a.g()).ic(!0).then(function(){this.Qg(a.g())}.bind(this))};
e.Nn=function(a){X(this,a.g()).ic(!1);alert(this.K.format("designFoldersRemoveFromFolderError"))};e.Ju=function(){throw Error("not implemented");};e.xg=function(a){Qr.prototype.xg.call(this,a);this.listenTo(a,{removeFromFolder:this.$n.bind(this,a.getItem()),removeFromAllFolders:this.Ju.bind(this,a.getItem())})};e.ph=function(a,b){return X(this,a.g()).ph(b)};
e.getSources=function(){return lg(this.w.ba(this.dg.g()),ng)?_.values(this.bf).map(function(a){var b=a.getItem();return new ua(a.view.wb()[0],b)}):[]};e.hg=function(a){a=X(this,a.g());return $(this.Bm({thumbnailUrl:a.getItem().wb().Fa()}))[0]};
e.Bb=function(a){Hr.prototype.Bb.call(this,a);var b=Lg().mj(this.D.id).md(this.o.id).Xo(a.map(function(a){return a.g()}));this.Ta.Vh(b).bind(this).then(function(b){function d(a){try{return g.ba(a),!0}catch(b){return!1}}function f(a){var d;b.Da().some(function(b){if(b.g()===a)return d=b,!0});if(!d)throw Error("could not find associated folder in response");return d}var g=this.w,h=b.itemMappings||{},k=Object.keys(h).reduce(function(a,b){var c=(h[b]||[]).filter(d).map(f);a[b]=c;return a},{});a.forEach(function(a){a=
a.g();X(this,a).Il(k[a])},this)}).catch(function(){})};e.If=function(a,b){X(this,a).rd(b)};e.Bm=_.template('\x3cdiv class\x3d"dragDesign" style\x3d"background-image:url(\'\x3c%- thumbnailUrl %\x3e\')"\x3e\x3c/div\x3e');function Xr(a,b){a="/login/switch?brand\x3d"+encodeURIComponent(a);void 0!==b&&(a+="\x26redirect\x3d"+encodeURIComponent(b));return a};function Yr(a){this.Qj=a.Qj;this.ii=$("\x3ciframe\x3e");this.Fq=void 0;this.ra=a.ra;this.Pm=a.Pm;this.Fo=$("\x3ciframe\x3e");this.Mo=a.Mo;this.Sk=this.Sk.bind(this);window.addEventListener("message",this.Sk,!1)}e=Yr.prototype;e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.show=function(){var a=Xr(this.Pm,this.Qj);this.ii.addClass("designImporterIframe").attr("src",a).hide().appendTo("body");$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
e.remove=function(){window.removeEventListener("message",this.Sk);this.ii.remove();this.Fo.remove();$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible")};
e.Sk=function(a){var b=this.ii.get(0).contentWindow,c=this.Fo.get(0).contentWindow,d=a.data&&"designImport"===a.data.type;if(a.origin===window.location.origin&&d)if(a.source===b)switch(a=a.data,a.name){case "import":this.Fq=a.data;this.Fo.attr("src",Xr(this.Mo,this.Qj)).hide().appendTo(document.body);break;case "loaded":this.ii.show();break;case "remove":this.remove();break;default:throw Error("unrecognized message from design importer: "+a.name);}else if(a.source===c){a=a.data;b=this.ii.get(0).contentWindow;
if(this.ra.Z.get(Zl))throw Error("design importer does not support team domains");c=window.location.origin;"loaded"===a.name&&(this.trigger("import",this.Fq),b.postMessage({type:"designImportIframe",name:"remove"},c))}};function Zr(a){this.Ca=new bo;this.G=null;this.D=a.D;this.Na=a.Na;this.vm=!1;this.pe=a.pe;this.element=$('\x3cdiv class\x3d"designStream"\x3e');this.Aq=!0;this.mf=!1;this.hn=!0;this.kn=!1;this.ta=eo({lc:function(a){return Math.floor(a/250)}});this.zk=0;this.Hh=a.Hh;this.pa=a.pa;this.Fl=a.Fl;this.N=a.N;this.i=a.i;this.cf=Nh(this.i)}_.extend(Zr.prototype,Backbone.Events);e=Zr.prototype;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function $r(a,b){b=b.map(function(a){return this.Jb(a).getElement()[0]},a);a.ta.push($(b))}e.Jb=function(a){var b;b=a.document;a=a.Xl;var c=as(this,b);b=new gp(this.Hh,this.pa,b,0,!0);var d=this.pe;d.items.push(b);d.nn[b.Wb]=b;return(new Ep({D:this.D,Sp:b,Gc:Gp.bind(null,c),W:a,$d:!0,Za:!this.N,item:c,pa:this.pa,i:this.i})).render()};e.getElement=function(){return this.element};e.kg=function(){return this.ta.kg()};
e.render=function(){this.element.empty().append(this.ta.$el).append(this.Ca.render().$el);return this};
e.fetch=function(a){function b(a){var b=a.G,c=a.Co,d=0===c.length&&f.hn;$r(f,c);f.G=b||null;f.Aq=!!b;d?f.ml():f.hn&&(f.zk=c[0].timestamp,f.zk>a.read&&(f.vm?(a=f,a.vm=0===a.zk,a.vm||(b=a.pa,U(b.F,b.path+"/user/stream",To(new So({read:a.zk}))).get(0).then(q).then(Vo).then(a.fv.bind(a)))):f.Fl.addClass("unread")))}function c(a){f.kn=!0;var b=f;b.element.append(b.$s({error:b.cf.error('\x3ca href\x3d"https://support.canva.com/troubleshooting"\x3e',"\x3c/a\x3e"),loadStream:b.cf.wt()}));b.element.find(".designStreamError \x3e button").click(b.Ou.bind(b));
throw a;}function d(){f.Ca.transitionDelay=-1;f.Ca.hide();f.mf=!1;f.hn=!1}var f=this;!this.Aq||this.mf||this.kn||(this.Ca.transitionDelay=void 0!=a?a:-1,this.Ca.show(),this.mf=!0,ep(this.pa,new Ro({limit:18,G:this.G})).then(b).catch(c).finally(d))};
function as(a,b){var c=b.document;return Cg({id:c.g(),myRole:function(){return c.acl?c.acl.rules.some(function(b){return"OWNER"==b.role&&b.principal.brand==a.Na.g()&&b.principal.user==a.D.g()}):!1}()?"OWNER":"VIEWER",name:c.nc(),tags:c.mg(),thumbnail:Rg({height:function(){var a=c.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.height:0}(),url:pf(c),width:function(){var a=c.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.width:0}()}),timestamp:c.draft?c.draft.timestamp:c.creationDate,
type:Tg,version:c.getVersion(),socialMetadata:{publik:function(){return c.acl?c.acl.rules.some(function(a){return"DEFAULT"==a.type&&"NONE"!=a.role}):!1}(),remixCount:b.Nc,likerCount:b.za,commentCount:b.$a,likedByMe:b.ca}})}e.jd=function(){this.ta.jd()};e.Ou=function(){this.element.find(".designStreamError").remove();this.kn=!1;this.fetch()};e.ml=function(){this.element.append(this.Xs({empty:this.cf.empty()}))};e.fv=function(){this.Fl.removeClass("unread")};e.Xs=_.template("\x3cp\x3e\x3c%- empty %\x3e\x3c/p\x3e");
e.$s=_.template('\x3cp class\x3d"designStreamError"\x3e\x3c%\x3d error %\x3e\x3cbutton class\x3d"button"\x3e\x3c%- loadStream %\x3e\x3c/button\x3e\x3c/p\x3e');function bs(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function cs(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.bh)||a.bh instanceof goog.soy.data.SanitizedContent,"showFewerDesigns",a.bh,"string|goog.soy.data.SanitizedContent");var c=a.bh;soy.asserts.assertType(goog.isString(a.Ef)||a.Ef instanceof goog.soy.data.SanitizedContent,"useCustomDimensions",a.Ef,"string|goog.soy.data.SanitizedContent");
a=a.Ef;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"docTypeInner"\x3e\x3cdiv class\x3d"docTypeHeader"\x3e\x3ch1 class\x3d"docTypeTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3cmenu class\x3d"docTypeMenu"\x3e\x3cli class\x3d"docTypeMenuItem"\x3e\x3cbutton class\x3d"button buttonLink docTypeButton docTypeLessButton docTypeMoreThumbnail"\x3e'+soy.$$escapeHtml(c)+'\x3c/button\x3e\x3c/li\x3e\x3cli class\x3d"docTypeMenuItem"\x3e\x3cbutton class\x3d"button buttonLink docTypeButton docTypeCustomButton"\x3e'+
soy.$$escapeHtml(a)+'\x3c/button\x3e\x3c/li\x3e\x3c/menu\x3e\x3c/div\x3e\x3cdiv class\x3d"docTypeBasic"\x3e\x3c/div\x3e\x3cdiv class\x3d"docTypeAdvanced"\x3e\x3c/div\x3e\x3c/div\x3e')}
function ds(a){soy.asserts.assertType(goog.isString(a.error)||a.error instanceof goog.soy.data.SanitizedContent,"error",a.error,"string|goog.soy.data.SanitizedContent");var b=a.error;soy.asserts.assertType(goog.isString(a.dc)||a.dc instanceof goog.soy.data.SanitizedContent,"retry",a.dc,"string|goog.soy.data.SanitizedContent");a=a.dc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"docTypeError"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton class\x3d"button"\x3e'+soy.$$escapeHtml(a)+
"\x3c/button\x3e\x3c/p\x3e")}
function es(a){soy.asserts.assertType(goog.isString(a.width)||a.width instanceof goog.soy.data.SanitizedContent,"width",a.width,"string|goog.soy.data.SanitizedContent");var b=a.width;soy.asserts.assertType(goog.isString(a.height)||a.height instanceof goog.soy.data.SanitizedContent,"height",a.height,"string|goog.soy.data.SanitizedContent");var c=a.height;soy.asserts.assertType(goog.isNumber(a.An),"minSize",a.An,"number");var d=a.An;soy.asserts.assertType(goog.isNumber(a.xn),"maxSize",a.xn,"number");
var f=a.xn;soy.asserts.assertType(goog.isString(a.times)||a.times instanceof goog.soy.data.SanitizedContent,"times",a.times,"string|goog.soy.data.SanitizedContent");var g=a.times;soy.asserts.assertType(goog.isString(a.Lg)||a.Lg instanceof goog.soy.data.SanitizedContent,"pixelsUnit",a.Lg,"string|goog.soy.data.SanitizedContent");var h=a.Lg;soy.asserts.assertType(goog.isString(a.Cg)||a.Cg instanceof goog.soy.data.SanitizedContent,"millimetersUnit",a.Cg,"string|goog.soy.data.SanitizedContent");var k=
a.Cg;soy.asserts.assertType(goog.isString(a.rg)||a.rg instanceof goog.soy.data.SanitizedContent,"inchesUnit",a.rg,"string|goog.soy.data.SanitizedContent");var l=a.rg;soy.asserts.assertType(goog.isString(a.Ad)||a.Ad instanceof goog.soy.data.SanitizedContent,"design",a.Ad,"string|goog.soy.data.SanitizedContent");a=a.Ad;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"docTypeCustomInner"\x3e\x3cinput type\x3d"number" class\x3d"docTypeCustomChild docTypeCustomWidth docTypeCustomSize textInput" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(b)+'" step\x3d"any" min\x3d"'+soy.$$escapeHtmlAttribute(d)+'" max\x3d"'+soy.$$escapeHtmlAttribute(f)+'" required\x3e\x3cspan class\x3d"docTypeCustomChild"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cinput type\x3d"number" class\x3d"docTypeCustomChild docTypeCustomHeight docTypeCustomSize textInput" placeholder\x3d"'+soy.$$escapeHtmlAttribute(c)+'" step\x3d"any" min\x3d"'+soy.$$escapeHtmlAttribute(d)+'" max\x3d"'+soy.$$escapeHtmlAttribute(f)+'" required\x3e\x3cspan class\x3d"docTypeCustomChild"\x3e\x3cselect class\x3d"docTypeCustomUnits"\x3e\x3coption value\x3d"PIXELS" selected\x3e'+
soy.$$escapeHtml(h)+'\x3c/option\x3e\x3coption value\x3d"MILLIMETERS"\x3e'+soy.$$escapeHtml(k)+'\x3c/option\x3e\x3coption value\x3d"INCHES"\x3e'+soy.$$escapeHtml(l)+'\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"selectArrow"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"docTypeCustomChild"\x3e\x3d\x3c/span\x3e\x3cbutton class\x3d"docTypeCustomChild button docTypeCustomizeButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/div\x3e")};function fs(){}fs=Backbone.View.extend({className:"docTypeList",tagName:"ul"});function gs(a,b){var c=b||65;a=hs(a).toArray().reverse();a.forEach(function(a,b){window.setTimeout(function(){$(a).addClass("docTypeItemDisappearing")},b*c)});return P.delay((a.length-1)*c+500)}
fs.prototype.yf=function(a){var b=this,c;this.$el.empty();a.map(function(a){c=0<=fs.ys.indexOf(a.id);var b=$,g;g=a.name;var h=a.$u,k=a.path,l=a.nh,r=a.ce,w=a.be;a=a.Qs;var G=c;soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"name",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"showAsNew",h,"boolean");h=!!h;soy.asserts.assertType(goog.isBoolean(G)||1===G||0===G,"skipThumbnailShadow",G,"boolean");G=!!G;soy.asserts.assertType(goog.isString(k)||
k instanceof goog.soy.data.SanitizedContent,"path",k,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"thumbnailUrl",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isNumber(r),"thumbnailWidth",r,"number");soy.asserts.assertType(goog.isNumber(w),"thumbnailHeight",w,"number");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"dimensions",a,"string|goog.soy.data.SanitizedContent");
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"docTypeItem docTypeItemAppearing'+soy.$$escapeHtmlAttribute(h?" docTypeItemNew":"")+'"\x3e\x3ca class\x3d"docTypeItemLink" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'" target\x3d"_blank" title\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3cfigure class\x3d"docTypeItemFigure"\x3e\x3cimg class\x3d"docTypeItemThumbnail'+soy.$$escapeHtmlAttribute(G?" docTypeItemThumbnail--noShadow":"")+'" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(l))+
'" width\x3d"'+soy.$$escapeHtmlAttribute(r)+'" height\x3d"'+soy.$$escapeHtmlAttribute(w)+'"\x3e\x3cfigcaption class\x3d"docTypeItemCaption"\x3e\x3cp class\x3d"docTypeItemName"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3cp class\x3d"docTypeItemDimensions"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/figcaption\x3e\x3c/figure\x3e\x3c/a\x3e\x3c/li\x3e");return b(g.toString())}).forEach(function(a){b.$el.append(a)});this.$el.append($('\x3cli class\x3d"docTypeItem docTypeItemDummy"\x3e\x3c/li\x3e'))};
fs.prototype.Zu=function(a){var b=50*(this.$el.children().not(".docTypeItemDummy").each(function(a,b){window.setTimeout(function(){$(b).removeClass("docTypeItemAppearing")},50*a)}).length-1);return P.delay(b+(a?0:300))};fs.prototype.Qu=function(a){var b=this.$el.children(".docTypeItemDisappearing").each(function(a,b){window.setTimeout(function(){$(b).removeClass("docTypeItemDisappearing")},75*a)});return P.delay(75*(b.length-1)+(a?0:500))};
function hs(a){var b=a.$el.height();return a.$(".docTypeItem").filter(function(){return $(this).position().top+20<=b})}fs.ys=["TABQqnM7Tvw"];var is=fs;function js(){}js=is.extend({className:"docTypeList docTypeListBasic"});
js.prototype.yf=function(a){is.prototype.yf.apply(this,arguments);this.$el.children().removeClass("docTypeItemAppearing");var b=$,c;c=this.Y.Md();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"more",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"docTypeItem docTypeMore"\x3e\x3ca href\x3d"/create-a-design" class\x3d"button buttonLink docTypeButton docTypeMoreButton"\x3e\x3cfigure class\x3d"docTypeItemFigure"\x3e\x3cdiv class\x3d"docTypeMoreThumbnail docTypeItemThumbnail"\x3e\x3c/div\x3e\x3cfigcaption class\x3d"docTypeItemCaption"\x3e\x3cp class\x3d"docTypeItemName"\x3e'+soy.$$escapeHtml(c)+
'\x3c/p\x3e\x3cp class\x3d"docTypeItemDimensions"\x3e\x26nbsp;\x3c/p\x3e\x3c/figcaption\x3e\x3c/figure\x3e\x3c/button\x3e\x3c/li\x3e');this.Eg=b(c.toString());this.Eg.prependTo(this.$el);this.$el.children().addClass("docTypeItemBasic");this.Pb()};js.prototype.Pb=function(){this.Eg.prependTo(this.$el).css("display","none");this.Eg.css("display","");var a=hs(this).length,b=this.$el.children().length;a===b?this.Eg.insertBefore(this.$el.children(".docTypeItemDummy")):this.Eg.insertBefore(this.$el.children().eq(a))};
js.prototype.initialize=function(a){is.prototype.initialize.apply(this,arguments);this.Y=a.Y;this.Eg=$()};var ks=js;function ls(a,b,c){this.Dd=a;this.de=b;this.vd=c}var ms=[];function ns(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new ls("INCHES",a,b);a=new ls(a,"INCHES",1/b);b=[c,a];os(c,b,1);os(a,b,0);Array.prototype.push.apply(ms,b)}
function ps(a,b,c){if(b==c)return a;for(var d=0;d<ms.length;d++){var f=ms[d];if(f.Dd==b&&f.de==c)return f.vd*a}throw Error('Unknown measurement unit conversion from "'+b+'" to "'+c+'"');}
function os(a,b,c){var d,f,g;for(f=0;f<ms.length;f++){var h=ms[f];if(h.Dd==a.de){if(d=new ls(a.Dd,h.de,a.vd*h.vd),b.push(d),0!=c)for(g=0;g<ms.length;g++)h=ms[g],d.Dd==h.de&&b.push(new ls(d.de,h.Dd,1/(h.vd*d.vd)))}else if(h.de==a.Dd&&(d=new ls(h.Dd,a.de,h.vd*a.vd),b.push(d),0!=c))for(g=0;g<ms.length;g++)h=ms[g],d.de==h.Dd&&b.push(new ls(d.Dd,h.de,d.vd*h.vd))}}ns("MILLIMETERS",25.4);ns("PIXELS",96);ns("CENTIMETERS",2.54);function qs(){}qs=Backbone.View.extend({className:"docTypeCustomDimensions customDimensions",tagName:"form"});e=qs.prototype;e.initialize=function(a){this.Y=a.Y};e.events=function(){return{submit:this.hd,"change .docTypeCustomSize":this.tu,"change .docTypeCustomUnits":this.xu}};e.Zj=function(){this.$(".docTypeCustomWidth").focus()};e.Km=function(){this.$(".docTypeCustomHeight").focus()};e.hide=function(){this.$el.removeClass("docTypeCustomDimensionsShown")};
e.render=function(){this.$el.html(es({times:this.Y.times(),width:this.Y.width(),height:this.Y.height(),Lg:this.Y.Lg(),Cg:this.Y.Cg(),rg:this.Y.rg(),Ad:this.Y.Ad(),An:qp.Sl,xn:qp.Rl}).toString());return this};e.show=function(){this.$el.addClass("docTypeCustomDimensionsShown");this.Zj()};e.tu=function(a){a=$(a.target);var b=this.$(".docTypeCustomUnits");a.data("userValue",parseFloat(a.val()));a.data("userUnit",b.val())};
e.hd=function(a){a.preventDefault();this.trigger("submitCustomDimensions",{width:parseFloat(this.$(".docTypeCustomWidth").val()),height:parseFloat(this.$(".docTypeCustomHeight").val()),Df:this.$(".docTypeCustomUnits").val()})};
e.xu=function(a){function b(a,b,c){b>l&&(b=l);b<r&&(b=r);a.val("PIXELS"===c?Math.ceil(b)+"":b.toFixed(3))}var c=this.$(".docTypeCustomWidth"),d=this.$(".docTypeCustomHeight"),f=c.data("userUnit"),g=d.data("userUnit"),h=c.data("userValue")||0,k=d.data("userValue")||0;a=a.target.value;var l=Math.floor(1E3*ps(qp.Rl,"PIXELS",a))/1E3,r=Math.ceil(1E3*ps(qp.Sl,"PIXELS",a))/1E3;h&&b(c,ps(h,f,a),a);k&&b(d,ps(k,g,a),a);c.attr({max:l,min:r});d.attr({max:l,min:r})};var rs=qs;function ss(a){this.nh=a.nh;this.ce=a.ce;this.be=a.be;this.Cm=a.Cm;this.displayName=a.displayName;this.xm=a.xm;this.so=a.so;this.Up=a.Up;this.Vp=a.Vp;this.Mf=a.Mf}ss.prototype.ei=function(){return this.nh};ss.prototype.ua=function(){return this.displayName};
function ts(a){return new ss({nh:v("thumbnailUrl",a),ce:t("thumbnailWidth",a),be:t("thumbnailHeight",a),Cm:v("editorPath",a),displayName:v("displayName",a),xm:v("dimensionsLabel",a),so:y("showNewBadge",a),Up:x("doctypeId",a),Vp:x("doctypeName",a),Mf:x("categoryId",a)})}function us(a){this.Zm=a.Zm;this.options=a.options||[]};function Y(){}Y=Backbone.View.extend({className:"docTypeSelector"});Y.bp=118;Y.Hf=274;Y.uh=500;var vs=new rp(0,0,120,120);e=Y.prototype;e.Cu=function(a){var b=new rp(0,0,a.ce||100,a.be||100),c=b.width/b.height;b.width/b.height<vs.width/vs.height?(b.height=vs.height,b.width=c*b.height):(b.width=vs.width,b.height=b.width/c);b.left=vs.left-(b.width-vs.width)/2;b.top=vs.top-(b.height-vs.height)/2;b=b.round();return{path:a.Cm,name:a.displayName,nh:a.nh,ce:b.ab(),be:b.Ua(),Qs:a.xm,$u:a.so}};
e.events=function(){return{"click .docTypeLessButton":this.trigger.bind(this,"clickCollapse"),"click .docTypeCustomButton":this.trigger.bind(this,"clickCustom")}};e.initialize=function(a){this.Qe=[];this.em=a.em;this.Rc=new ks({Y:a.Y});this.wd=new rs({Y:a.Y});this.state=0;this.Y=a.Y;this.listenTo(this.Rc,"more",this.trigger.bind(this,"clickExpand"));this.listenTo(this.wd,"submitCustomDimensions",this.trigger.bind(this,"submitCustomDimensions"))};
function ws(a){function b(){f.addClass("docTypeAdvancedHidden");return P.delay(500).then(c)}function c(){f.removeClass("docTypeAdvancedHidden");d.removeClass("docTypeCategoryAppearing")}var d=a.$(".docTypeAdvanced").find(".docTypeCategory"),f=a.$(".docTypeAdvanced");a.trigger("collapsing");xs(a).bind(a).then(function(){return P.join(ys(this),b())}).then(a.Pb).then(a.Rc.Qu.bind(a.Rc,!0)).then(a.Bt).then(a.Dm).then(a.trigger.bind(a,"collapsed"))}
function zs(a){var b=a.$(".docTypeLessButton");a.trigger("expanding");xs(a).bind(a).then(function(){b.addClass("doNotTransition").css(As(this));bs(b)}).then(function(){var a=this.$el.height();this.$el.removeClass("hidden");gs(this.Rc,0);return Bs(this,a,Cs(this))}).then(a.il.bind(a,!0)).then(function(){this.$el.addClass("expanded")}).then(a.trigger.bind(a,"expanded")).then(a.Dm).delay(Y.uh).then(a.ro).then(function(){b.removeClass("doNotTransition")})}
function Ds(a){a.trigger("expanding");xs(a).bind(a).then(function(){this.$el.removeClass("hidden");return P.join(Es(this),gs(this.Rc),Fs(this))}).then(a.il.bind(a,!0)).then(a.trigger.bind(a,"expanded")).then(a.Dm).then(a.ro)}
function Gs(a,b){var c=a.$el.height();if(a.$el.hasClass("hidden")&&c===b)return P.resolve();var d=a.$(".docTypeAdvanced").find(".docTypeCategory"),f=a.$(".docTypeLessButton"),g=As(a),h=a.$el.parents().filter(function(){return 0<this.scrollTop}).eq(0),k=h.height(),l;a.trigger("hiding");a.$el.addClass("hidden");h.length&&a.$el.height()>k&&(l=h.scrollTop(),g.top+=l,a.$el.height(k).scrollTop(l),f.css(g),h.scrollTop(0));Bs(a,c,b);return P.delay(Y.uh).bind(a).then(function(){d.removeClass("docTypeCategoryAppearing");
this.$el.scrollTop(0);this.trigger("hidden")})}e.hide=function(){return Gs(this,Y.bp)};e.show=function(){if(!this.$el.hasClass("hidden"))return P.resolve();var a=this.$el.height();this.trigger("showing");this.$el.removeClass("hidden");Bs(this,a,Y.Hf);return P.delay(Y.uh).then(this.trigger.bind(this,"shown"))};e.Zj=function(){this.wd.Zj()};e.Km=function(){this.wd.Km()};
function Hs(a){a.wd.hide();a.$el.removeClass("docTypeCustomDimensionsShown");a.$(".docTypeCustomButton").text(a.Y.Ef());a.$(".docTypeCategoryHeader").removeClass("docTypeBlur");a.$(".docTypeList").removeClass("docTypeBlur")}e.Pb=function(){this.Rc.Pb();2===this.state&&this.$(".docTypeLessButton").css(As(this))};function Is(a,b){b.forEach(function(b){a.yf(b.Zm,b.options)})}
e.yf=function(a,b){function c(b){return b.category===a}var d=b.map(this.Cu.bind(this));"BASIC"===a?this.Rc.yf(d):(b=_.find(this.Qe,c),b||(b={category:a,view:new is},this.Qe.push(b),this.vr(b)),b.view.yf(d))};e.render=function(){this.$el.html(cs({title:this.Y.title(),bh:this.Y.bh(),Ef:this.Y.Ef()}).toString());this.Rc.render();this.Qe.forEach(this.vr.bind(this));this.wd.render();this.$(".docTypeBasic").append(this.Rc.$el);this.$(".docTypeInner").append(this.wd.$el);this.yf("BASIC",this.em);return this};
e.vr=function(a){var b=$,c;c=a.category;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"category",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"docTypeCategory"\x3e\x3ch2 class\x3d"docTypeCategoryHeader"\x3e'+soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3c/div\x3e");b=b(c.toString());a=a.view.render().$el;a.addClass("docTypeListAdvanced");b.append(a);b.appendTo(this.$(".docTypeAdvanced"))};
e.Yu=function(){Bs(this,"","");return P.reduce(this.Qe,function(a,b){a=b.view;a.$el.parents(".docTypeCategory").addClass("docTypeCategoryAppearing");return P.delay(50).then(a.Zu.bind(a,!0))},this.Qe[0])};
function Js(a){function b(a){var f=c.wd;0<$(a.target).closest(f.$(".docTypeCustomInner")).length||(a.stopPropagation(),a.preventDefault(),Hs(c),document.removeEventListener("click",b,!0))}var c=a;a.wd.show();a.$el.addClass("docTypeCustomDimensionsShown");a.$(".docTypeCustomButton").html(a.Y.format("docTypeSelectorDontUseCustomDimensions","\x3cstrong\x3e","\x3c/strong\x3e"));a.$(".docTypeCategoryHeader").addClass("docTypeBlur");a.$(".docTypeList").addClass("docTypeBlur");document.addEventListener("click",
b,!0)}function Ks(a){function b(){d.remove();c.trigger("clickRetry")}var c=a,d=a.$(".docTypeError");0===d.length&&(d=$(ds({error:a.Y.error(),dc:a.Y.dc()}).toString()),a.$(".docTypeAdvanced").append(d),d.find("button").on("click",b))}function xs(a){a.$el.css("pointer-events","none");a.$(".docTypeLessButton, .docTypeCustomDimensions").css("pointer-events","none");return P.resolve()}
e.Dm=function(){this.$el.css("pointer-events","");this.$(".docTypeLessButton, .docTypeCustomDimensions").css("pointer-events","");return P.resolve()};function Cs(a){return $(window).height()-a.$el.offset().top-parseInt(a.$el.css("padding-top"),10)+$(window).scrollTop()}function Fs(a){a.state=3;Bs(a,Y.Hf,Cs(a));return P.delay(Y.uh)}function Ls(a){function b(a){return 0<a.view.$(".docTypeItem").length}return 0<a.Qe.length&&a.Qe.every(b)}
function Es(a){var b=a.$(".docTypeLessButton"),c=Ms(a,!1),d=As(a);b.css("visibility","visible").css(c);bs(b);b.css(d);a.$el.addClass("expanding");return P.delay(700).then(function(){b.css("visibility","");this.$el.removeClass("expanding").addClass("expanded")}.bind(a))}e.Bt=function(){var a=this.$(".docTypeLessButton"),b=Ms(this,!0);a.css(b);this.$el.addClass("collapsing").removeClass("expanded");bs(this.$el);return P.delay(700).then(function(){this.$el.removeClass("collapsing")}.bind(this))};
function Ms(a,b){a=a.$(".docTypeMoreButton");var c=a.offset();return{right:$(window).width()-c.left-a.outerWidth(),top:c.top-(b?50:0)}}function As(a){var b=a.$el.offset();a=a.$el.outerWidth(!0);return{right:$(window).width()-a-b.left+20,top:b.top+22}}e.il=function(a){this.$el.toggleClass("docTypeSelectorExpanded",a);bs(this.$el);this.state=a?2:0};e.ro=function(){return Ls(this)?P.resolve().bind(this).then(this.Yu):P.resolve()};
function ys(a){a.state=1;Bs(a,Cs(a),Y.Hf);return P.delay(Y.uh).then(a.il.bind(a,!1))}function Bs(a,b,c){a.$el.addClass("doNotTransition").height(b);bs(a.$el);a.$el.removeClass("doNotTransition").height(c)}function Ns(a){a=a.$el.find(".docTypeMenuItem:nth-child(1)");if(0===a.length)throw Error("Index out of range, please note :nth-child selector is 1-indexed");var b=$('\x3cli class\x3d"docTypeMenuItem"\x3e\x3c/li\x3e');a.after(b);return b}var Os=Y;function Ps(){}Ps=Backbone.View.extend({className:"sharedDesignsHeader tabHeader tabHeader--simple",tagName:"section"});Ps.create=function(a){return new Ps({cb:a})};Ps.prototype.initialize=function(a){this.cb=a.cb};Ps.prototype.render=function(){this.$el.html(this.template({title:this.cb.title()}));return this};Ps.prototype.template=_.template('\x3cdiv class\x3d"tabHeaderRow lead"\x3e\x3cdiv class\x3d"tabHeaderTitle"\x3e\x3cspan\x3e\x3c%- title %\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e');
var Qs=Ps;function Rs(a){Backbone.View.call(this,{el:a.el})}n(Rs,Backbone.View);Rs.prototype.Qo=function(a){this.$el.toggleClass("showDescription",a)};var Ss=_.template('\n  \x3csection class\x3d"trashedDesignsHeader tabHeader tabHeader--simple"\x3e\n    \x3cdiv class\x3d"tabHeaderRow lead"\x3e\n      \x3cdiv class\x3d"tabHeaderTitle"\x3e\x3cspan\x3e\x3c%- title %\x3e\x3c/span\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"tabHeaderRow secondary"\x3e\n      \x3cdiv class\x3d"tabHeaderDescription"\x3e\x3cspan\x3e\x3c%- description %\x3e\x3c/span\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/section\x3e\n');function Ts(a){Backbone.View.call(this,{el:a.$el})}n(Ts,Backbone.View);function Us(a){Backbone.View.call(this,{el:a.$el})}n(Us,Backbone.View);Us.prototype.Qo=function(a){this.$el.toggleClass("showDescription",a)};function Vs(a){soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var b=a.heading;soy.asserts.assertType(goog.isString(a.content)||a.content instanceof goog.soy.data.SanitizedContent,"content",a.content,"string|goog.soy.data.SanitizedContent");var c=a.content;soy.asserts.assertType(null==a.zc||a.zc instanceof goog.soy.data.SanitizedContent||goog.isString(a.zc),"buttonText",a.zc,"null|string|undefined");
var d=a.zc;soy.asserts.assertType(null==a.Bh||a.Bh instanceof goog.soy.data.SanitizedContent||goog.isString(a.Bh),"buttonLink",a.Bh,"null|string|undefined");a=a.Bh;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"sharedDesignsEmptyMessage"\x3e\x3cdiv class\x3d"sharedDesignsEmptyMessage__inner"\x3e\x3cdiv class\x3d"sharedDesignsEmptyMessage__imageContainer"\x3e\x3c/div\x3e\x3ch2 class\x3d"sharedDesignsEmptyMessage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cspan class\x3d"sharedDesignsEmptyMessage__content"\x3e'+
soy.$$escapeHtml(c)+"\x3c/span\x3e"+(d&&a?Dk({text:d,href:a,tagName:"a"}):"")+"\x3c/div\x3e\x3c/div\x3e")};function Ws(){}Ws=W.extend();Ws.create=function(a){var b=(new bo).render(),c=eo({lc:function(a){return Math.floor(a/W.vh)}});return new Ws({Ca:b,ta:c,cb:a.cb,Cf:a.Cf})};Ws.prototype.initialize=function(a){this.cb=a.cb;this.Cf=a.Cf;W.prototype.initialize.call(this,{Ca:a.Ca,ta:a.ta,Ig:!0})};
Ws.prototype.Rg=function(){return this.Cf?Vs({heading:ki(this.cb),content:this.cb.format("sharedDesignsEmptyStateMessageContent"),zc:this.cb.format("sharedDesignsEmptyStateInviteButtonText"),Bh:"/brand/members"}).toString():Vs({heading:ki(this.cb),content:this.cb.format("sharedDesignsEmptyStateMessageContentNoTeams")}).toString()};Ws.prototype.Sg=function(){return _.template('\x3cp class\x3d"designCardListErrorMessage"\x3e\x3c%- error %\x3e\x3c/p\x3e')({error:this.cb.error()})};var Xs=Ws;function Ys(a){W.call(this,_.extend({tagName:"section",className:"designStream"},a))}n(Ys,W);function Zs(a){var b=(new bo).render(),c=eo({lc:function(a){return Math.floor(a/W.vh)}});return new Ys({Ca:b,ta:c,Eb:a})}Ys.prototype.initialize=function(a){W.prototype.initialize.call(this,a);this.Eb=a.Eb};
Ys.prototype.Rg=function(){return _.template('\n      \x3cdiv class\x3d"designCardListEmptyMessage trashedDesignsEmptyContainer"\x3e\n        \x3cdiv class\x3d"trashedDesignsEmptyMessage"\x3e\n          \x3ch2\x3e\x3c%- emptyTitle %\x3e\x3c/h2\x3e\n          \x3cp\x3e\x3c%- emptyBody %\x3e\x3c/p\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    ')({emptyTitle:this.Eb.Ys(),emptyBody:this.Eb.Ws()})};Ys.prototype.Sg=function(){return _.template('\x3cp class\x3d"designCardListErrorMessage"\x3e\x3c%- error %\x3e\x3c/p\x3e')({error:this.Eb.Hm()})};function $s(){}$s=W.extend({className:"teamStreamList"});$s.create=function(a){var b=(new bo).render(),c=eo({lc:function(a){return Math.floor(a/W.vh)}});return new $s({Ca:b,ta:c,Oe:a})};$s.prototype.initialize=function(a){W.prototype.initialize.call(this,{Ca:a.Ca,ta:a.ta,Ig:!0});this.Oe=a.Oe};$s.prototype.Rg=function(){return['\x3cp class\x3d"designCardListEmptyMessage"\x3e',this.Oe.format("teamStreamNoDesignsPublished"),"\x3c/p\x3e"].join("")};
$s.prototype.Sg=function(){return['\x3cp class\x3d"designCardListErrorMessage"\x3e',this.Oe.Hm(),"\x3c/p\x3e"].join("")};var at=$s;function bt(){}bt=W.extend({className:"homeDesigns"});bt.create=function(a,b,c,d){var f=(new bo).render(),g=eo({lc:function(a){return Math.floor(a/W.vh)}});return new bt({Mi:a,Ca:f,uq:bt.it,ln:b,ta:g,no:c,Ob:d})};bt.it=function(){var a=parseInt($("#page").css("paddingBottom"),10)+parseInt($("#page").css("paddingTop"),10),b=$("#yourDesigns"),b=parseInt(b.css("paddingBottom"),10),c=Os.Hf;return $(window).height()-c-a-b};e=bt.prototype;
e.events=function(){return _.extend(W.prototype.events.call(this),{"click .importifyButton":this.trigger.bind(this,"import")})};e.initialize=function(a){W.prototype.initialize.call(this,{Ca:a.Ca,ta:a.ta,Ig:!1});this.Mi=a.Mi;this.ln=a.ln;this.uq=a.uq;this.no=a.no;this.Ob=a.Ob};
e.Rg=function(){var a="en"==this.Mi.user.xe(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ob.rt());if(this.ln){var c=this.Ob.us(),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ob.format("homeDesignEverythingYouDesignWillAppearHerePersonal","\x3cstrong\x3e","\x3c/strong\x3e"));soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"yourFirstDesign",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a)||1===a||0===a,"showAlternativeText",
a,"boolean");a=!!a;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"everything",d,"soydata.SanitizedHtml");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"irresistibleFacebookPost",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCardListEmptyMessage homeDesignsEmptyContainer"\x3e\x3cdiv class\x3d"homeDesignsEmptyMessage"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e"+(a?'\x3cp class\x3d"homeDesignAlternativeText"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e":"")+"\x3c/div\x3e\x3c/div\x3e").toString()}else{var c=this.Ob.us(),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ob.format("homeDesignEverythingYouDesignWillAppearHereTeam","\x3cstrong\x3e","\x3c/strong\x3e",'\x3ca href\x3d"/shared-with-you"\x3e',"\x3c/a\x3e")),f=this.no,g=this.Ob.Eq();soy.asserts.assertType(goog.isString(c)||c instanceof
goog.soy.data.SanitizedContent,"yourFirstDesign",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"everything",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isBoolean(f)||1===f||0===f,"showImportButton",f,"boolean");f=!!f;soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"importPersonalDesigns",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a)||
1===a||0===a,"showAlternativeText",a,"boolean");a=!!a;soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"irresistibleFacebookPost",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCardListEmptyMessage homeDesignsEmptyContainer"\x3e\x3cdiv class\x3d"homeDesignsEmptyMessage homeDesignsTeamEmpty"\x3e\x3ch2\x3e'+soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e"+(f?'\x3cbutton class\x3d"button buttonBlock importifyButton"\x3e'+
soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(a?'\x3cp class\x3d"homeDesignAlternativeText"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e":"")+"\x3c/div\x3e\x3c/div\x3e").toString()}return b};e.Qi=function(){this.$(".importifyButton").length||this.kg().append($(this.lt({importPersonalDesigns:this.Ob.Eq()})))};function ct(a){a.$(".importify.importifyButton").remove()}e.Sg=function(){return _.template('\x3cp class\x3d"designCardListErrorMessage"\x3e\x3c%- error %\x3e\x3c/p\x3e')({error:this.Ob.error()})};
e.lt=_.template('\x3cbutton class\x3d"importify importifyButton"\x3e\x3cspan class\x3d"importifyButtonText"\x3e\x3c%- importPersonalDesigns %\x3e\x3c/span\x3e\x3c/button\x3e');var dt=bt;function et(a){Backbone.View.apply(this,arguments)}n(et,Backbone.View);et.prototype.jd=function(){};function Z(a){var b=this;Backbone.View.call(this);this.O=a.O;this.Qa=a.Qa||null;this.la=a.la;this.Va=a.Va;this.listenTo(this.la,{"import":function(){return b.trigger("import")}})}n(Z,Backbone.View);Z.prototype.remove=function(){this.Qa&&this.Qa.remove();this.la.remove();Backbone.View.prototype.remove.call(this)};Z.prototype.jd=function(){this.la.jd()};
Z.prototype.nc=function(){if("virtual-homedesigns"===this.O||"special-usecanva1"===this.O)return this.Va.format("homeTitleYourDesigns");if("virtual-shareddesigns"===this.O)return this.Va.format("homeTitleSharedWithYou");if("virtual-teamstream"===this.O)return this.Va.format("homeTitleTeamStream");if("virtual-trasheddesigns"===this.O)return this.Va.format("homeTitleTrashedDesigns");if("virtual-designstream"===this.O)return this.Va.pe();throw Error("Cannot match title for "+this.id);};
Z.prototype.ao=function(){return this.Qa?this.Qa.render().$el.add(this.la.render().$el):this.la.render().$el};function ft(a){a.Qa&&a.Qa.Qo&&a.Qa.Qo(!Jp(a.la))};function gt(a){this.F=a}gt.prototype.pf=function(a,b){var c=b.Wm(),d=b.Fc(),f=b.ea(),g=b.Um();a="/vfolders/"+a+b.ba()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(f?"\x26continuation\x3d"+encodeURIComponent(f):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return T(this.F,a).get(0).then(nh)};function ht(a){this.kc=a.kc||null;this.G=a.G||null;this.Nj=a.Nj||["SOCIAL","INGESTION_STATUS"];this.Pa=this.empty=!1;this.Zc={};this.filter=a.filter||null;this.Wh=!0;this.jf=a.jf;this.Md=!0;this.qc=a.qc;this.Ne=a.Ne;this.Aa=a.Aa||null;this.ld=a.ld}e=ht.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.fetch=function(){function a(){this.Pa=!1}!this.Pa&&this.Md&&(this.Pa=!0,this.pf().bind(this).finally(a).then(this.Bb).catch(this.Di))};
function it(a,b){return b.map(function(a){var b=this.Zc[a];if(!b)throw Error("could not resolve folder with id "+a);return b},a)}
e.pf=function(){var a=(new lh).md(this.kc).mj(this.Aa).Qc(this.Ne).jj(this.Nj);a.filter=this.filter;a=a.od(this.qc).nd(this.G);switch(this.jf){case 0:var b=this.ld,c=a.ia();return b.pf("brands/"+(c?encodeURIComponent(c):"~"),a);case 1:var b=this.ld,c=a.ia(),d=a.R();return b.pf("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),a);case 2:return b=this.ld,c=a.R(),b.pf("users/"+(c?encodeURIComponent(c):"~"),a);default:throw Error("unknown folder type "+this.jf);}};
e.Bb=function(a){var b=a.we(),c=a.Da()||[];this.Wh&&(this.empty=0===b.length,this.Wh=!1);c.forEach(function(a){this.Zc[a.g()]=a},this);this.G=a.ea();this.Md=!!this.G;this.trigger("fetch",b)};e.Di=function(a){Kr().log("Something went wrong when listing folders",{error:a});this.trigger("error")};e.isEmpty=function(){return this.empty};e.mf=function(){return this.Pa};function jt(a){Qr.call(this,{Jb:a.Jb,D:a.D,nb:a.nb,i:a.i,Cb:a.Cb,xb:a.Nl,j:a.j,ra:a.ra,l:a.l,qa:a.qa,Ga:a.Ga,va:a.va,Ba:a.Ba,N:a.N,gc:a.gc,view:a.view});this.w=a.w||null;this.Nl=a.Nl;this.Qi=a.Qi}jt.prototype=Object.create(Qr.prototype);e=jt.prototype;e.constructor=jt;
function kt(a,b){var c=new Ep({j:a.j,hb:lt.bind(null,a.i,b),D:a.D,Gc:Hp.bind(null,b),i:a.i,kb:!0,Rb:!0,Za:!a.ra.N()&&!vf(a.Na),Oc:!0,item:b,pa:a.pa});c.on("thumbnailClick",function(){var c=a.j.config.se.get("IMH2");if("X"===c||"X2"===c){a:{for(var c=b.mg(),f=0;f<c.length;f++)if(0===c[f].indexOf("docType.id")){c=c[f].substr(11);break a}c=""}a.j.track("homepage_in_design_card_clicked",{doctype_id:c,design:b.g()})}});return c}
function lt(a,b){return new no({Sh:b.getName()||ii(Dh(a)),La:Hh(a),jl:!0,ol:!0})}e.getSources=function(){return _.values(this.bf).map(function(a){var b=a.getItem();return new ua(a.view.wb()[0],b)})};e.hg=function(a){a=X(this,a.g());return $(this.Bm({thumbnailUrl:a.getItem().wb().Fa()}))[0]};
e.Bb=function(a){function b(a){if(a.Da()){var b=a.Da().filter(c,this);b&&(a=X(this,a.g()),b=it(this.Nl,b),a.Il(b))}}function c(a){try{return this.w.ba(a),!0}catch(b){return!1}}Hr.prototype.Bb.call(this,a);this.w&&a.forEach(b,this);this.Qi&&a.length?this.view.Qi():ct(this.view)};e.Qg=function(a){Hr.prototype.Qg.call(this,a);_.values(this.bf).length||ct(this.view)};e.If=function(a,b){X(this,a).rd(b)};e.Bm=_.template('\x3cdiv class\x3d"dragDesign" style\x3d"background-image:url(\'\x3c%- thumbnailUrl %\x3e\')"\x3e\x3c/div\x3e');function mt(a){ht.call(this,{kc:a.kc,jf:1,qc:a.qc,Ne:"/designs/sharedwith",Aa:a.Aa,ld:a.ld})}mt.prototype=Object.create(ht.prototype);mt.prototype.constructor=mt;mt.prototype.Bb=function(a){var b=this.Aa,c=this.kc,d=a.we();a=nh({continuation:a.ea(),items:d.filter(function(a){return a.ci().R()!==b||a.ci().ia()!==c}).map(function(a){a.socialMetadata=yg(a.socialMetadata);return a})});ht.prototype.Bb.call(this,a)};function nt(a){Hr.call(this,a)}nt.prototype=Object.create(Hr.prototype);nt.prototype.constructor=nt;function ot(a,b,c,d,f){var g=Vg(f).W||void 0;return new Ep({D:a,Gc:function(){switch(Vg(f).Nd){case "OWNER":case "EDITOR":return Hp(f);case "REMIXER":return{href:Pk(f.g(),"remix",void 0),Qn:!0};case "VIEWER":return Gp(f);default:throw Error("unknown role: "+Vg(f).Nd);}},oc:function(){var a=Za(Vg(f).Nd,"myRole must be present");return sf[a]<sf.EDITOR}(),i:c,W:g,$d:!!g,Za:!d,item:f,pa:b})}
nt.prototype.Bb=function(a){Hr.prototype.Bb.call(this,a)};function pt(a){Hr.call(this,a);this.nb=a.nb;this.Eb=a.Eb}n(pt,Hr);function qt(a,b,c,d,f,g,h){return new Ep({j:f,We:!0,hb:rt.bind(null,d,h),D:a,Gc:Hp.bind(null,h),i:d,Za:!g&&!vf(b),item:h,pa:c})}function rt(a,b){return new no({Sh:b.getName()||ii(Dh(a)),La:Hh(a),wo:!0,qo:!0})}e=pt.prototype;e.xg=function(a){this.listenTo(a,{restore:this.Nu.bind(this,a.getItem()),deleteForever:this.Ns.bind(this,a.getItem())})};
e.Nu=function(a){var b=X(this,a.g()),c=this.nb;U(c.F,c.path+"/"+encodeURIComponent(a.g())+"?untrash",null).return().then(this.lu.bind(this,a)).catch(this.mu.bind(this,a));b.ic(!0)};e.lu=function(a){X(this,a.g()).ic(!0).then(function(){this.Qg(a.g())}.bind(this))};e.mu=function(a){X(this,a.g()).ic(!1);window.alert(this.Eb.format("trashedDesignsRestoreDesignError"))};
e.Ns=function(a){var b=X(this,a.g());window.confirm(ui(this.Eb,a.getName()||ii(Dh(this.i))))&&(this.nb.delete(a.g()).then(this.Tt.bind(this,a)).catch(this.Ut.bind(this,a)),b.aj(!0))};e.Tt=function(a){X(this,a.g()).aj(!0).then(function(){this.Qg(a.g())}.bind(this))};e.Ut=function(a){X(this,a.g()).aj(!1);window.alert(this.Eb.format("trashedDesignsDeleteDesignError"))};function st(a){Hr.call(this,a)}st.prototype=Object.create(Hr.prototype);st.prototype.constructor=st;function tt(a,b,c,d,f){return new Ep({D:a,Gc:Gp.bind(null,f),i:c,W:Vg(f).W||void 0,Rb:!0,$d:!0,Za:!d,item:f,pa:b})}st.prototype.init=function(){Hr.prototype.init.call(this);this.listenTo(this.view,"thumbnailClick",function(){this.j.track("team_stream_click")});return this};st.prototype.xg=function(a){this.listenTo(a,"comment",function(){this.j.track("team_stream_comment")})};function ut(a){Z.call(this,a);this.la=a.la;this.Qa=a.Qa}n(ut,Z);ut.prototype.remove=function(){};ut.prototype.ao=function(){var a=this,b=this.Qa.render().$el,c=this.la.render().getElement();c.on("click",".designCardThumbnail, .designCard__commentsLink",function(b){if(!(b.metaKey||b.ctrlKey||1<b.which)){var c=$(b.target).closest("figure").data("id");a.trigger("designStreamClick",c);b.preventDefault()}});return b.add(c)};function vt(a){var b=this;this.O=a.O;this.ha=a.ha;this.Bq=a.Bq;this.view=a.view;this.ha&&this.listenTo(this.ha,{fetch:function(){return ft(b.view)},removeDesign:function(){return ft(b.view)}})}vt.prototype.init=function(){this.ha&&this.ha.init();return this};vt.prototype.remove=function(){this.stopListening()};vt.prototype.Xc=function(){this.ha&&this.ha.Xc()};Object.defineProperties(vt.prototype,{Eo:{configurable:!0,enumerable:!0,get:function(){return!1}}});e=vt.prototype;e.listenTo=Backbone.Events.listenTo;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function wt(a){Z.call(this,a);this.la=a.la;this.Qa=a.Qa}n(wt,Z);wt.prototype.nc=function(){return this.Va.custom(this.Qa.nc())};function xt(a){var b=this;vt.call(this,a);this.km=a.km;this.ha=a.ha;this.listenTo(this.ha,"fetch",function(){return b.trigger("fetch")});this.listenTo(this.view,"import",this.bv)}n(xt,vt);e=xt.prototype;e.getSources=function(){return this.ha.getSources()};e.hg=function(){return this.ha.hg.apply(this.ha,arguments)};e.qh=function(a){this.ha.qh(a)};e.If=function(a,b){this.ha.If(a,b)};e.bv=function(){var a=this,b=this.km();b.show();this.listenTo(b,{"import":function(b){return a.trigger("import",b)}})};
Object.defineProperties(xt.prototype,{Eo:{configurable:!0,enumerable:!0,get:function(){return!0}}});function yt(a){Z.call(this,a);this.la=a.la}n(yt,Z);yt.prototype.remove=function(){};yt.prototype.ao=function(){return $()};function zt(a){vt.call(this,a)}n(zt,vt);zt.prototype.init=function(){return this};zt.prototype.Xc=function(){};function At(a){var b={};Backbone.View.call(this,{el:a.el,events:(b["click li:not(.noTab):not(.on) a"]=function(a){var b=Bt(this);a=$(a.target).closest("li");this.select(b.index(a))},b)})}n(At,Backbone.View);function Ct(a){var b=a.Lp,c=new At({el:a.el});0>b.indexOf("#")?c.select(a.Sf||0):c.select(Math.max(0,Dt(c,b)));return c}function Bt(a){return a.$el.children("li:not(.noTab)")}
function Dt(a,b){a=Bt(a).find("a").toArray().map(function(a){return a.href});var c;a.some(function(a){var f=a.lastIndexOf(b);if(-1!==f&&f===a.length-b.length)return c=a,!0});return a.indexOf(c)}At.prototype.select=function(a){var b=Bt(this);b.removeClass("on");-1<a&&a<b.length&&(b.eq(a).addClass("on"),this.trigger("change",a))};At.prototype.remove=function(){this.$el.off("click")};function Et(a){Backbone.View.call(this,_.extend(a,{className:"tabPointer"}));this.Mp=-1}n(Et,Backbone.View);Et.prototype.initialize=function(a){this.Go=a.Go;this.ge=!!a.ge;this.style=a.style||"arrow";this.$el.addClass(this.style).toggleClass("tabPointerVertical",this.ge)};function Ft(a,b,c){c=void 0===c?!1:c;a=a.Go.children("li");c||(a=a.not(".noTab"));return a.eq(b)}function Gt(a,b){a.$el.toggleClass("tabPointerHidden",b);return a}
Et.prototype.update=function(a,b,c){c=void 0===c?!1:c;(b=0<=this.Mp&&(void 0===b?!0:b))||this.$el.addClass("doNotTransition");if("arrow"===this.style){c=Ft(this,a,c);var d=c.offsetParent().offset(),f=c.position(),g=c.width(),h=c.height(),k=this.$el.offsetParent().offset(),l=d.top-k.top,d=d.left-k.left;c.length&&(this.ge?this.$el.css("transform","translateY("+Math.round(f.top+l+(h-20)/2)+"px)"):this.$el.css("transform","translateX("+Math.round(f.left+d+(g-20)/2)+"px)"))}else if("rectangle"===this.style)c=
Ft(this,a,c),f=c.children("a"),g=parseInt(f.css("marginLeft"),10)?0:10,c.length&&(this.ge?(h=Math.round(f.position().top),this.$el.css("transform","translate3d( -"+g+"px, "+h+"px, 0px)"),this.$el.css("height",f.height())):(h=Math.round(f.position().left-g),this.$el.css("transform","translateX("+h+"px)"),this.$el.css("height",f.height()-20)),this.$el.css("width",c.width()+g));else throw Error("unrecognised TabPointerStyle");b||(bs(this.$el),this.$el.removeClass("doNotTransition"));this.Mp=a};function Ht(a){this.$e=-1;this.ud=a.ud;this.l=a.l;this.zo="number"===typeof a.zo?a.zo:-1;this.Xi=a.Xi||null;this.Iq=!1;this.pk=null;this.ge=!!a.ge}e=Ht.prototype;e.init=function(){this.Iq=!0;this.ge&&this.ud.addClass("panelContainer--vertical");var a;if(this.Xi){a=Bt(this.Xi);var b=a.filter(".on");a=a.index(b)}else a=-1;a=0<=a?a:this.zo;0<=a&&this.nl(a);this.Xi&&this.listenTo(this.Xi,"change",this.nl);return this};e.remove=function(){this.stopListening();this.trigger("remove")};
e.nl=function(a){var b=this;L(this.Iq,"PanelPresenter.init() must be called before showPanel()");var c=It(this);if(!(0>a||a>=c.length||a===this.$e)){this.pk&&this.l.clearTimeout(this.pk);if(c.hasClass("panelContainer__panel--active")){var d=c.filter(".panelContainer__panel--active"),f=c.eq(a),g=d.outerHeight(),h=f.outerHeight();d.removeClass("panelContainer__panel--active");f.addClass("panelContainer__panel--active");this.ud.addClass("panelContainer--transitioning");this.ud.css("height",Math.max(h,
g));this.pk=this.l.setTimeout(function(){return b.ud.css("height","").removeClass("panelContainer--transitioning")},500)}else c.eq(a).addClass("panelContainer__panel--active").addClass("doNotTransition"),this.pk=this.l.setTimeout(function(){return c.eq(a).removeClass("doNotTransition")},500);this.$e=a;this.trigger("change",Jt(this),a)}};function Jt(a){return It(a).eq(a.$e)}
function Kt(a){var b=It(a),c=b.eq(0),d=b.eq(1),f=$("\x3cdiv\x3e");c.before(f);d.before(c);f.replaceWith(d);c.hasClass("panelContainer__panel--active")?a.$e=1:d.hasClass("panelContainer__panel--active")&&(a.$e=0);bs(b)}function It(a){return a.ud.children(".panelContainer__panel")}e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;function Lt(a){this.rc=a.rc;this.w=a.w;this.qe=a.qe;this.tc=a.tc;this.Cc=a.Cc;this.Je=a.Je;this.wm=a.wm;this.vc=a.vc;this.tabIndex=null;this.ie=-1;this.O=null;this.window=a.window;this.history=a.history;this.tg=a.tg;this.$m=a.$m;this.Kp="/";this.listenTo(this.w,{"fetch:success":this.Gl,"create:success":this.Gl,"change:success":this.Gl,"delete:success":this.du});this.listenTo(this.qe,"clickCollapse",this.jt)}e=Lt.prototype;
e.init=function(){var a=this;$(this.window).on("click.homeRouter",function(b){if(b.target.getAttribute("href")&&!b.ctrlKey&&!b.metaKey){var c=b.target.getAttribute("href"),d=Mt(c);d&&(b.preventDefault(),d!==a.O&&(a.history.pushState(null,"",c),a.route(d,c)))}});$(this.window).on("popstate.homeRouter",function(){return Nt(a)});Nt(this)};e.remove=function(){$(this.window).off("click.homeRouter");$(this.window).off("popstate.homeRouter");this.stopListening()};
function Nt(a){var b=a.window.location.hash;if(vl(b.substr(1)))a.window.history.replaceState(null,"","/");else{var c={"#your-designs":"/","#shared-with-you":"/shared-with-you","#team-stream":"/team-stream","#design-stream":"/design-stream","#create-a-design":"/create-a-design","#trashed-designs":"/trash"};c[b]&&a.window.history.replaceState(null,"",c[b])}b=a.window.location.pathname;(c=Mt(b))&&a.route(c,b)}
e.route=function(a,b){if(!this.O||a!==this.O){var c=Ot(this,b,a);if(-1===c.J)return this.tg&&"special-usecanva1"!==this.O?(this.route("virtual-homedesigns","/"),a=$(".minimalHomepage2").contents().find(".homepage2search input").focus()):(Pt(this,"special-createadesign",this.O),this.tc.select(-1),this.Cc&&Il(this.Cc),this.Je.select(-1),a=this.tabIndex?this.tabIndex.wj(Bt(this.tc).length,this.w?this.w.Da().length:0):-1,Gt(this.vc,!0),this.tabIndex=null,this.O="special-createadesign",this.trigger("route",
this.O,-1,a),a=void 0),a;var d=c.wj(Bt(this.tc).length,this.w?this.w.Da().length:0),f=this.tabIndex?this.tabIndex.wj(Bt(this.tc).length,this.w?this.w.Da().length:0):Number.MAX_VALUE;d<f?(0===this.rc.$e&&Kt(this.rc),this.rc.nl(0)):(1===this.rc.$e&&Kt(this.rc),this.rc.nl(1));0===c.J?(this.tc.select(c.Ue),this.Cc&&Il(this.Cc),this.Je.select(-1)):1===c.J?(this.tc.select(-1),this.Cc.select(this.w.Da()[c.Ue]),this.Je.select(-1)):2===c.J?(this.tc.select(-1),this.Cc&&Il(this.Cc),this.Je.select(c.Ue)):(this.tc.select(-1),
this.Cc&&Il(this.Cc),this.Je.select(-1));this.wm.toggleClass("on",-2===c.J);Gt(this.vc,!1).update(d);Pt(this,a,this.O);this.tabIndex=c;this.ie=d;this.O=a;this.Kp=b;this.tg&&(b="virtual-homedesigns"===a,$(".homepageContainer").toggleClass("homepageContainer--h2visible",b),b=this.$m||!b,$("#homeHelpMenuButton").toggleClass("helpMenuButton--hidden",!b));this.trigger("route",a,d,f)}};
function Pt(a,b,c){var d="virtual-homedesigns"===c,f="special-createadesign"===c,g="special-usecanva1"===c,h="virtual-homedesigns"===b,k="special-createadesign"===b;b="special-usecanva1"===b;var l=a.qe;null!==c||h||k||b?d&&b?l.show():g&&h?Gs(l,Y.Hf):(d||g)&&k?Ds(l):!d&&!g||k?f&&(h||b)?ws(l):f?l.hide().then(function(){l.$el.removeClass("expanded");var a=l.Rc.$el.children(".docTypeItemDisappearing");a.addClass("doNotTransition").removeClass("docTypeItemDisappearing");bs(a);a.removeClass("doNotTransition");
l.il(!1)}):k?zs(l):h?a.tg?Gs(l,Y.Hf):l.show():b&&l.show():l.hide():l.$el.hasClass("hidden")||(l.trigger("hiding"),l.$el.addClass("hidden doNotTransition").height(Y.bp),bs(l.$el),l.$el.removeClass("doNotTransition"))}e.Gl=function(){if(this.O){this.tabIndex=Ot(this,this.window.location.pathname,this.O);var a=this.ie;this.ie=this.tabIndex.wj(Bt(this.tc).length,this.w?this.w.Da().length:0);this.vc.update(this.ie,!1);a!==this.ie&&this.trigger("tabListsModified")}};
e.du=function(a){L(!!this.O,"tabId must be present before handling folder deletes");if(1===this.tabIndex.J&&this.O.substr(7)===a.g()){if(0<this.tabIndex.Ue)a=this.w.Da()[this.tabIndex.Ue-1];else if(1<=this.w.Da().length)a=this.w.Da()[0];else return this.history.pushState(null,"","/"),this.route("virtual-homedesigns","/");a="/folder/"+a.g();this.history.pushState(null,"",a);this.route("folder-"+a.substr(8),a)}else this.Gl()};
function Ot(a,b,c){if("special-createadesign"===c)return new Qt(-1,0);if("virtual-designstream"===c)return new Qt(-2,0);if(a.tg&&"virtual-homedesigns"===c&&"special-createadesign"===Mt(b))return new Qt(0,0);var d=Dt(a.tc,b);if(-1!==d)return new Qt(0,d);if(a.w&&(d=Rt(a,c),-1!==d))return new Qt(1,d);a=Dt(a.Je,b);if(-1!==a)return new Qt(2,a);throw Error("Cannot calculate tab index for",b,c);}function Rt(a,b){return a.w.Da().map(function(a){return a.g()}).indexOf(b.substr(7))}
function Mt(a){return"/"===a?"virtual-homedesigns":"/shared-with-you"===a?"virtual-shareddesigns":"/team-stream"===a?"virtual-teamstream":"/trash"===a?"virtual-trasheddesigns":"/folder/"===a.substr(0,8)?"folder-"+a.substr(8):"/design-stream"===a?"virtual-designstream":"/create-a-design"===a?"special-createadesign":"/1"===a?"special-usecanva1":null}e.jt=function(){this.history.pushState(null,"",this.Kp);Nt(this)};Object.defineProperties(Lt.prototype,{Qf:{configurable:!0,enumerable:!0,get:function(){return this.O}}});
function Qt(a,b){this.J=a;this.Ue=b}Qt.prototype.wj=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];if(0>this.J)return-1;if(0===this.J)return this.Ue;if(b.length<this.J)throw Error("Insufficient number of group child counts passed, required: "+this.J);return b.slice(0,this.J).reduce(function(a,b){return a+b},0)+this.Ue};e=Lt.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;
e.on=Backbone.Events.on;function St(a,b){this.l=a;this.Sr=b||null;this.Pl=this.al=null}St.prototype.read=function(a){this.al||(Tt++,Ut.splice(Tt,0,this));this.al=a;if(Vt==Wt||Vt==Xt)this.l.requestAnimationFrame(Yt),Vt=Zt;return this};St.prototype.write=function(a){this.Pl||($t++,au.splice($t,0,this));this.Pl=a;Vt==Wt&&(this.l.requestAnimationFrame(Yt),Vt=Zt);return this};var Wt=0,Zt=1,Xt=3,Vt=Wt,Ut=[],au=[],Tt=0,$t=0;
function Yt(){var a,b;Vt=2;$t=-1;for(a=0;a<Ut.length;a++){Tt=a;b=Ut[a];var c=b.al;b.al=null;c&&c.call(b.Sr,b)}Ut.length=0;Tt=-1;Vt=Xt;for(a=0;a<au.length;a++)$t=a,b=au[a],c=b.Pl,b.Pl=null,c&&c.call(b.Sr,b);au.length=0;$t=-1;Vt!=Zt&&(Vt=Wt)};function bu(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.Jg=null;this.fi={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.Wp=new c(function(a){a.forEach(function(a){b.handle(a)})})}bu.prototype.normalize=function(a){return a.toLowerCase()};bu.prototype.on=function(a,b){a=this.normalize(a);this.fi.hasOwnProperty(a)||(this.fi[a]=[]);this.fi[a].push(b);return this};
bu.prototype.handle=function(a){function b(b){var f=c.normalize(b),g=new jQuery.Event(b);c.Jg&&(g.target=a.target,g.currentTarget=c.Jg.get(0),c.fi.hasOwnProperty(f)&&c.fi[f].forEach(function(a){a.call(c.Jg,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
bu.prototype.observe=function(a){var b=$(a).get(0);if(this.Jg)throw Error("Already observing an element");b&&(this.Wp.observe(b,this.config),this.Jg=$(a))};function cu(a,b){this.cq=this.bq=this.aq=this.$p=this.sh=this.ng=this.co=this.eo=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.Jl=this.fk=null;this.$r=!!b;this.Uo=new St($g,this);this.Vo=new St($g,this);this.tl=new bu({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.oa=a;this.Hc=$("\x3cdiv\x3e").addClass("scrollThumb");this.Pc=$("\x3cdiv\x3e").addClass("scrollThumb");this.Ee=this.Ee.bind(this);this.Rk=this.Rk.bind(this);this.Kk=
this.Kk.bind(this);this.Lk=this.Lk.bind(this);this.Ik=this.Ik.bind(this);this.Jk=this.Jk.bind(this);this.Bi=this.Bi.bind(this);this.Ci=this.Ci.bind(this);this.Gk=this.Gk.bind(this);this.Hk=this.Hk.bind(this)}e=cu.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;
e.render=function(){this.oa.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Hc).insertAfter(this.oa);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Pc).insertAfter(this.oa);du(this);this.oa.on("scroll",this.Rk);this.oa.on("transitionend",this.Ee);this.oa.on("mouseenter",this.Kk);this.oa.on("mouseleave",this.Lk);this.Hc.on("mousedown",this.Ik);this.Pc.on("mousedown",this.Jk);this.tl.on("attrModified",this.Ee);this.tl.on("subtreeModified",
this.Ee);this.tl.observe(this.oa);$("\x3cspan\x3e").appendTo(this.oa).remove();$(window).on("resize",this.Ee);return this};e.remove=function(){var a=this.tl;a.Wp.disconnect();a.Jg=null;this.oa.off("scroll",this.Rk);this.oa.off("transitionend",this.Ee);this.oa.off("mouseenter",this.Kk);this.oa.off("mouseleave",this.Lk);this.Hc.off("mousedown",this.Ik);this.Pc.off("mousedown",this.Jk);$(window).off("resize",this.Ee);return this};
function du(a){(new St($g,a)).read(function(a){var c=this.oa.prop("clientWidth"),d=this.oa.prop("offsetWidth"),f=this.oa.prop("clientHeight"),g=this.oa.prop("offsetHeight");a.write(function(){d>c&&this.oa.css("margin-right",c-d);g>f&&this.oa.css("margin-bottom",f-g);this.jd()})})}e.jd=function(){this.Uo.read(this.es)};
e.es=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.ng,d=this.sh;this.scrollWidth=this.oa.prop("scrollWidth");this.scrollHeight=this.oa.prop("scrollHeight");this.eo=this.oa.prop("clientWidth");this.co=this.oa.prop("clientHeight");this.ng=this.Hc.parent().outerWidth();this.sh=this.Pc.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.ng||d!==this.sh)this.scrollTop=this.scrollLeft=-1,this.Uo.write(this.Lu),this.Vo.read(this.hs)};
e.Lu=function(){var a=Math.round(this.sh*this.co/this.scrollHeight);this.Hc.css("width",Math.round(this.ng*this.eo/this.scrollWidth)+"px");this.Pc.css("height",a+"px");var a=this.eo<this.scrollWidth,b=this.co<this.scrollHeight,c=a!==this.fk,d=b!==this.Jl;c&&(this.fk=a,this.Hc.toggleClass("disabled",!a));d&&(this.Jl=b,this.Pc.toggleClass("disabled",!b));this.$r&&(c||d)&&this.trigger("change:scrollability",this.fk,this.Jl)};
e.hs=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.oa.scrollLeft();this.scrollTop=this.oa.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.Vo.write(this.Mu),this.$r&&(this.fk||this.Jl)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};e.Mu=function(){var a=Math.round(this.sh*this.scrollTop/this.scrollHeight);this.Hc.css("transform","translateX("+Math.round(this.ng*this.scrollLeft/this.scrollWidth)+"px)");this.Pc.css("transform","translateY("+a+"px)")};
e.Ee=function(){this.Uo.read(this.es)};e.Rk=function(){this.Vo.read(this.hs)};e.Kk=function(){this.Hc.addClass("ready");this.Pc.addClass("ready")};e.Lk=function(){this.Hc.removeClass("ready");this.Pc.removeClass("ready")};e.Ik=function(a){0===a.button&&(this.$p=a.screenX,this.bq=this.scrollLeft,this.Hc.addClass("active"),$(document).on("mousemove",this.Bi).on("mouseup",this.Gk),a.preventDefault(),a.stopPropagation())};
e.Bi=function(a){this.oa.scrollLeft(this.bq+Math.round((a.screenX-this.$p)*this.scrollWidth/this.ng))};e.Gk=function(a){this.Bi(a);this.Hc.removeClass("active");$(document).off("mousemove",this.Bi).off("mouseup",this.Gk)};e.Jk=function(a){0===a.button&&(this.aq=a.screenY,this.cq=this.scrollTop,this.Pc.addClass("active"),$(document).on("mousemove",this.Ci).on("mouseup",this.Hk),a.preventDefault(),a.stopPropagation())};
e.Ci=function(a){this.oa.scrollTop(this.cq+Math.round((a.screenY-this.aq)*this.scrollHeight/this.sh))};e.Hk=function(a){this.Ci(a);this.Pc.removeClass("active");$(document).off("mousemove",this.Ci).off("mouseup",this.Hk)};function eu(){}eu=Backbone.View.extend({className:"sidebarViewportContainer"});e=eu.prototype;e.initialize=function(a){this.fo=new cu(this.$(".sidebarViewport"),!0);this.listenTo(this.fo,{"change:scrollability":this.Ft,scroll:this.Qk});this.vc=a.vc||null;this.Tm=a.Tm;this.fo.render()};e.remove=function(){this.fo.remove();Backbone.View.prototype.remove.call(this)};e.Ft=function(a,b){this.$el.toggleClass("sidebarScrollable",b);fu(this)};
e.Qk=function(){var a=this.$(".sidebarViewport").find("li.on,li.selected:not(.hidden)"),b=this.Tm();if(0<a.length){var c=$(document.body).scrollTop()||$(document).scrollTop(),d=this.$(".sidebarViewport"),f=d.offset().top,c=d.scrollTop()-c,g=d.height(),h=a.offset().top-d.offset().top,d=a.height();a.hasClass("sidebarItemSticky")?(h=parseInt(a.data("nonStickyItemOffsetTop"),10),h=isNaN(h)?a.get(0).offsetTop:h,(a.hasClass("sidebarItemStickyTop")?c+f<h:a.hasClass("sidebarItemStickyBottom")&&c+f+g>=h+d)&&
gu(this,a)):0>=h?(c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",a.offset().top+this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyTop").css("top",f-c),a.parent("menu").removeClass("sidebarMenuStickyBottom").addClass("sidebarMenuStickyTop"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyTop")):h+d>g&&(f=$(window).height()-(f+g),c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",
a.offset().top+this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyBottom").css("bottom",f+c),a.parent("menu").removeClass("sidebarMenuStickyTop").addClass("sidebarMenuStickyBottom"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyBottom"));this.vc&&this.vc.update(b,!1)}fu(this)};
function fu(a){var b=a.$(".sidebarViewport"),c=parseInt(b.scrollTop(),10),d=b.height();a.$el.toggleClass("sidebarScrollableTop",0<c).toggleClass("sidebarScrollableBottom",c+d<b.prop("scrollHeight"))}
e.dr=function(a,b,c){a=this.$(".sidebarMenu").children("li:not(.noTab)");var d=a.eq(c);a=a.eq(b);-1!==c&&gu(this,d);if(-1!==b&&0!==a.length&&!a.hasClass("sidebarItemSticky")){b=this.$(".sidebarViewport");c=parseInt(b.scrollTop(),10);var d=b.height(),f=a.offset().top-b.offset().top;a=a.height();0>=f?b.scrollTop(c+f):f+a>d&&b.scrollTop(c+f+a-d)}};
function gu(a,b){a.$el.removeClass("sidebarItemListSticky sidebarItemListStickyTop sidebarItemListStickyBottom");a.$(".sidebarMenuStickyTop").removeClass("sidebarMenuStickyTop");a.$(".sidebarMenuStickyBottom").removeClass("sidebarMenuStickyBottom");b.removeData("nonStickyItemOffsetTop").removeClass("sidebarItemSticky sidebarItemStickyTop sidebarItemStickyBottom").css("top","").css("bottom","")}var hu=eu;function iu(a){oh.call(this,a)}n(iu,oh);function ju(a){qh.call(this,a);this.Aa=null}n(ju,qh);e=ju.prototype;e.track=function(a,b){window.console.log("analytics:track",this.Aa,a,rh(this,b));return P.resolve()};e.identify=function(a,b,c){this.Aa=a;th(a,b)&&(xh(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};e.alias=function(a){window.console.log("analytics:alias",this.Aa,a);this.Aa=a};e.set=function(a){window.console.log("analytics:set",this.Aa,a);return P.resolve()};
e.union=function(a){window.console.log("analytics:union",this.Aa,a)};function ku(a){oh.call(this,a);this.xl=a.xl}n(ku,oh);function lu(a,b){qh.call(this,a);this.l=b;this.readyState="PENDING";this.Gu=3E4;this.sg=this.ik=null}n(lu,qh);
function mu(a){var b=nu(),c=new lu(a,$g);ou(c).then(function(){for(c.ready=!0;c.Mk&&0<c.Mk.length;)c.Mk.shift()();c.Mk=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,ou(c).then(function(){var b={path:location.pathname,url:location.href};nu().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();uh(N(N(new vh,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60))}).catch(function(){}),b.load(a.xl));return c}function nu(){L("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}e=lu.prototype;e.track=function(a,b){var c=this;return ou(this).then(function(d){return new P(function(f){d.track(a,rh(c,b),{integrations:{Leanplum:!1}},f)})}).catch(function(){})};
e.identify=function(a,b,c){var d=this;return ou(this).then(function(f){if(!th(a,b))return d.ik||P.resolve();d.ik=new P(function(g){xh(a,b);f.identify(a,d.yl(b),c,function(){d.ik=null;g()})});return d.ik}).catch(function(){})};e.alias=function(a){ou(this).then(function(b){return b.alias(a)}).catch(function(){})};e.set=function(a){var b=this;return ou(this).then(function(c){return new P(function(d){return c.identify(b.yl(a),d)})}).catch(function(){})};e.union=function(){};
e.yl=function(a){var b={};if(a&&wh(a)){a=m(a);for(var c=a.next();!c.done;c=a.next()){var d=m(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function ou(a){var b=nu();if(null!==a.sg)return a.sg;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.sg=new P(function(c,d){var f=a.l.setTimeout(function(){a.readyState="FAILURE";a.sg=null;d(Error("Segment initialization failed"))},a.Gu);b.ready(function(){"FAILURE"!==a.readyState&&(a.l.clearTimeout(f),a.readyState="SUCCESS",a.sg=null,c(nu()))})});return a.sg};function pu(a){oh.call(this,a);this.url=a.url}n(pu,oh);function qu(a,b,c){qh.call(this,a);this.url=a.url;this.l=b;this.Tq=c}n(qu,qh);
function ru(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});return new qu(a,$g,b)}e=qu.prototype;
e.track=function(a,b){var c=this;return this.Tq.then(function(d){return d.track(a,rh(c,b))})};e.identify=function(a,b){var c=this;return this.Tq.then(function(d){d.login(a);b&&d.setProfile(c.yl(b))})};e.alias=function(){};e.set=function(){};e.union=function(){};e.yl=function(a){var b={};if(a&&wh(a)){a=m(a);for(var c=a.next();!c.done;c=a.next()){var d=m(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function su(a,b){nu();if(a instanceof iu)b=new ju(a);else if(a instanceof ku)b=mu(a);else if(a instanceof pu)b=ru(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function tu(){var a=q(window.analyticsConfig),b=v("impl",a),c=null;try{c=Cm()}catch(d){}switch(b){case "console":return su(new iu(ph(a)),c);case "segment":return b=ph(a),a=new ku({ff:b.ff,se:b.se,user:b.user,o:b.o,sc:b.sc,td:b.td,wc:b.wc,xl:v("segmentWriteKey",a),ya:b.ya,fe:b.fe}),su(a,c);case "sensorsdata":return b=ph(a),a=new pu({ff:b.ff,se:b.se,user:b.user,o:b.o,sc:b.sc,td:b.td,wc:b.wc,url:v("sensorsDataUrl",a),ya:b.ya,fe:b.fe}),su(a,c);default:throw Error('No such analytics type: "'+b+'"');}}
;function uu(a){this.Vm=a.Vm;this.ck=void 0;this.Y=a.Y;this.view=a.view;this.Om=a.Om||null;this.listenTo(this.view,{clickCustom:this.Qt,clickRetry:this.nq,expanding:this.nq,submitCustomDimensions:this.Rt})}e=uu.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.stopListening=Backbone.Events.stopListening;
e.Rt=function(a){function b(a){return c<=a&&a<=d}var c=ps(qp.Sl,"PIXELS",a.Df),d=ps(qp.Rl,"PIXELS",a.Df),f;switch(a.Df){case "PIXELS":f="px";break;case "INCHES":f="in";break;case "CENTIMETERS":f="cm";break;case "MILLIMETERS":f="mm";break;default:throw Error("unknown unit: "+a.Df);}b(a.width)&&b(a.height)?(window.open(Sk({width:a.width,height:a.height,Df:f,Wd:this.Om}),String(Date.now())),Hs(this.view)):(window.alert(this.Y.format("docTypeSelectorOversizeCustomDimensions",Math.ceil(1E3*c)/1E3,Math.floor(1E3*
d)/1E3)),b(a.width)?this.view.Km():this.view.Zj())};e.Qt=function(){this.view.wd.$el.hasClass("docTypeCustomDimensionsShown")?Hs(this.view):Js(this.view)};e.nq=function(){this.ck||(this.ck=this.Vm());this.ck.bind(this).then(function(a){Is(this.view,a)}).then(function(){2===this.view.state&&this.view.ro()}).catch(function(){Ks(this.view);this.ck=void 0})};e.remove=function(){this.stopListening();this.view.remove()};function vu(a){this.kv=a.slice(0)}vu.prototype.di=function(){return this.kv.map(function(a){return a.di()}).reduce(function(a,b){return a.concat(b)},[])};function wu(a){var b=this;Backbone.View.call(this);this.qe=a.qe;this.rc=a.rc;this.Cb=a.Cb;this.pm=a.pm;this.l=a.l;this.window=a.window;this.qd=null;this.er=_.debounce(function(){b.qd&&b.qd.jd();b.trigger("resize")},200);this.listenTo(this.Cb,"scroll",function(){return b.trigger("scroll")});this.listenTo(this.qe,{expanded:function(){a.Tk.addClass("docTypeSelectorExpanded");a.Tk.addClass("docTypeSelectorExpandedOnce");a.lo(!1)},collapsing:function(){a.Tk.removeClass("docTypeSelectorExpanded")},showing:function(){a.lo(!1)},
hiding:function(){a.Tk.removeClass("docTypeSelectorExpanded");a.lo(!0)}})}n(wu,Backbone.View);wu.prototype.init=function(){$(this.window).on("resize",this.er)};wu.prototype.remove=function(){$(this.window).off("resize",this.er);Backbone.View.prototype.remove.call(this)};function xu(a,b){if(a.qd){var c=a.qd;a.l.setTimeout(function(){return c.remove()},500)}a.qd=a.pm(b);a.qd.ao().appendTo(Jt(a.rc).empty());return a.qd};function yu(a){this.j=a.j;this.Ub=null;this.lm=a.lm;this.om=a.om;this.ka=a.ka||null;this.D=a.D;this.document=a.document;this.Sj=null;this.ra=a.ra;this.ye=a.ye;this.view=a.view;this.listenTo(this.ye,"route",this.pu);this.listenTo(this.view,{resize:this.Xc,scroll:this.Xc})}e=yu.prototype;
e.init=function(){var a=null,b=uh,c;c=this.j;var d=this.D,d=N(N(N(N(N(N(new vh,"id",d.g()),"username",d.jb()),"personalBrand",d.kf()),"displayName",d.ua()),"largeAvatarUrl",d.ak("200")),"roles",d.jg()&&d.jg().join(", "));c=N(N(N(N(d,"current_subscription",c.config.wc),"locale",c.config.fe),"user_cohort",c.config.td),"country_code",c.config.ya);b=b(c);this.ka&&"0"==this.ka.getItem("onboardingPhase")?this.ra.Z.get(gm)&&(a="appcues_homepage_onboarding_1",this.ka.setItem("onboardingPhase","1")):this.ka&&
"2"==this.ka.getItem("onboardingPhase")&&(this.ka.removeItem("onboardingPhase"),a="complete");a&&b.set("onboarding",a);this.j.identify(this.D.g(),b);a?this.j.track("homepage_visit_logged_in",{onboarding:a}):this.j.track("homepage_visit_logged_in")};e.remove=function(){this.stopListening()};e.Xc=function(){this.Ub&&this.Ub.Xc()};
e.pu=function(a){"virtual-homedesigns"===a?this.j.track("your_designs_visit"):"virtual-shareddesigns"===a?this.j.track("shared_designs_visit"):"virtual-teamstream"===a?this.j.track("team_stream_visit"):"virtual-trasheddesigns"===a?this.j.track("trash_visit"):"virtual-designstream"===a?this.j.track("design_stream_visit"):vl(a)&&this.j.track("design_folder_visit");zu(this,a)};
function zu(a,b){a.Ub&&(a.stopListening(a.Ub),a.Ub.remove());if("special-createadesign"===b)a=a.view,a.qd&&a.qd.remove();else{var c=xu(a.view,b);a.Ub=a.om(b,c);a.document.title=c.nc();a.Ub.init();a.Ub.Xc();a.listenTo(a.Ub,"import",a.cv);a.Sj&&a.Sj.stop();a.Ub.Eo&&(a.Sj=a.lm(a.Ub.O,a.Ub),a.Sj.start())}}e.cv=function(a){0<a.length&&"virtual-homedesigns"===this.Ub.O&&zu(this,"virtual-homedesigns")};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.off=Backbone.Events.off;e.on=Backbone.Events.on;function Au(a){vt.call(this,a);this.ha=a.ha;this.pe=a.pe;this.listenTo(this.view,"designStreamClick",a.gc)}n(Au,vt);Au.prototype.init=function(){return this};Au.prototype.Xc=function(){this.ha.fetch()};function Bu(a){vt.call(this,a);this.ha=a.ha}n(Bu,vt);Bu.prototype.getSources=function(){return this.ha.getSources()};Bu.prototype.hg=function(){return this.ha.hg.apply(this.ha,arguments)};Bu.prototype.qh=function(a){this.ha.qh(a)};Bu.prototype.If=function(a,b){this.ha.If(a,b)};Object.defineProperties(Bu.prototype,{Eo:{configurable:!0,enumerable:!0,get:function(){return!0}}});function Cu(a){this.Yq=a.Yq}function Du(a){this.Yq="TIMELINE";this.name=a.name;this.events=a.events||new Map}n(Du,Cu);Du.prototype.getName=function(){return this.name};function Eu(a){var b=E("name",a.name);a=Sa(Ta,Ua,"events",a.events);return{metricType:"TIMELINE",name:b,events:a}}function Fu(){}function Gu(){return new Fu};function Hu(a){this.F=a;this.url="/metrics"}function Iu(a,b){return U(a.F,a.url,Eu(b)).get(0).then(q).then(Gu)};function Ju(a,b,c,d){this.name=a;this.cm=b;this.zt=c;this.startTime=d;this.events=new Map}Ju.prototype.xc=function(a){this.events.set(a,this.cm.now()-this.startTime)};Ju.prototype.done=function(){this.events.size&&Ku(this.zt,this.name,this.events)};function Lu(a,b){this.Wu=a;this.cm=Yg;this.zu=b}
function Mu(a){var b=0;if(window.performance){if(window.performance.timeOrigin&&window.performance.getEntriesByType){var c=window.performance.getEntriesByType("navigation")[0];c&&(b=window.performance.timeOrigin+c.responseStart)}!b&&window.performance.timing&&(b=window.performance.timing.responseStart)}b||(b=window.cstart);if(!b)throw Error("cstart undefined");return new Lu(a,b)}function Nu(a){return new Ju("canva.home.appcues.load",a.cm,a,a.zu)}
function Ku(a,b,c){b=new Du({name:b,events:c});Iu(a.Wu,b).catch(function(){})};function Ou(){}Ou=nm.extend();Ou.prototype.initialize=function(a){nm.prototype.initialize.call(this,_.extend(a,{l:$g}));this.Rj=a.Rj};Ou.prototype.render=function(){nm.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.Rj?this.Rj:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var Pu=Ou;function Qu(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(Qu.pl="FeedbackTemplates.successIcon");
function Ru(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(Ru.pl="FeedbackTemplates.warningIcon");function Su(a,b){this.$el=a;this.eb=b}n(Su,hm);
function Tu(a,b){K(!(a.global^!!b),"$globalContainer is required for global alerts");var c=a.type.Cq(),d=a.type.H,f=a.u,g=a.global,h=a.message,k=a.Dr,l=a.small,r=a.title;a=a.ss;soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"message",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"alertClass",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof
soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"iconHtml",c,"soydata.SanitizedHtml");soy.asserts.assertType(null==k||goog.isBoolean(k)||1===k||0===k,"showDismiss",k,"boolean|null|undefined");soy.asserts.assertType(null==r||r instanceof soydata.SanitizedHtml||r instanceof soydata.UnsanitizedText||goog.isString(r),"title",r,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==f||f instanceof goog.soy.data.SanitizedContent||goog.isString(f),"classes",
f,"null|string|undefined");soy.asserts.assertType(null==g||goog.isBoolean(g)||1===g||0===g,"global",g,"boolean|null|undefined");soy.asserts.assertType(null==a||goog.isBoolean(a)||1===a||0===a,"withIcon",a,"boolean|null|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"small",l,"boolean|null|undefined");a=null==a?!0:a;c=""+('\x3cdiv class\x3d"feedbackAlert '+soy.$$escapeHtmlAttribute(d)+(g?" feedbackAlert--global":"")+(a?" feedbackAlert--withIcon":"")+(k?" feedbackAlert--dismissible":
"")+(l?" feedbackAlert--small":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(a?soy.$$escapeHtml(c):"")+"\x3c/div\x3e"+(r?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(r)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(h)+"\x3c/div\x3e\x3c/div\x3e"+(k?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+"\x3c/div\x3e");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c);return Uu($(c.toString()),b)}function Uu(a,b){K(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');K(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new Su(a,b)}
Su.prototype.cc=function(){this.eb&&(L(!this.eb.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.eb.data("gcpt",this.eb.get(0).style["padding-top"]),this.eb.css("padding-top",parseFloat(this.eb.css("padding-top"))+this.$el.outerHeight()),this.eb.addClass("globalFeedbackAlertContainer"))};
Su.prototype.remove=function(){if(this.eb){this.eb.removeClass("globalFeedbackAlertContainer");this.eb.css("padding-top","");var a=parseFloat(this.eb.data("gcpt"));a&&this.eb.css("padding-top",a);this.eb.removeData("gcpt")}hm.prototype.remove.call(this)};var Vu={H:"feedbackAlert--success",Cq:Qu},Wu={H:"feedbackAlert--warning",Cq:Ru};function Xu(a,b){var c=this;V.call(this,a);this.eb=b;this.$el.on("click",".feedbackAlert__closeButton",function(){return c.cn()})}n(Xu,V);function Yu(a){a=Tu({type:a.type,title:a.title,message:a.message,u:a.u,ss:a.ss,Dr:!0,small:a.small,global:a.global},void 0).$el;return new Xu(a,void 0)}Xu.prototype.cn=function(){function a(c){c.target===b.$el.get(0)&&(b.$el.off("transitionend",a),b.remove())}var b=this;this.$el.on("transitionend",a);this.$el.addClass("feedbackAlert--hidden")};
Xu.prototype.$h=function(){return Uu(this.$el,this.eb)};Xu.prototype.cc=function(){this.$h().cc()};Xu.prototype.remove=function(){this.$h().remove();V.prototype.remove.call(this)};function Zu(a){this.Li=a.Li;this.ka=a.ka;this.ke=a.ke;this.pj=a.pj};var $u=new R("fg",!0);function av(a){this.ka=a.ka;this.Z=a.Z};function bv(a){a=a||{};soy.asserts.assertType(null==a.cd||goog.isBoolean(a.cd)||1===a.cd||0===a.cd,"large",a.cd,"boolean|null|undefined");var b=a.cd;soy.asserts.assertType(null==a.fd||goog.isBoolean(a.fd)||1===a.fd||0===a.fd,"noShadow",a.fd,"boolean|null|undefined");var c=a.fd;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var d=a.placeholder;soy.asserts.assertType(null==
a.Ae||a.Ae instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ae),"initialQuery",a.Ae,"null|string|undefined");a=a.Ae;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox'+(b?" comboBox--large":"")+(c?" comboBox--noShadow":"")+'"\x3e\x3cinput type\x3d"text" class\x3d"comboBox__query'+(b?" comboBox__query--large":"")+'" '+(d?'placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+(a?'value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"comboBox__completionsContainer"\x3e\x3cdiv class\x3d"comboBox__completionGroups comboBox__completionGroups--hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function cv(a){var b=this;V.call(this,a);this.lb=a.find(".comboBox__query");this.Ql=a.find(".comboBox__completionGroups");a.on("input",".comboBox__query",function(){return b.vf()});a.on("keydown",".comboBox__query",function(a){27===a.keyCode?(a.preventDefault(),b.trigger(dv)):38===a.keyCode?(a.preventDefault(),b.trigger(ev)):40===a.keyCode?(a.preventDefault(),b.trigger(fv)):13===a.keyCode&&(a.preventDefault(),b.trigger(gv,String(b.lb.val())))});a.on("click",".comboBox__query",function(){return b.Ln()});
a.on("click",".comboBox__completion",function(a){return b.Ck(a)});a.on("mouseover",".comboBox__completion",function(a){return b.Fn(a)});a.on("mouseleave",".comboBox__completionGroups",function(){b.trigger(hv)})}n(cv,V);function iv(a){a.lb.removeClass("comboBox__query--flat");a.Ql.addClass("comboBox__completionGroups--hidden")}function jv(a){a.lb.addClass("comboBox__query--flat");a.Ql.removeClass("comboBox__completionGroups--hidden")}e=cv.prototype;e.Le=function(a){this.lb.val(a)};e.am=function(){this.lb.blur()};
e.vf=function(){this.trigger(kv,String(this.lb.val()))};e.Ln=function(){""!==String(this.lb.val())&&this.trigger(lv)};e.Fn=function(a){a=new mv($(a.currentTarget));this.trigger(nv,a)};e.Ck=function(a){a=new mv($(a.currentTarget));this.trigger(ov,a)};var lv="QUERY_CLICK",gv="INPUT_SUBMIT",kv="QUERY_INPUT",dv="ESC_KEY_DOWN",ev="UP_ARROW_KEY_DOWN",fv="DOWN_ARROW_KEY_DOWN",nv="COMPLETION_MOUSE_OVER",hv="COMPLETION_GROUPS_MOUSE_LEAVE",ov="COMPLETION_CLICK";
function pv(a){this.$el=a;this.ap=a.find(".comboBox__loader");this.Zo=a.find(".comboBox__completions")}n(pv,hm);function qv(a){a.Zo.find(".comboBox__completion").remove()}function mv(a){this.$el=a}n(mv,hm);mv.prototype.dk=function(){return this.$el[0].dataset.modelId};mv.prototype.select=function(){this.$el.addClass("comboBox__completion--selected")};function rv(a){a.$el.removeClass("comboBox__completion--selected")};function sv(a,b){V.call(this,a);this.Fs=b}n(sv,V);function tv(a,b){switch(b){case "EU":return"EU";default:throw new TypeError('expected Region for property "'+a+'", found: '+JSON.stringify(b));}}function uv(a){this.id=a.id;this.displayName=a.displayName;this.jp=a.jp||[];this.Cr=a.Cr;this.parent=a.parent;this.Jp=a.Jp;this.Db=a.Db;this.Dq=a.Dq;this.gq=a.gq||[]}uv.prototype.g=function(){return this.id};uv.prototype.ua=function(){return this.displayName};uv.prototype.getParent=function(){return this.parent};uv.prototype.wb=function(){return this.Db};
function vv(a){return new uv({id:v("id",a),displayName:v("displayName",a),jp:xa.pb("ancestors",a),Cr:x("shortName",a),parent:x("parent",a),Jp:x("creatableAncestor",a),Db:B(wv,"thumbnail",a),Dq:x("iconUrl",a),gq:C(xv,"editorSuggestions",a)})}function yv(a){this.url=a.url;this.width=a.width;this.height=a.height;this.media=a.media}yv.prototype.Fa=function(){return this.url};yv.prototype.ab=function(){return this.width};yv.prototype.Ua=function(){return this.height};
function wv(a){return new yv({url:v("url",a),width:t("width",a),height:t("height",a),media:x("media",a)})}function zv(a){this.displayName=a.displayName;this.gb=a.gb;this.Vd=a.Vd;this.Tp=a.Tp;this.category=a.category}zv.prototype.ua=function(){return this.displayName};zv.prototype.Sm=function(){return this.gb};function xv(a){return new zv({displayName:x("displayName",a),gb:x("country",a),Vd:Ba(tv,"region",a),Tp:x("docType",a),category:x("category",a)})}
function Av(a){this.df=a.df;this.query=a.query;this.Ip=a.Ip;this.ip=a.ip;this.locale=a.locale;this.G=a.G;this.limit=a.limit}Av.prototype.getAncestor=function(){return this.ip};Av.prototype.xe=function(){return this.locale};Av.prototype.ea=function(){return this.G};Av.prototype.Fc=function(){return this.limit};function Bv(a){this.locale=a.locale;this.Vg=a.Vg||[];this.G=a.G}Bv.prototype.xe=function(){return this.locale};Bv.prototype.ea=function(){return this.G};
function Cv(a){return new Bv({locale:v("locale",a),Vg:C(vv,"results",a),G:x("continuation",a)})};function Dv(a){this.F=a;this.path="/category"};function Ev(){this.Mb=[];this.ac={J:-1,index:-1}}e=Ev.prototype;e.next=function(){var a=this.Mb.map(function(a){return a.length});this.ac=this.navigate(Fv,this.ac,a);return Gv(this)};e.previous=function(){var a=this.Mb.map(function(a){return a.length});this.ac=this.navigate(Hv,this.ac,a);return Gv(this)};function Gv(a){L(0<=a.ac.J&&a.ac.J<a.Mb.length&&0<=a.ac.index&&a.ac.index<a.Mb[a.ac.J].length,"Invalid iterator index");return a.Mb[a.ac.J][a.ac.index]}
function Iv(a,b){var c=!1;a.Mb.forEach(function(d,f){d.forEach(function(d,h){d===b&&(a.ac={J:f,index:h},c=!0)})});if(!c)throw Error("Item not found: "+b);}e.reset=function(){this.ac={J:-1,index:-1}};e.clear=function(){var a=this;this.Mb.forEach(function(b,c){a.Mb[c]=[]})};
e.navigate=function(a,b,c){L(c.some(function(a){return 0<a}),"Cannot navigate as all groups are empty.");var d=a===Fv?1:-1,f=b.index+d;b=Math.max(0,b.J);for(var g=c.length;0>f||f>=c[b];)b=(b+d)%g,0>b&&(b+=g),f=a===Fv?0:c[b]-1;return{index:f,J:b}};e.isEmpty=function(){return this.Mb.every(function(a){return 0===a.length})};var Fv="NEXT",Hv="PREVIOUS";function Jv(a,b){var c=this;this.view=b;this.fm=a.fm;this.tf=this.hd=null;this.Ej=new Map;this.gm=[];this.Vb=a.Vb;this.Bp=[];this.ib=null;b.on(gv,function(a){c.ib?c.Ck(c.ib):(iv(c.view),c.hd({query:a}))});b.on(kv,function(a){return c.vf(a)});b.on(dv,function(){iv(c.view);c.view.am();c.tf&&c.tf()});b.on(ev,function(){c.Vb.isEmpty()||(c.ib&&rv(c.ib),Kv(c,c.Vb.previous()))});b.on(fv,function(){c.Vb.isEmpty()||(c.ib&&rv(c.ib),Kv(c,c.Vb.next()))});b.on(nv,function(a){return c.Fn(a)});b.on(hv,function(){c.ib&&
rv(c.ib);c.ib=null;c.Vb.reset()});b.on(ov,function(a){return c.Ck(a)});b.on(lv,function(){return c.Ln()})}function Lv(a){return new Jv({fm:function(a,c){return new Mv(a,c,$g)},Vb:new Ev},a)}function Nv(a,b){a.hd=b}function Ov(a,b){a.tf=b}
function Pv(a,b){b.forEach(function(b){var d=a.view,f=$,g;g=g={title:b.title};soy.asserts.assertType(null==g.title||g.title instanceof goog.soy.data.SanitizedContent||goog.isString(g.title),"title",g.title,"null|string|undefined");g=g.title;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completionGroup"\x3e'+(g?'\x3cdiv class\x3d"comboBox__groupTitleContainer"\x3e\x3cdiv class\x3d"comboBox__groupTitle"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"comboBox__completions"\x3e\x3cdiv class\x3d"comboBox__loader comboBox__loader--hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
f=f(g.toString());f=new pv(f);d.Ql.append(f.$el);b=a.fm({source:b},f);a.Bp.push(b);a.Vb.Mb.push([])})}e=Jv.prototype;e.vf=function(a){this.gm&&this.gm.forEach(function(a){return a.cancel()});this.Vb.clear();this.Ej.clear();this.ib=null;this.Vb.reset();""===a.trim()?iv(this.view):(this.gm=Qv(this,a),jv(this.view))};
function Qv(a,b){return a.Bp.map(function(c,d){return c.vf(b).then(function(b){a.Vb.Mb[d]=b;b=m(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.Ej.set(c.id,c)}).catch(P.CancellationError,function(){})})}e.Le=function(a){this.view.Le(a);iv(this.view)};function Kv(a,b){var c=a.view.$el.find('.comboBox__completion[data-model-id\x3d"'+b.id+'"]');a.ib=1===c.length?new mv(c):null;a.ib.select();a.view.Le(b.query);jv(a.view)}
e.Fn=function(a){this.ib&&rv(this.ib);this.ib=a;this.ib.select();a=this.Ej.get(this.ib.dk());Iv(this.Vb,a)};e.Ck=function(a){a=this.Ej.get(a.dk());this.view.Le(a.query);this.view.lb.focus();iv(this.view);this.hd({query:a.query,Hs:a.id})};e.Ln=function(){this.Vb.isEmpty()||jv(this.view)};function Mv(a,b,c){this.view=b;this.source=a.source;this.l=c}
Mv.prototype.vf=function(a){var b=this,c=!1,d=this.l.setTimeout(function(){c||(qv(b.view),b.view.ap.removeClass("comboBox__loader--hidden"))},50);return this.source.Rd(a).bind(this).then(function(a){c=!0;qv(b.view);for(var d=b.view,h=document.createDocumentFragment(),k=m(a),l=k.next();!l.done;l=k.next()){var r=l=l.value,w=$;soy.asserts.assertType(goog.isString(r.id)||r.id instanceof goog.soy.data.SanitizedContent,"id",r.id,"string|goog.soy.data.SanitizedContent");r=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completion" data-model-id\x3d"'+
soy.$$escapeHtmlAttribute(r.id)+'"\x3e\x3c/div\x3e');w=w(r.toString());w=new mv(w);w.$el.append(l.vs);h.appendChild(w.$el[0])}d.Zo.append(h);b.view.ap.addClass("comboBox__loader--hidden");return a}).cancellable().catch(P.CancellationError,function(a){b.l.clearTimeout(d);throw a;})};function Rv(a,b,c){var d=this;this.view=b;this.Dj=c;this.bm=a.bm;this.df=a.df;this.um=a.um;Pv(this.Dj,[{Rd:function(a){return d.vf(a)}}]);this.Pk=a.Pk;this.En=this.br=null;this.Gn=a.Gn;Nv(this.Dj,function(a){d.Pk&&d.Pk({query:a.query,Mf:a.Hs})});Ov(this.Dj,function(){return d.En&&d.En()})}
function Sv(a){var b=$,c;c={placeholder:a.Au};soy.asserts.assertType(goog.isString(c.placeholder)||c.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",c.placeholder,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==c.Ae||c.Ae instanceof goog.soy.data.SanitizedContent||goog.isString(c.Ae),"initialQuery",c.Ae,"null|string|undefined");soy.asserts.assertType(null==c.cd||goog.isBoolean(c.cd)||1===c.cd||0===c.cd,"large",c.cd,"boolean|null|undefined");soy.asserts.assertType(null==
c.fd||goog.isBoolean(c.fd)||1===c.fd||0===c.fd,"noShadow",c.fd,"boolean|null|undefined");soy.asserts.assertType(null==c.u||c.u instanceof goog.soy.data.SanitizedContent||goog.isString(c.u),"classes",c.u,"null|string|undefined");var d=c.u;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplaceSearchBox'+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'"\x3e'+bv(c)+"\x3c/div\x3e");b=b(c.toString());c=new cv(b.find(".comboBox"));b=new sv(b,c);c=Lv(b.Fs);return{nr:new Rv(a,b,c),view:b}}
Rv.prototype.destroy=function(){this.view.remove()};
Rv.prototype.vf=function(a){var b=this,c=new Av({df:this.df,query:a,Ip:!1,G:null,limit:4});this.br&&this.br(a);return P.delay(this.um).cancellable().then(function(){var a=b.bm;return T(a.F,a.path+"/search/text"+("?domainName\x3d"+encodeURIComponent(String(c.df))+"\x26query\x3d"+encodeURIComponent(String(c.query))+(c.G?"\x26continuation\x3d"+encodeURIComponent(c.G):"")+"\x26limit\x3d"+encodeURIComponent(String(c.limit)))).get(0).then(q).then(Cv)}).then(function(a){return Tv(a)}).tap(function(a){return b.Gn&&b.Gn(a)})};
Rv.prototype.zr=function(a){this.En=a};Rv.prototype.Le=function(a){this.Dj.Le(a)};
function Tv(a){return a.Vg.map(function(a){var c=a.displayName,d=a.id,f=$,g;a=a.displayName;g=g||{};soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"content",a,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("https://static.canva.com/static/images/icon_search_gray.2.svg"),"iconUrl","https://static.canva.com/static/images/icon_search_gray.2.svg","null|string|undefined");g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBoxHarness__fancyCompletion"\x3e\x3cdiv class\x3d"comboBoxHarness__fancyCompletion__icon" '+('style\x3d"'+
(g.Bc?"/*"+g.Bc+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri("https://static.canva.com/static/images/icon_search_gray.2.svg"))+"')\"")+"\x3e\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e");return{query:c,id:d,vs:f(g.toString())}})};function Uv(a){return O(O(new zh("homepage_template_searched"),"used_suggestion",!1),"query",a)}function Vv(a){return O(O(new zh("homepage_template_searched"),"used_suggestion",!0),"category",a)};function Wv(a,b){var c=this;V.call(this,a);this.eb=b;this.$el.on("click",".privacyPolicyAlert__button",function(){c.trigger(Xv)})}n(Wv,V);Wv.prototype.cn=function(){var a=this;this.$el.addClass("feedbackAlert--hidden");P.delay(300).then(function(){return a.remove()})};Wv.prototype.$h=function(){return Uu(this.$el,this.eb)};Wv.prototype.cc=function(){this.$h().cc()};Wv.prototype.remove=function(){this.$h().remove();V.prototype.remove.call(this)};var Xv="CLOSE";function Yv(a){this.F=a;this.url="/session"};function Zv(a,b){var c=this;this.Aa=a.Aa;this.ma=a.ma;this.Ni=a.Ni;this.view=b;this.view.on(Xv,function(){return c.tf()})}Zv.prototype.tf=function(){var a=this,b=Jf(If(this.Aa));Rj(this.ma,b).then(function(){var b=a.Ni;U(b.F,b.url+"/user?invalidateCache",null)});this.view.cn()};$(function(){function a(a,b){var c=null;F.Z.get(am)&&(c=function(){return Rn({Ms:Kn,D:H,Na:I,w:fa,i:g,C:fa.ba(a),ma:l,l:oa})});return Xn({Nf:c,w:fa,K:Xh(g),C:fa.ba(a),j:w,l:oa,view:b})}function b(a,b){var c;c=Di;var d=$f({id:a});c=new Rr({C:d,Ta:c,qc:20});d=Ur.bind(null,{j:w,C:fa.ba(a),D:H,Na:I,i:g,pa:pa,N:F.N()});return new Tr({o:I,Jb:d,w:fa,nb:Ei,ra:F,dg:$f({id:a}),Ta:Di,i:g,j:w,Cb:lc,xb:c,l:oa,qa:Fa,Ga:pa,va:mc,D:H,Ba:"folder",N:F.N(),gc:Jr,view:b})}function c(){return new Yr({Qj:window.designImporterUrl,
ra:F,Pm:H.kf(),Mo:I.g()})}function d(a,b){if(vd&&"virtual-homedesigns"===a)return new zt({O:a,view:b});var d=new ht({Nj:["SOCIAL","INGESTION_STATUS","FOLDER"],filter:window.filter||void 0,jf:1,qc:20,Ne:"/designs/all",ld:hf}),d=new jt({Jb:kt.bind(null,{j:w,ra:F,D:H,Na:I,i:g,pa:pa}),D:H,w:fa,nb:Ei,i:g,Cb:lc,Qi:f(),j:w,ra:F,l:oa,qa:Fa,Ga:pa,va:mc,Ba:"home_designs",N:F.N(),view:b.la,gc:Jr,Nl:d});return new xt({km:c,ha:d,O:a,view:b})}function f(){return!I.contributor&&!vf(I)&&!I.thirdParty&&!!H.kf()&&
F.Z.get($l)}if(!window.cmsg)throw Error("window['cmsg'] isn't defined");var g=new Ch,h=Yk(),k=new tj(window.httpServiceConfig),l=new Nj(k);$v({i:g,Mi:h,ma:l,Ni:new Yv(k)});g.fa||(g.fa=new wi(g.config));var r=g.fa,w=tu(),G=new Lj(k),I=h.brandInfo.ia(),H=h.user.$i(),ja=Zi(),F=new Xl(ja),Fa=new Co(k),pa=new bp(k),aw=Sj(),jo=new fp,Ei=Or(k,F),Di=new fl(k),wd=$(".pageHeader"),hf=new gt(k),Bb=new Dv(k),jf=$("#primaryNavigation"),oa=$g,qa=I.g();g.De||(g.De=new yi(g.config));var mc=new cr({kc:qa,ma:l,De:g.De,
qf:F.qf()}),qa=h.user.wq(),vd=ja.get(new R("no",!1))||"H2"===qa,Fi=ja.get(new R("pj",!1)),aa=ja.get(new R("qy",!1)),kf;try{kf=Cm()}catch(fw){}(function(){if("/"===window.location.pathname){var a=["featureOnboardingManager",H.g()].join("."),b=null;try{b=Cm(a)}catch(c){}a=new av({Z:ja,ka:b});a.ka&&a.Z.get($u)&&Dm(a.ka,"onboardingPending")&&(a.ka.removeItem("onboardingPending"),window.location="/brand/onboarding/upgrader")}})();(function(){if(vf(I)&&h.user.uiInfo.newPersonalBrandCreated){var a;g.Io||
(g.Io=new Bi(g.config));a=g.Io;(new Pu({title:a.format("teamUserRemovalAlertAlertTitle"),content:$("\x3cdiv\x3e").text(a.format("teamUserRemovalAlertMessage")),Rj:a.format("teamUserRemovalAlertStartDesigning")})).show();Pj(l)}})();var Cb=ja.get(new R("kj",!1)),qa=function(){function a(b){return Fi?-1!==b.indexOf("?")?b+"\x26schema\x3dweb-1":b+"?schema\x3dweb-1":b}var b=function(){return vd&&!Fi?[]:window.compactDocumentCreationOptions.map(function(b){var c=a(b.editorPath);b=_.extend({},b,{editorPath:c});
return ts(b)})}(),c=function(){var a=new Os({em:b,Y:Ph(g)});$(window).on("resize",a.Pb.bind(a));return a}(),d=Ph(g);return{nr:new uu({Y:d,Vm:function(){return P.resolve(window.expandedDocumentCreationOptionGroups.map(function(b){var c=b.options.map(function(b){var c=a(b.editorPath);return _.extend({},b,{editorPath:c})});b=_.extend({},b,{options:c});return new us({Zm:v("groupingDisplayName",b),options:C(ts,"options",b)})}))},view:c,Om:Fi?"web-1":null}),view:c}}().view;qa.render();qa.$el.appendTo(wd);
qa.Pb();vd&&Cb&&(Cb=Ns(qa),g.vn||(g.vn=new Ci(g.config)),Bb=Sv({bm:Bb,Pk:function(a){a.query&&(a.Mf?w.xc(Vv(a.Mf)).finally(function(){return window.location.href="/design?create\x3dtrue\x26category\x3d"+a.Mf}):w.xc(Uv(a.query)).finally(function(){return window.location.href="/templates/?query\x3d"+a.query}))},df:"templates",Au:g.vn.format("homeTemplateSearchBoxPlaceholder"),um:200}).view,Cb.append(Bb.$el));var lc=Op(),fa=jl({Ta:Di,Aa:H.g(),Z:ja}),Gi=new Nl({el:$(".sidebar li.trashedDesigns")[0],l:oa,
Wo:"/designs/trash"}),Cb=null,ko=Gi,xd=dk(),bw=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),cw=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),Cb=new zl({nm:function(a){return new wl({C:a,fa:r})},fa:r,Ag:F.Z.get(bm)}),Hi=new Kl({j:w,qm:function(){var a=l,b=I,c=w,d=g,f={Se:G,o:b.g(),Sb:aw,sb:!0,na:Th(d),j:c},h=new aj({uj:!1!==f.uj,na:f.na,Z:f.Z,j:f.j}),k=new Xj({Se:f.Se,o:f.o,Ka:f.Ka,sb:f.sb,Sb:f.Sb,Z:f.Z,na:f.na,view:h}),f=xd.has(0)&&xd.get(0).length?
xd.get(0)[0].Fb:30,r=xd.get(0),r=fk(r.sort(rk),Rh(d)),r=new ik({He:r}),h=new pk({compact:!0,Jj:h,Pg:r,i:d,Fb:f}),a=new qk({j:c,vj:G,ma:a,o:b,me:k,rm:cw,yo:!1,i:d,view:h});return new al({Xn:"/brand/onboarding/upgrader",j:c,Bj:!0,Ac:!0,Eh:Rh(d),qb:ai(d),fc:!0,Fb:f,Ra:a,Te:bw,Un:xd,ot:0})},fa:r,w:fa,view:Cb});Hi.view.render().$el.replaceAll($(".designFolderListPlaceholder")).addClass("sidebarSection");fa.fetch();ko=new vu([Hi,Gi]);window.homeConfig.initialFolder&&ol(fa);var lf=new Et({Go:jf.add($(".designFolderListMenu,.sidebarMenuSecondary,.sidebarMenuFolders")),
ge:!0});Gt(lf,!0);lf.$el.appendTo(".sidebarInner");var dw=Ct({el:jf[0],Lp:window.location.href}),ew=Ct({el:$(".sidebarMenuFolders")[0],Lp:window.location.href}),Bb=new Ht({ud:$(".panelContainer"),l:oa,ge:!0}),La=new Lt({rc:Bb,w:fa,qe:qa,tc:dw,Cc:Cb,Je:ew,wm:$(".sidebarMenuLink.designStream"),vc:lf,window:window,history:window.history,tg:vd,$m:aa});(function(a){var b=new hu({el:a.el,vc:a.vc,Tm:function(){return a.ye.ie}});b.listenTo(a.ye,{route:b.dr,tabListsModified:b.Qk});a.ye.ie&&b.dr(0,a.ye.ie,
-1);return b})({el:$("#wholePage").children(".sidebar").find(".sidebarViewportContainer"),ye:La,vc:lf});aa=(aa=window.userReactivationTime)&&parseInt(aa,10);g.ke||(g.ke=new si(g.config));aa=new Zu({Li:aa,ka:kf,ke:g.ke,pj:$(".page__headerAlertContainer")});wd=new wu({pm:function(a){var b=vf(I)||I.contributor||I.thirdParty;g.Va||(g.Va=new li(g.config));var c=g.Va;if("virtual-homedesigns"===a)return vd?new yt({O:a,la:new et({}),Va:c}):new Z({O:a,la:dt.create(h,b,f(),Fh(g)),Va:c});if("special-usecanva1"===
a)return new Z({O:a,la:dt.create(h,b,f(),Fh(g)),Va:c});if("virtual-shareddesigns"===a)return g.cb||(g.cb=new ji(g.config)),b=g.cb,new Z({O:a,la:Xs.create({cb:b,Cf:F.Cf()}),Qa:Qs.create(b),Va:c});if("virtual-teamstream"===a){g.Oe||(g.Oe=new ti(g.config));var d=g.Oe,b=at.create(d),k;k=$;d={title:d.bn()};soy.asserts.assertType(goog.isString(d.title)||d.title instanceof goog.soy.data.SanitizedContent,"title",d.title,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==d.description||
d.description instanceof goog.soy.data.SanitizedContent||goog.isString(d.description),"description",d.description,"null|string|undefined");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(Wl(soy.$$assignDefaults({H:"teamStreamHeader"},d)));k=k(d.toString());k=new Us({$el:k});return new Z({O:a,la:b,Qa:k,Va:c})}if("virtual-trasheddesigns"===a)return b=Vh(g),new Z({O:a,la:Zs(b),Qa:new Rs({el:$(Ss({title:b.bn(),description:b.format("trashedDesignsHeaderDescription")}))[0]}),Va:c});if("virtual-designstream"===
a)return b=new Zr({D:H,Na:I,pe:jo,Hh:Fa,pa:pa,Fl:jf.find(".designStream"),N:F.N(),i:g}),d=Nh(g),k=$,d={title:d.title()},soy.asserts.assertType(goog.isString(d.title)||d.title instanceof goog.soy.data.SanitizedContent,"title",d.title,"string|goog.soy.data.SanitizedContent"),soy.asserts.assertType(null==d.description||d.description instanceof goog.soy.data.SanitizedContent||goog.isString(d.description),"description",d.description,"null|string|undefined"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(Wl(soy.$$assignDefaults({H:"designStreamHeader"},
d))),k=k(d.toString()),k=new Ts({$el:k}),new ut({O:a,la:b,Qa:k,Va:c});if(vl(a))return k=Xh(g),b=fa.ba(a.substr(7)),k=Mp.create(k,b),b=Pm.create({j:w,ra:F,Z:ja,ka:kf,K:Xh(g),Ec:F.Z.get(am),Bd:nl(fa,b.g()),C:b}),new wt({O:a,la:k,Qa:b,Va:c});throw Error("Unrecognised tabId "+a);},lo:function(a){$(".designStream.panelContainer").toggleClass("docTypeSelectorHidden",a)},qe:qa,Tk:wd,rc:Bb,l:oa,Cb:lc,window:window});qa=new yu({j:w,lm:function(a,b){return new Ol({j:w,body:$("body"),Wi:b,te:a,mh:ko,oe:Hi,Al:Gi,
cg:jf,w:fa,l:oa,fa:r})},om:function(c,f){var h;if("virtual-homedesigns"===c||"special-usecanva1"===c)return d(c,f);if("virtual-shareddesigns"===c)h=new mt({kc:I.g(),qc:18,Aa:H.g(),ld:hf}),h=new nt({Jb:ot.bind(null,H,pa,g,F.N()),Cb:lc,xb:h,j:w,ra:F,i:g,l:oa,qa:Fa,Ga:pa,va:mc,D:H,Ba:"shared_designs",N:F.N(),gc:Jr,view:f.la});else if("virtual-teamstream"===c)h=new ht({jf:0,qc:18,Ne:"/designs/sharedwith",ld:hf}),h=new st({Jb:tt.bind(null,H,pa,g,F.N()),Cb:lc,xb:h,j:w,ra:F,i:g,l:oa,qa:Fa,Ga:pa,va:mc,D:H,
Ba:"team_stream",N:F.N(),gc:Jr,view:f.la});else if("virtual-trasheddesigns"===c)h=new ht({kc:I.g(),Nj:["SOCIAL","INGESTION_STATUS"],jf:1,qc:20,Ne:"/designs/trash",Aa:H.g(),ld:hf}),h=new pt({Jb:qt.bind(null,H,I,pa,g,w,F.N()),nb:Ei,Cb:lc,xb:h,j:w,ra:F,i:g,l:oa,qa:Fa,Ga:pa,va:mc,D:H,Ba:"trash",N:F.N(),gc:Jr,Eb:Vh(g),view:f.la});else{if("virtual-designstream"===c)return new Au({ha:f.la,pe:jo,gc:function(a){Jr({j:w,i:g,l:oa,qa:Fa,Ga:pa,va:mc,D:H,Ba:"design-stream",N:F.N()},a)},O:c,view:f});if(vl(c))return new Bu({ha:b(c.substr(7),
f.la),Bq:a(c.substr(7),f.Qa),O:c,view:f});throw Error("Unrecognised tabId "+c);}return new vt({ha:h,O:c,view:f})},ka:kf,D:H,document:document,ra:F,ye:La,view:wd});Bb.init();La.init();wd.init();qa.init();(function(){var a;$("#homeHelpMenuButton").click(function(){"virtual-homedesigns"===La.Qf?a="your_designs":"special-createadesign"===La.Qf?a="create_a_design":"virtual-designstream"===La.Qf?a="design_stream":"virtual-shareddesigns"===La.Qf?a="shared_with_you":La.Qf&&vl(La.Qf)&&(a="c4w_folder");yh(w,
"need_help","homepage",a,"bottom_right")})})();(function(){if(w instanceof lu&&!(.95>Math.random()))var a=Nu(Mu(new Hu(k))),b=0,c=$g.setInterval(function(){b++;if(window.Appcues||80===b)a.xc("complete"),a.done(),$g.clearInterval(c)},100)})();0===aa.pj.children().length&&aa.Li&&(parseInt(aa.ka.getItem("reactivationMessageLastDisplayed"),10)||0)!=aa.Li&&(Yu({type:Vu,title:aa.ke.format("accountReactivatedTitle"),message:aa.ke.format("accountReactivatedMessage")}).$el.appendTo(aa.pj),aa.ka.setItem("reactivationMessageLastDisplayed",
String(aa.Li)))});
function $v(a){var b=a.i,c=a.Mi,d=a.ma,f=a.Ni;!0===z("showPrivacyPolicyAlert",window.homeConfig)&&(a=$(".page__headerAlertContainer"),c=c.user.g(),b.Zn||(b.Zn=new Ii(b.config)),b={ma:d,Ni:f,Aa:c,i:b.Zn,ud:a},c=b.i.Yb("privacyPolicyAlertBodyHtml","https://support.canva.com/legal/privacy/gpdr-compliance"),f=b.i.rb(),d=b.ud,soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"messageHtml",c,"soydata.SanitizedHtml"),soy.asserts.assertType(goog.isString(f)||f instanceof
goog.soy.data.SanitizedContent,"buttonLabel",f,"string|goog.soy.data.SanitizedContent"),c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"privacyPolicyAlert__body"\x3e\x3cdiv class\x3d"privacyPolicyAlert__message"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+Dk({small:!0,u:"privacyPolicyAlert__button buttonSecondary",text:f})+"\x3c/div\x3e"),c=Tu({type:Wu,message:c,Dr:!1,u:"privacyPolicyAlert__container",global:!0},d),d=new Wv(c.$el,d),b={nr:new Zv(b,d),view:d}.view,b.$el.appendTo(a),b.cc())}
;})();
