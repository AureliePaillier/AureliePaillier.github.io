(function() {var e,ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,da={};function k(a,b){(da[a]=da[a]||[]).push(b);var c=ca;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function fa(){fa=function(){};if(!ca.Symbol){ca.Symbol=ha;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var p;a:if(p=d[g],14>p.length)p=!1;else{for(var m=0;14>m;m++)if(p[m]!="jscomp_symbol_"[m]){p=!1;break a}p=!0}p?a.push(d[g]):f.push(d[g])}return f}};k("Object.keys",b);k("Object.getOwnPropertyNames",b);k("Object.getOwnPropertySymbols",function(c){return function(d){b.Jm=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ia=0;
function ha(a){return"jscomp_symbol_"+a+ia++}function ja(){fa();ca.Symbol.iterator||(ca.Symbol.iterator=ca.Symbol("iterator"));ja=function(){}}function l(a){ja();fa();ja();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function la(a){if(!(a instanceof Array)){a=l(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function n(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function ma(a,b){ja();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
var na="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function oa(a,b){if(b){for(var c=ca,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=da[a]||[];for(f=0;f<a.length;f++)b=a[f](b);na(c,d,{configurable:!0,writable:!0,value:b})}}}
oa("Array.prototype.keys",function(a){return a?a:function(){return ma(this,function(a){return a})}});function q(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
oa("WeakMap",function(a){function b(a){this.Rd=(p+=Math.random()+1).toString();if(a){fa();ja();a=l(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!q(a,g)){var b={};b[g]=h;na(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(q(b,g)&&q(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};k("Object.getOwnPropertyNames",d);k("Object.keys",d);k("Reflect.enumerate",d);k("Reflect.ownKeys",d);k("Object.freeze",f);k("Object.preventExtensions",f);k("Object.seal",f);var p=0;b.prototype.set=function(a,b){c(a);if(!q(a,g))throw Error("WeakMap key fail: "+a);a[g][this.Rd]=b;return this};b.prototype.get=function(a){return q(a,
g)?a[g][this.Rd]:void 0};b.prototype.has=function(a){return q(a,g)&&q(a[g],this.Rd)};b.prototype.delete=function(a){return q(a,g)&&q(a[g],this.Rd)?delete a[g][this.Rd]:!1};return b});
oa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.ob,d={next:function(){if(c){for(;c.head!=a.ob;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Fd[c];if(d&&q(a.Fd,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,ua:f}}return{id:c,list:d,index:-1,ua:void 0}}function f(a){this.Fd={};this.ob=b();this.size=0;if(a){a=l(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(l([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;fa();ja();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Fd[c.id]=[]);c.ua?c.ua.value=b:(c.ua={next:this.ob,previous:this.ob.previous,head:this.ob,key:a,value:b},c.list.push(c.ua),this.ob.previous.next=c.ua,this.ob.previous=c.ua,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.ua&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Fd[a.id],a.ua.previous.next=a.ua.next,a.ua.next.previous=a.ua.previous,a.ua.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.Fd={};this.ob=this.ob.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).ua};f.prototype.get=function(a){return(a=d(this,a).ua)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});oa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)q(f,g)&&(a[g]=f[g])}return a}});oa("Array.prototype.values",function(a){return a?a:function(){return ma(this,function(a,c){return c})}});
oa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});oa("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,g=0;g<f;g++){var h=d[g];if(a.call(c,h,g,d)){a=h;break a}}a=void 0}return a}});
oa("Array.prototype.entries",function(a){return a?a:function(){return ma(this,function(a,c){return[a,c]})}});oa("Array.from",function(a){return a?a:function(a,c,d){ja();c=null!=c?c:function(a){return a};var f=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)f.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)f.push(c.call(d,a[h]));return f}});function pa(){}
function r(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":qa.apply(pa,[].concat([b],la(d))));}function ra(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":qa.apply(pa,[].concat([b],la(d))));}
function ta(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":qa.apply(pa,[].concat([b],la(d))));return a}function qa(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function t(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,ua(b))}function ua(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function va(a){this.type=a}va.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};va.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
va.prototype.da=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var w=new va("string"),wa=new va("boolean"),xa=new va("number"),ya=new va("object");function za(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function x(a,b){return xa.optional(a,b)||0}
function y(a,b){return xa.optional(a,b)}function z(a,b){return w.required(a,b)}function A(a,b){return w.optional(a,b)}function B(a,b){return wa.optional(a,b)||!1}function C(a,b){return wa.optional(a,b)}function D(a,b,c){return a(ya.required(b,c))}function E(a,b,c){return(b=ya.optional(b,c))?a(b):b}function F(a,b,c){return(b=ya.da(b,c))?b.map(a):b}function H(a,b,c){return a(b,w.required(b,c))}function Aa(a,b,c){c=w.optional(b,c);return null!=c?a(b,c):c}
function Ba(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var f=new Map,g=l(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,f.set(a(c,h),b(c,h,d));return f}function Ca(a,b){return b}function Da(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}
function Ea(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Fa(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ga(a){this.type=a}
Ga.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Ga.prototype.da=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),I=new Ga("number"),J=new Ga("object");function K(a,b){return 0!==b?I.required(a,b):void 0}function Ja(a,b){return!1!==b?Ia.required(a,b):void 0}function L(a,b){return Ha.required(a,b)}
function M(a,b){return Ha.optional(a,b)}function N(a,b,c){return J.optional(b,c?a(c):null)}function La(a,b,c){return Ha.required(b,a(b,c))}function Ma(a,b,c){return Ha.optional(b,c?a(b,c):null)}function Na(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var f={},g=l(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,f[a(c,h)]=b(c,d.get(h));return f}
function Oa(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}function Pa(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Qa(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}
function Ra(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};function Sa(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Ta(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}function Ua(a){this.id=a.id;this.version=a.version}Ua.prototype.j=function(){return this.id};Ua.prototype.getVersion=function(){return this.version};
function Va(a){return{id:L("id",a.id),version:K("version",a.version)}}function Wa(a){return new Ua({id:z("id",a),version:x("version",a)})}function Xa(a){this.Pj=a.Pj;this.Oj=a.Oj;this.Qi=a.Qi;this.jj=a.jj||[]}function Ya(a){return new Xa({Pj:x("spritesWide",a),Oj:x("spritesHigh",a),Qi:B("fullyRecolorable",a),jj:F(Za,"layers",a)})}function $a(a){this.type=a.type;this.ij=a.ij;this.color=a.color}$a.prototype.Oa=function(){return this.type};
function Za(a){return new $a({type:H(Ta,"type",a),ij:y("layerIndex",a),color:A("color",a)})};function ab(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function bb(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function cb(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function db(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function eb(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}function fb(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}fb.prototype.getVersion=function(){return this.version};
function gb(a){var b=K("version",a.version),c;c=a.sizes;c=Na(Oa,Qa.bind(null,hb),"sizes",c);return{version:b,sizes:c,status:Ma(cb,"status",a.status)}}function ib(a){var b=x("version",a),c;c=Ba(Ca,Ea.bind(null,jb),"sizes",a);return new fb({version:b,sizes:c,status:Aa(db,"status",a)})}function kb(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}kb.prototype.va=function(){return this.url};
function hb(a){return{size:K("size",a.size),width:K("width",a.width),height:K("height",a.height),url:L("url",a.url)}}function jb(a){return new kb({size:x("size",a),width:x("width",a),height:x("height",a),url:z("url",a)})}function lb(a){this.id=a.id;this.username=a.username;this.ed=a.ed;this.displayName=a.displayName;this.Hg=a.Hg;this.ec=a.ec;this.K=a.K;this.tc=a.tc;this.locale=a.locale;this.sg=a.sg}e=lb.prototype;e.j=function(){return this.id};e.Rc=function(){return this.username};e.Se=function(){return this.ed};
e.Ja=function(){return this.displayName};e.Si=function(){return this.tc};e.Pc=function(){return this.locale};function mb(a){return new lb({id:z("id",a),username:A("username",a),ed:A("personalBrand",a),displayName:A("displayName",a),Hg:A("homepage",a),ec:A("city",a),K:Aa(eb,"countryCode",a),tc:D(ib,"avatar",a),locale:z("locale",a),sg:B("deactivated",a)})}e.Yi=function(){var a=this.tc&&this.tc.sizes.get("50");return a&&a.url||null};
function nb(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.pc=a.pc;this.$i=a.$i||[]}nb.prototype.oa=function(){return this.user};nb.prototype.Pc=function(){return this.locale};function ob(a){return new nb({user:D(mb,"user",a),email:A("email",a),locale:z("locale",a),pc:H(bb,"role",a),$i:w.da("groups",a)})}function qb(a){this.id=a.id;this.Zh=a.Zh;this.displayName=a.displayName;this.Qa=a.Qa;this.kg=a.kg;this.Jg=a.Jg;this.Ah=a.Ah;this.Sa=a.Sa}qb.prototype.j=function(){return this.id};
qb.prototype.Ja=function(){return this.displayName};qb.prototype.Ti=function(){return this.Sa};function rb(a){return new qb({id:z("id",a),Zh:A("brandname",a),displayName:A("displayName",a),Qa:B("personal",a),kg:B("contributor",a),Jg:B("layoutContributor",a),Ah:B("thirdParty",a),Sa:A("brandColor",a)})}function sb(a){return{brand:L("brand",a.g),joinPath:L("joinPath",a.Cm)}}function tb(a){this.ej=a.ej}function ub(a){return new tb({ej:z("joinUrl",a)})}
function vb(a){return{brand:L("brand",a.g),removeEmail:M("removeEmail",a.Em),removeInviteLink:Ia.optional("removeInviteLink",a.Fm)}}function wb(){}function xb(){return new wb}function yb(a){return{user:L("user",a.user),token:L("token",a.Of)}}function zb(a){return{brand:M("brand",a.g),add:Na(Oa,ab,"add",a.add),addByToken:N(yb,"addByToken",a.qm),update:Na(Oa,ab,"update",a.update),remove:Ha.da("remove",a.remove),includeAvatars:Ja("includeAvatars",a.zm)}}function Ab(a){this.ik=a.ik;this.Qg=a.Qg||[]}
function Bb(a){return new Ab({ik:D(rb,"updatedBrand",a),Qg:F(ob,"members",a)})}function Cb(a){this.Gj=a.Gj};function Db(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.um||null;this.personal=a.Qa||!1;this.contributor=a.kg||!1;this.layoutContributor=a.Jg||!1;this.thirdParty=a.Ah||!1;this.brandColor=a.Sa||null}Db.prototype.j=function(){return this.id};Db.prototype.Ja=function(){return this.displayName};Db.prototype.Ti=function(){return this.brandColor};function Eb(a){return a?t(Db,a):null}
function Fb(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.ed||"";this.displayName=a.displayName||"";this.homepage=a.Hg||null;this.city=a.ec||null;this.countryCode=a.K||null;this.avatar=a.tc||null;this.roles=a.Gm||[];this.deactivated=a.sg||!1;this.locale=a.locale||"en"}e=Fb.prototype;e.j=function(){return this.id};e.Rc=function(){return this.username};e.Se=function(){return this.personalBrand};e.Ja=function(){return this.displayName};e.Ld=function(){return this.avatar};
e.Gg=function(){return this.roles};function Gb(a){if(!a)return null;a=t(Fb,a);a.avatar&&(a.avatar=ib(a.avatar));return a}function Hb(a){return Gb(a)}e.Eh=function(){return mb(Object.assign({},this,{avatar:this.avatar&&gb(this.avatar)}))};e.Md=function(a){var b=this.Ld();return b&&(a=b.sizes.get(a))?a.va():null};e.Yi=function(){return this.Md("50")};e.cj=function(){return"UAAAAAAAAAA"===this.id};
function Ib(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.locale="";this.phoneNumber=this.profession=null}e=Ib.prototype;e.j=function(){return this.id};e.Ja=function(){return this.displayName};e.Rc=function(){return this.username};
e.Ld=function(){return this.avatar};e.Gg=function(){return this.roles};e.Se=function(){return this.personalBrand};e.Pc=function(){return this.locale};e.setLocale=function(a){this.locale=a};e.Md=function(a){var b=this.Ld();return b&&(a=b.sizes.get(a))?a.va():null};e.cj=function(){return"UAAAAAAAAAA"===this.id};
e.Eh=function(){return Gb({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&gb(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};ib({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});
function Jb(){this.user="";this.preferredHomepage=this.privacyPolicyNotified=this.profession=this.generateApiKeyWithType=this.avatar=this.locale=this.countryCode=this.city=this.homepage=this.currentPassword=this.roles=this.displayName=this.password=this.username=this.emailVerified=this.email=null}function Kb(a){var b=new Jb;b.user=a;return b}e=Jb.prototype;e.j=function(){return this.user};e.Rc=function(){return this.username};e.Ja=function(){return this.displayName};e.Pc=function(){return this.locale};
e.Wi=function(){return this.preferredHomepage};function Lb(a,b){a.preferredHomepage=b;return a}function Mb(){this.user=void 0;this.verificationEmailSent=null}Mb.prototype.oa=function(){return this.user};Mb.prototype.Gf=function(a){this.user=a};
function Nb(a){if(!a)return null;a=t(Mb,a);var b;b=a.user;var c;b?(c=t(Ib,b),c.avatar&&(c.avatar=ib(c.avatar)),b.userNotificationSettings&&(c.userNotificationSettings=new Cb({Gj:B("receiveSocialEmails",b.userNotificationSettings)})),b=c):b=null;a.user=b;return a}function Ob(){}function Pb(a){return Object.freeze(t(Ob,a))}function Qb(){}Qb.prototype.Ia=function(){return this.continuation};Qb.prototype.getCount=function(){return this.count};function Rb(a){return Object.freeze(t(Qb,a))}
function Sb(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.pc}Sb.prototype.oa=function(){return this.user};function Tb(a){a=t(Sb,a);a.user=Gb(a.user);return Object.freeze(a)}function Ub(){}e=Ub.prototype;e.Mh=function(a){this.brand=a;return this};e.W=function(){return this.brand};e.nk=function(a){this.continuation=a;return this};e.Ia=function(){return this.continuation};e.pk=function(a){this.limit=a;return this};e.Oc=function(){return this.limit};
function Vb(){var a=new Ub;a.countOnly=!0;return a}function Wb(a){a=void 0===a?{}:a;this.members=a.Qg;this.continuation=a.Ma}Wb.prototype.Ia=function(){return this.continuation};Wb.prototype.getCount=function(){return this.count};function Xb(a){a=t(Wb,a);a.members&&(a.members=a.members.map(Tb));return Object.freeze(a)};function Yb(a){this.ic=a.ic;this.jc=a.jc;this.user=a.user;this.g=a.g;this.Qa=a.Qa;this.Ib=a.Ib;this.Ya=a.Ya;this.K=a.K;this.$b=a.$b}function Zb(a){var b=z("experience",a),c;c=Ba(Ca,Fa,"experiments",a);return new Yb({ic:b,jc:c||new Map,user:A("user",a)||null,g:A("brand",a)||null,Qa:C("personal",a)||null,Ib:y("cohort",a)||null,Ya:A("tier",a)||null,K:A("countryCode",a)||null,$b:A("userLocale",a)||null})};function $b(a){this.config=a;this.wm=this.zi=null;this.qf=[];this.ready=!1}
function ac(a,b){var c=Object.assign({},b),d={};a.zi&&(c.design=a.zi);c.experience=a.config.ic;a.config.jc.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.g&&(c.brand=a.config.g);null!=a.config.Qa&&(c.personal=a.config.Qa);null!=a.config.Ib&&(c.cohort=a.config.Ib);a.config.Ya&&(c.tier=a.config.Ya);null!=a.config.K&&(c.country_code=a.config.K);null!=a.config.$b&&(c.locale=a.config.$b);c.product_variant="web-1";bc(c);return c}
function bc(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function cc(a,b){var c=window.lastUserTraits||dc(new ec),d=fc(new ec,"__user",a);a=a!==c.get("__user");if(b&&gc(b)){for(var f=l(b),g=f.next();!g.done;g=f.next()){var h=l(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=l(b.keys());for(f=c.next();!f.done;f=c.next())f=f.value,fc(d,f,b.get(f))}a&&(window.lastUserTraits=dc(d));return a}
function hc(a,b){var c=window.lastUserTraits||dc(new ec);a=fc(new ec,"__user",a);if(c&&gc(c))for(var d=l(c.keys()),f=d.next();!f.done;f=d.next())f=f.value,"__user"!==f&&fc(a,f,c.get(f));if(b&&gc(b))for(c=l(b.keys()),f=c.next();!f.done;f=c.next())d=f.value,fc(a,d,b.get(d));window.lastUserTraits=dc(a)}function gc(a){r(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function ic(a,b,c,d,f,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=f;g&&Object.assign(h,g);a.track("button_click",h)}$b.prototype.zoom=function(a,b,c,d,f){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:f})};function jc(a,b){a.track(b.name,b.fh)}function kc(a){this.name=a;this.fh={}}function O(a,b,c){if(a.fh[b])throw Error("duplicated property");a.fh[b]=c;return a}function ec(){this.items=[]}function fc(a,b,c){a.items.push({key:b,value:c});return a}
function dc(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function Q(a,b){this.name=a;this.defaultValue=b};function lc(a){this.values=a||{}}function mc(){return new lc(za(window.cflags))}lc.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;r(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function nc(a){this.G=a}var oc=new Q("nb",!1),pc=new Q("bg",!1),qc=new Q("cd",!1),rc=new Q("cf",50),sc=new Q("dc",-1),tc=new Q("ek",!1),uc=new Q("em","NONE"),vc=new Q("nw",!0);nc.prototype.Ta=function(){return this.G.get(oc)};nc.prototype.vg=function(){return this.G.get(uc)};function R(a){this.Jk=a.fallback;this.nj=a.localePrecedence;this.Sg={};this.o=a.messages;this.Hl=this.nj[0];this.Pl=!!a.returnKeys}R.prototype.format=function(a,b){if(this.Pl)return[].join.call(arguments,":");var c=wc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
R.prototype.Ua=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],la(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function wc(a,b){if(a.Sg.hasOwnProperty(b))return a.Sg[b];var c=a.Hl,d;a.nj.some(function(c){d=a.o[c]&&a.o[c][b];return void 0!==d});d||(c=a.Jk,d=a.o[c]&&a.o[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,xc);return a.Sg[b]=c}var xc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function yc(){this.config=window.cmsg;this.gg=this.fg=this.ta=this.xh=this.H=this.ug=this.Ug=this.C=this.D=this.kc=this.Bd=this.wg=null}function zc(a){a.wg||(a.wg=new Ac(a.config));return a.wg}function Bc(a){a.Bd||(a.Bd=new Cc(a.config));return a.Bd}function Dc(a){a.D||(a.D=new Ec(a.config));return a.D}function Fc(a){a.ug||(a.ug=new Gc(a.config));return a.ug}function Hc(a){a.H||(a.H=new Ic(a.config));return a.H}function Jc(a){a.ta||(a.ta=new Kc(a.config));return a.ta}
function Ec(a){R.apply(this,arguments)}n(Ec,R);e=Ec.prototype;e.Bc=function(){return this.format("creditCardCreditCardLabel")};e.wc=function(){return this.format("creditCardBillingAddressLabel")};e.ab=function(){return this.format("creditCardCardNumberPlaceholder")};e.fb=function(){return this.format("creditCardMonthPlaceholder")};e.gb=function(){return this.format("creditCardYearPlaceholder")};e.bb=function(){return this.format("creditCardCvcPlaceholder")};
function Lc(a){return a.format("creditCardRegionPlaceholder")}e.Gb=function(){return this.format("creditCardZipCodePlaceholder")};e.save=function(){return this.format("creditCardSave")};function Ac(a){R.apply(this,arguments)}n(Ac,R);Ac.prototype.Ca=function(){return this.format("documentPlaceholderText")};Ac.prototype.Sf=function(){return this.format("documentUntitledDesign")};function Mc(a){R.apply(this,arguments)}n(Mc,R);Mc.prototype.De=function(){return this.format("homeSideBarCreateFolder")};
function Cc(a){R.apply(this,arguments)}n(Cc,R);Cc.prototype.$c=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function Nc(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function Oc(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}function Pc(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function Qc(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}
function Rc(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Sc(a){return a.Ua("canvaForWorkFeatureUpgradeFreeContentBenefit",4E5)}function Tc(a){R.apply(this,arguments)}n(Tc,R);e=Tc.prototype;e.Xl=function(){return this.format("userMenuSettings")};e.km=function(){return this.format("userMenuViewProfile")};e.ed=function(){return this.format("userMenuPersonalBrand")};e.signOut=function(){return this.format("userMenuSignOut")};e.Kh=function(){return this.format("userMenuUpgrade")};
function Uc(a){R.apply(this,arguments)}n(Uc,R);Uc.prototype.Sf=function(){return this.format("notificationPopOverUntitledDesign")};function Gc(a){R.apply(this,arguments)}n(Gc,R);function Vc(a,b){return a.format("designSearchResultCount",b)}function Ic(a){R.apply(this,arguments)}n(Ic,R);e=Ic.prototype;e.mb=function(){return this.format("designFolderListDefaultName")};e.bd=function(){return this.format("designFolderListNewFolder")};e.Qc=function(){return this.format("designFolderListGetMoreFolders")};
e.Nc=function(a){return this.format("designFolderListFolderQuotaHint",a)};e.Jc=function(){return this.format("designFolderListErrorMessageHtml")};e.kd=function(){return this.format("designFolderListRetry")};e.Yc=function(){return this.format("designFolderListLoadFolders")};function Wc(a){R.apply(this,arguments)}n(Wc,R);function Kc(a){R.apply(this,arguments)}n(Kc,R);e=Kc.prototype;e.Kh=function(a){return this.format("teamBillingSignupUpgrade",a)};e.ud=function(){return this.format("teamBillingSignupStartTrial")};
e.ld=function(){return this.format("teamBillingSignupRevertCard")};e.Vc=function(){return this.format("teamBillingSignupItemsTitle")};e.xc=function(){return this.format("teamBillingSignupBillingError")};e.xd=function(){return this.format("teamBillingSignupTryAgain")};e.Ic=function(){return this.format("teamBillingSignupEncryption")};function Xc(a){R.apply(this,arguments)}n(Xc,R);e=Xc.prototype;e.title=function(){return this.format("canva2OptInDialogTitle")};e.vc=function(){return this.format("canva2OptInBetaLabel")};
e.Hb=function(){return this.format("canva2OptInDialogBody1")};e.cc=function(){return this.Ua("canva2OptInDialogBody2Html")};e.Jb=function(){return this.format("canva2OptInDialogConfirmButtonLabel")};e.Mb=function(){return this.format("canva2OptInDialogDismissLinkLabel")};function Yc(a){R.apply(this,arguments)}n(Yc,R);e=Yc.prototype;e.title=function(){return this.format("canva2OptOutDialogTitle")};e.Hb=function(){return this.format("canva2OptOutDialogBody1")};e.yk=function(){return this.format("canva2OptOutDialogBody2")};
e.Kk=function(){return this.format("canva2OptOutDialogFeedbackInputPlaceholder")};e.Jb=function(){return this.format("canva2OptOutDialogConfirmButtonLabel")};e.Mb=function(){return this.format("canva2OptOutDialogDismissLinkLabel")};function Zc(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function $c(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function ad(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}
function bd(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function cd(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function dd(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}function ed(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function fd(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function gd(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionResult for property "'+a+'", found: '+JSON.stringify(b));}}function hd(a){this.rules=a.rules||[];this.version=a.version;this.Zg=a.Zg}hd.prototype.getVersion=function(){return this.version};
function id(a){return{rules:J.da("rules",a.rules.map(jd)),version:K("version",a.version),owner:J.required("owner",kd(a.Zg))}}function ld(a){return new hd({rules:F(md,"rules",a),version:x("version",a),Zg:D(nd,"owner",a)})}function od(a){this.type=a.type;this.eh=a.eh;this.pc=a.pc;this.origin=a.origin;this.timestamp=a.timestamp}od.prototype.Oa=function(){return this.type};
function jd(a){return{type:La(Zc,"type",a.type),principal:N(kd,"principal",a.eh),role:La(ad,"role",a.pc),origin:N(pd,"origin",a.origin),timestamp:I.optional("timestamp",a.timestamp)}}function md(a){return new od({type:H($c,"type",a),eh:E(nd,"principal",a),pc:H(bd,"role",a),origin:E(qd,"origin",a),timestamp:y("timestamp",a)})}function rd(a){this.g=a.g;this.group=a.group;this.user=a.user}rd.prototype.W=function(){return this.g};rd.prototype.oa=function(){return this.user};
function kd(a){return{brand:L("brand",a.g),group:M("group",a.group),user:M("user",a.user)}}function nd(a){return new rd({g:z("brand",a),group:A("group",a),user:A("user",a)})}function sd(a){this.type=a.type;this.id=a.id}sd.prototype.Oa=function(){return this.type};sd.prototype.j=function(){return this.id};function pd(a){return{type:La(cd,"type",a.type),id:M("id",a.id)}}function qd(a){return new sd({type:H(dd,"type",a),id:A("id",a)})}
function td(a){this.default=a.default;this.view=a.view;this.gh=a.gh;this.yg=a.yg}function ud(a){return{"default":M("default",a.default),view:M("view",a.view),remix:M("remix",a.gh),edit:M("edit",a.yg)}}function vd(a){return new td({default:A("default",a),view:A("view",a),gh:A("remix",a),yg:A("edit",a)})}function wd(a){this.type=a.type}
function xd(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:L("id",a.id),version:K("version",a.version)};case "INLINE":return{type:"INLINE",width:K("width",a.width),height:K("height",a.height),units:La(ed,"units",a.units)};default:throw Error();}}
function yd(a){switch(a.type){case "REFERENCE":return r("REFERENCE"===a.type),new zd({id:z("id",a),version:x("version",a)});case "INLINE":return r("INLINE"===a.type),new Ad({width:x("width",a),height:x("height",a),units:H(fd,"units",a)});default:throw Error("unknown case: "+a.type);}}function zd(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}n(zd,wd);zd.prototype.j=function(){return this.id};zd.prototype.getVersion=function(){return this.version};
function Ad(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}n(Ad,wd);function Bd(a){this.id=a.id;this.version=a.version}Bd.prototype.j=function(){return this.id};Bd.prototype.getVersion=function(){return this.version};function Cd(a){return{id:L("id",a.id),version:K("version",a.version)}}function Dd(a){return new Bd({id:z("id",a),version:x("version",a)})}
function Ed(a){this.id=a.id;this.Pa=a.Pa;this.jb=a.jb;this.origin=a.origin;this.Mc=a.Mc;this.tags=a.tags||[];this.hb=a.hb;this.Ec=a.Ec;this.version=a.version;this.timestamp=a.timestamp;this.wd=a.wd;this.Ac=a.Ac||new Map}Ed.prototype.j=function(){return this.id};Ed.prototype.Kd=function(){return this.hb};Ed.prototype.getVersion=function(){return this.version};
function Fd(a){return{id:L("id",a.id),owningBrand:L("owningBrand",a.Pa),creationDate:K("creationDate",a.jb),origin:N(Cd,"origin",a.origin),extensions:N(ud,"extensions",a.Mc),tags:Ha.da("tags",a.tags),acl:N(id,"acl",a.hb),draft:J.required("draft",Gd(a.Ec)),version:K("version",a.version),timestamp:I.optional("timestamp",a.timestamp),trashed:N(Hd,"trashed",a.wd),contributors:Na(Oa,Pa,"contributors",a.Ac)}}
function Id(a){return new Ed({id:z("id",a),Pa:z("owningBrand",a),jb:x("creationDate",a),origin:E(Dd,"origin",a),Mc:E(vd,"extensions",a),tags:w.da("tags",a),hb:E(ld,"acl",a),Ec:D(Jd,"draft",a),version:x("version",a),timestamp:y("timestamp",a),wd:E(Kd,"trashed",a),Ac:Ba(Ca,Da,"contributors",a)})}function Ld(a){this.timestamp=a.timestamp}function Hd(a){return{timestamp:K("timestamp",a.timestamp)}}function Kd(a){return new Ld({timestamp:x("timestamp",a)})}
function Md(a){this.content=a.content;this.md=a.md;this.version=a.version;this.timestamp=a.timestamp;this.ra=a.ra;this.dd=a.dd;this.Kg=a.Kg||[];this.Tc=a.Tc;this.sc=a.sc}Md.prototype.getContent=function(){return this.content};Md.prototype.getVersion=function(){return this.version};Md.prototype.getSession=function(){return this.ra};
function Gd(a){return{content:J.required("content",Nd(a.content)),schema:L("schema",a.md),version:K("version",a.version),timestamp:K("timestamp",a.timestamp),session:I.optional("session",a.ra),pageCount:K("pageCount",a.dd),layouts:J.da("layouts",a.Kg.map(Va)),imageSets:J.required("imageSets",Od(a.Tc)),associatedMedia:M("associatedMedia",a.sc)}}
function Jd(a){return new Md({content:D(Pd,"content",a),md:z("schema",a),version:x("version",a),timestamp:x("timestamp",a),ra:y("session",a),dd:x("pageCount",a),Kg:F(Wa,"layouts",a),Tc:D(Qd,"imageSets",a),sc:A("associatedMedia",a)})}function Rd(a){this.title=a.title;this.description=a.description;this.Wc=a.Wc||[];this.doctype=a.doctype}Rd.prototype.Ob=function(){return this.title};
function Nd(a){return{title:M("title",a.title),description:M("description",a.description),keywords:Ha.da("keywords",a.Wc),doctype:J.required("doctype",xd(a.doctype))}}function Pd(a){return new Rd({title:A("title",a),description:A("description",a),Wc:w.da("keywords",a),doctype:D(yd,"doctype",a)})}function Sd(a){this.Eb=a.Eb;this.dh=a.dh}Sd.prototype.Te=function(){return this.Eb};function Od(a){return{thumbnail:J.required("thumbnail",Td(a.Eb)),preview:N(Td,"preview",a.dh)}}
function Qd(a){return new Sd({Eb:D(Ud,"thumbnail",a),dh:E(Ud,"preview",a)})}function Vd(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}Vd.prototype.getVersion=function(){return this.version};function Td(a){return{height:K("height",a.height),width:K("width",a.width),version:K("version",a.version),images:J.da("images",a.images.map(Wd))}}function Ud(a){return new Vd({height:x("height",a),width:x("width",a),version:x("version",a),images:F(Xd,"images",a)})}
function Yd(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}Yd.prototype.getKey=function(){return this.key};Yd.prototype.va=function(){return this.url};function Wd(a){return{bucket:L("bucket",a.bucket),key:L("key",a.key),page:K("page",a.page),url:M("url",a.url)}}function Xd(a){return new Yd({bucket:z("bucket",a),key:z("key",a),page:x("page",a),url:A("url",a)})}function Zd(a){this.width=a.width;this.height=a.height;this.url=a.url}Zd.prototype.va=function(){return this.url};
function $d(a){return new Zd({width:y("width",a),height:y("height",a),url:z("url",a)})}function ae(a){this.id=a.id;this.version=a.version;this.kk=a.kk}ae.prototype.j=function(){return this.id};ae.prototype.getVersion=function(){return this.version};function be(a){return new ae({id:z("id",a),version:x("version",a),kk:A("usedCharacters",a)})}function ce(a){return{id:L("id",a.id),title:M("title",a.title),colorReplacements:Na(Oa,Ra,"colorReplacements",a.vm)}}
function S(a){this.type=a.type;this.id=a.id;this.version=a.version}S.prototype.j=function(){return this.id};S.prototype.getVersion=function(){return this.version};
function de(a){switch(a.type){case "RASTER":return r("RASTER"===a.type),new ee({id:z("id",a),version:x("version",a),files:F(fe,"files",a)});case "VECTOR":return r("VECTOR"===a.type),new ge({id:z("id",a),version:x("version",a),files:F(fe,"files",a),Db:E(Ya,"spritesheetMetadata",a)});case "DESIGN":return r("DESIGN"===a.type),new he({id:z("id",a),version:x("version",a),files:F(fe,"files",a)});case "FONT":return r("FONT"===a.type),new ie({id:z("id",a),version:x("version",a),files:F(je,"files",a)});case "ELEMENT_GROUP":return r("ELEMENT_GROUP"===
a.type),new ke({id:z("id",a),version:x("version",a),files:F(fe,"files",a)});case "UNKNOWN":return r("UNKNOWN"===a.type),new le({id:z("id",a),version:x("version",a),files:F(me,"files",a)});default:throw Error("unknown case: "+a.type);}}function ee(a){S.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(ee,S);function ge(a){S.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,Db:a.Db});this.files=a.files||[];this.Db=a.Db}n(ge,S);
function he(a){S.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(he,S);function ie(a){S.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(ie,S);function ke(a){S.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(ke,S);function le(a){S.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}n(le,S);
function ne(a){this.url=a.url;this.jk=a.jk;this.width=a.width;this.height=a.height;this.qe=a.qe;this.Qj=a.Qj;this.ce=a.ce}ne.prototype.va=function(){return this.url};function fe(a){return new ne({url:z("url",a),jk:B("urlDenied",a),width:x("width",a),height:x("height",a),qe:B("watermarked",a),Qj:B("spritesheet",a),ce:Aa(Sa,"quality",a)})}function oe(a){this.url=a.url}oe.prototype.va=function(){return this.url};function je(a){return new oe({url:z("url",a)})}
function pe(a){this.url=a.url;this.width=a.width;this.height=a.height;this.qe=a.qe;this.ce=a.ce}pe.prototype.va=function(){return this.url};function me(a){return new pe({url:z("url",a),width:y("width",a),height:y("height",a),qe:C("watermarked",a),ce:Aa(Sa,"quality",a)})}function qe(a){this.query=a.query}function re(a){this.id=a.id;this.bk=a.bk;this.Wb=a.Wb||[];this.Ma=a.Ma}re.prototype.j=function(){return this.id};re.prototype.Xi=function(){return this.Wb};re.prototype.Ia=function(){return this.Ma};
function se(a){return new re({id:z("id",a),bk:x("totalHits",a),Wb:F(te,"results",a),Ma:A("continuation",a)})}function ue(a){this.Jj=a.Jj;this.Fj=a.Fj;this.id=a.id;this.title=a.title;this.description=a.description;this.Pa=a.Pa;this.jb=a.jb;this.wd=a.wd;this.Eb=a.Eb;this.Dc=a.Dc}ue.prototype.j=function(){return this.id};ue.prototype.Ob=function(){return this.title};ue.prototype.Te=function(){return this.Eb};ue.prototype.Fg=function(){return this.Dc};
function te(a){return new ue({Jj:z("searchId",a),Fj:x("rank",a),id:z("id",a),title:z("title",a),description:A("description",a),Pa:z("owningBrand",a),jb:x("creationDate",a),wd:B("trashed",a),Eb:D($d,"thumbnail",a),Dc:z("designTypeDisplayName",a)})};function ve(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function we(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function xe(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function ye(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function ze(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function Ae(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function Be(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function Ce(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.wa=a.wa;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}
function De(a){return new Ce({fontFamily:A("fontFamily",a),fontSize:y("fontSize",a),bold:C("bold",a),italic:C("italic",a),wa:A("justification",a),letterSpacing:y("letterSpacing",a),lineHeight:y("lineHeight",a),color:A("color",a),list:C("list",a)})}function Ee(a){this.title=a.title;this.Uj=a.Uj;this.body=a.body}Ee.prototype.Ob=function(){return this.title};function Fe(a){return new Ee({title:E(De,"title",a),Uj:E(De,"subtitle",a),body:E(De,"body",a)})}
function Ge(a){this.nc=a.nc;this.title=a.title;this.description=a.description;this.Wc=a.Wc||[];this.ci=a.ci;this.wi=a.wi;this.Wa=a.Wa||[];this.doctype=a.doctype;this.ae=a.ae||[]}Ge.prototype.Ob=function(){return this.title};function He(a){return new Ge({nc:z("layout",a),title:A("title",a),description:A("description",a),Wc:w.da("keywords",a),ci:E(Fe,"canvaDefaultFonts",a),wi:E(Fe,"defaultFonts",a),Wa:F(Ie,"pages",a),doctype:D(yd,"doctype",a),ae:w.da("palette",a)})}
function Je(a){this.height=a.height;this.width=a.width;this.Di=a.Di;this.elements=a.elements||[];this.type=a.type;this.nc=a.nc;this.Hj=a.Hj}Je.prototype.Oa=function(){return this.type};function Ie(a){return new Je({height:x("height",a),width:x("width",a),Di:y("dpi",a),elements:F(Ke,"elements",a),type:A("type",a),nc:E(Wa,"layout",a),Hj:E(Le,"resizeContentBox",a)})}
function T(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Y=a.Y;this.rotation=a.rotation;this.link=a.link;this.Z=a.Z;this.index=a.index;this.R=a.R;this.X=a.X;this.origin=a.origin}
function Ke(a){switch(a.type){case "image":return r("image"===a.type),new Me({top:x("top",a),left:x("left",a),height:x("height",a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),filter:E(Oe,"filter",a),ia:A("mediaId",a),ja:y("mediaVersion",a),ha:C("mediaApproved",a),tb:C("isBackground",a),vb:C("isRecolorable",a),ub:C("isCutout",a),Ze:C("isDark",
a),backgroundColor:A("backgroundColor",a),sb:E(Le,"imageBox",a),fa:F(Pe,"fillColors",a)});case "text":return r("text"===a.type),new Qe({top:x("top",a),left:x("left",a),height:x("height",a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),style:A("style",a),html:A("html",a),fontFamily:A("fontFamily",a),fontSize:y("fontSize",a),color:A("color",
a),bold:C("bold",a),italic:C("italic",a),list:C("list",a),nb:E(Wa,"fontMedia",a),qb:F(Wa,"htmlFontMedia",a),wa:A("justification",a),Vf:A("verticalAlignment",a),letterSpacing:y("letterSpacing",a),lineHeight:y("lineHeight",a),wb:xa.da("lineLengths",a),padding:y("padding",a),textTransform:A("textTransform",a),border:E(Re,"border",a),$e:F(Se,"kerning",a),Cf:Aa(ve,"reflowMode",a),Kf:E(Ue,"stylesOverriden",a)});case "svg":return r("svg"===a.type),new Ve({top:x("top",a),left:x("left",a),height:x("height",
a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),ia:A("mediaId",a),ja:y("mediaVersion",a),ha:C("mediaApproved",a),tb:C("isBackground",a),vb:C("isRecolorable",a),ub:C("isCutout",a),contents:F(We,"contents",a),scale:y("scale",a),fa:F(Pe,"fillColors",a),Mf:E(Xe,"svgMetadata",a)});case "graphic":return r("graphic"===a.type),new Ye({top:x("top",
a),left:x("left",a),height:x("height",a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),ia:A("mediaId",a),ja:y("mediaVersion",a),ha:C("mediaApproved",a),scale:y("scale",a),fa:F(Pe,"fillColors",a),Db:E(Ya,"spritesheetMetadata",a)});case "grid":return r("grid"===a.type),new Ze({top:x("top",a),left:x("left",a),height:x("height",a),width:x("width",
a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),spacing:y("spacing",a),items:F($e,"items",a),contents:F(af,"contents",a),fa:F(Pe,"fillColors",a)});case "group":return r("group"===a.type),new bf({top:x("top",a),left:x("left",a),height:x("height",a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",
a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),Ae:xa.da("childRange",a),Qe:Aa(ye,"generatorType",a),ze:E(cf,"chart",a)});case "shape":return r("shape"===a.type),new df({top:x("top",a),left:x("left",a),height:x("height",a),width:x("width",a),Y:y("transparency",a),rotation:y("rotation",a),link:A("link",a),Z:B("userEdited",a),index:y("index",a),R:y("elementIndex",a),X:y("groupIndex",a),origin:E(Ne,"origin",a),w:y("flipOrientation",a),viewBox:E(Le,"viewBox",a),uf:F(ef,"paths",a)});
default:throw Error("unknown case: "+a.type);}}
function Me(a){T.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,filter:a.filter,ia:a.ia,ja:a.ja,ha:a.ha,tb:a.tb,vb:a.vb,ub:a.ub,Ze:a.Ze,backgroundColor:a.backgroundColor,sb:a.sb,fa:a.fa});this.w=a.w;this.filter=a.filter;this.ia=a.ia;this.ja=a.ja;this.ha=a.ha;this.tb=a.tb;this.vb=a.vb;this.ub=a.ub;this.Ze=a.Ze;this.backgroundColor=a.backgroundColor;this.sb=a.sb;this.fa=a.fa||[]}
n(Me,T);
function Qe(a){T.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,nb:a.nb,qb:a.qb,wa:a.wa,Vf:a.Vf,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,wb:a.wb,padding:a.padding,textTransform:a.textTransform,border:a.border,$e:a.$e,Cf:a.Cf,Kf:a.Kf});this.w=a.w;
this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.nb=a.nb;this.qb=a.qb||[];this.wa=a.wa;this.Vf=a.Vf;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.wb=a.wb||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.$e=a.$e||[];this.Cf=a.Cf;this.Kf=a.Kf}n(Qe,T);
function Ve(a){T.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,ia:a.ia,ja:a.ja,ha:a.ha,tb:a.tb,vb:a.vb,ub:a.ub,contents:a.contents,scale:a.scale,fa:a.fa,Mf:a.Mf});this.w=a.w;this.ia=a.ia;this.ja=a.ja;this.ha=a.ha;this.tb=a.tb;this.vb=a.vb;this.ub=a.ub;this.contents=a.contents||[];this.scale=a.scale;this.fa=a.fa||[];this.Mf=a.Mf}n(Ve,T);
function Ye(a){T.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,ia:a.ia,ja:a.ja,ha:a.ha,scale:a.scale,fa:a.fa,Db:a.Db});this.w=a.w;this.ia=a.ia;this.ja=a.ja;this.ha=a.ha;this.scale=a.scale;this.fa=a.fa||[];this.Db=a.Db}n(Ye,T);
function Ze(a){T.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,spacing:a.spacing,items:a.items,contents:a.contents,fa:a.fa});this.w=a.w;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.fa=a.fa||[]}n(Ze,T);
function bf(a){T.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,Ae:a.Ae,Qe:a.Qe,ze:a.ze});this.Ae=a.Ae||[];this.Qe=a.Qe;this.ze=a.ze}n(bf,T);
function df(a){T.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Y:a.Y,rotation:a.rotation,link:a.link,Z:a.Z,index:a.index,R:a.R,X:a.X,origin:a.origin,w:a.w,viewBox:a.viewBox,uf:a.uf});this.w=a.w;this.viewBox=a.viewBox;this.uf=a.uf||[]}n(df,T);function ff(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.wa=a.wa;this.color=a.color}
function Ue(a){return new ff({fontFamily:C("fontFamily",a),fontSize:C("fontSize",a),bold:C("bold",a),italic:C("italic",a),wa:C("justification",a),color:C("color",a)})}function gf(a){this.type=a.type;this.index=a.index;this.origin=a.origin}
function We(a){switch(a.type){case "text":return r("text"===a.type),new hf({index:x("index",a),origin:E(Ne,"origin",a),html:A("html",a),left:x("left",a),top:x("top",a),width:x("width",a),height:x("height",a),fontFamily:A("fontFamily",a),fontSize:y("fontSize",a),italic:C("italic",a),bold:C("bold",a),wa:A("justification",a),list:C("list",a),textTransform:A("textTransform",a),color:A("color",a),wb:xa.da("lineLengths",a),letterSpacing:y("letterSpacing",a),lineHeight:x("lineHeight",a),nb:E(Wa,"fontMedia",
a),qb:F(Wa,"htmlFontMedia",a),xf:y("preferredFontSize",a)});case "image":return af(a);default:throw Error("unknown case: "+a.type);}}
function hf(a){gf.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,wa:a.wa,list:a.list,textTransform:a.textTransform,color:a.color,wb:a.wb,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,nb:a.nb,qb:a.qb,xf:a.xf});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.wa=a.wa;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.wb=a.wb||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.nb=a.nb;this.qb=a.qb||[];this.xf=a.xf}n(hf,gf);
function jf(a){gf.call(this,{type:"IMAGE",index:a.index,origin:a.origin,ia:a.ia,cf:a.cf,ja:a.ja,sb:a.sb,w:a.w,backgroundColor:a.backgroundColor,ha:a.ha,filter:a.filter});this.ia=a.ia;this.cf=a.cf;this.ja=a.ja;this.sb=a.sb;this.w=a.w;this.backgroundColor=a.backgroundColor;this.ha=a.ha;this.filter=a.filter}n(jf,gf);
function af(a){r("image"===a.type);return new jf({index:x("index",a),origin:E(Ne,"origin",a),ia:A("mediaId",a),cf:A("localMediaId",a),ja:y("mediaVersion",a),sb:E(Le,"imageBox",a),w:x("flipOrientation",a),backgroundColor:A("backgroundColor",a),ha:C("mediaApproved",a),filter:E(Oe,"filter",a)})}function kf(a){this.width=a.width}function Re(a){return new kf({width:x("width",a)})}function lf(a){this.wj=a.wj;this.Sh=a.Sh}function Se(a){return new lf({wj:z("pair",a),Sh:x("adjustment",a)})}
function mf(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}mf.prototype.Oa=function(){return this.type};mf.prototype.getChildren=function(){return this.children};function $e(a){return new mf({type:Aa(we,"type",a),width:y("width",a),height:y("height",a),children:F($e,"children",a)})}function nf(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}
function Le(a){return new nf({top:x("top",a),left:x("left",a),width:x("width",a),height:x("height",a)})}function of(a){this.index=a.index;this.color=a.color}function Pe(a){return new of({index:x("index",a),color:z("color",a)})}function pf(a){this.viewBox=a.viewBox;this.Wj=a.Wj||[];this.zj=a.zj||[];this.fi=a.fi;this.Yj=a.Yj}function Xe(a){return new pf({viewBox:D(Le,"viewBox",a),Wj:F(Le,"textHolderBoxes",a),zj:F(Le,"photoHolderBoxes",a),fi:E(Le,"centerBox",a),Yj:C("tile",a)})}
function qf(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.Zj=a.Zj;this.vignette=a.vignette;this.rk=a.rk;this.$j=a.$j;this.name=a.name}qf.prototype.Ui=function(){return this.brightness};qf.prototype.getName=function(){return this.name};
function Oe(a){return new qf({blur:y("blur",a),brightness:y("brightness",a),contrast:y("contrast",a),saturation:y("saturation",a),Zj:y("tint",a),vignette:y("vignette",a),rk:y("xpro",a),$j:y("tintAmount",a),name:A("name",a)})}function rf(a){this.fill=a.fill;this.Oi=a.Oi;this.d=a.d}function ef(a){return new rf({fill:z("fill",a),Oi:Aa(xe,"fillRule",a),d:z("d",a)})}function sf(a){this.name=a.name;this.cells=a.cells||[]}sf.prototype.getName=function(){return this.name};
function tf(a){return new sf({name:A("name",a),cells:w.da("cells",a)})}function uf(a){this.ki=a.ki||[]}function vf(a){return new uf({ki:F(tf,"columns",a)})}function wf(a){this.data=a.data;this.fj=a.fj;this.hj=a.hj;this.gj=a.gj;this.ii=a.ii;this.bj=a.bj;this.ae=a.ae;this.gi=a.gi;this.Aj=a.Aj;this.Wh=a.Wh;this.lj=a.lj;this.Ci=a.Ci}wf.prototype.getData=function(){return this.data};
function cf(a){return new wf({data:D(vf,"data",a),fj:y("labelColumn",a),hj:D(De,"labelTextStyle",a),gj:E(Wa,"labelFontMedia",a),ii:H(Ae,"coloringType",a),bj:E(xf,"interpolation",a),ae:E(yf,"palette",a),gi:H(ze,"chartType",a),Aj:E(zf,"pie",a),Wh:E(Af,"bar",a),lj:E(Bf,"line",a),Ci:E(Cf,"donut",a)})}function Df(a){this.spacing=a.spacing;this.padding=a.padding}function zf(a){return new Df({spacing:y("spacing",a),padding:y("padding",a)})}function Ef(a){this.spacing=a.spacing;this.padding=a.padding}
function Af(a){return new Ef({spacing:y("spacing",a),padding:y("padding",a)})}function Ff(a){this.spacing=a.spacing;this.padding=a.padding}function Bf(a){return new Ff({spacing:y("spacing",a),padding:y("padding",a)})}function Gf(a){this.spacing=a.spacing;this.padding=a.padding}function Cf(a){return new Gf({spacing:y("spacing",a),padding:y("padding",a)})}function Hf(a){this.hi=a.hi;this.from=a.from;this.to=a.to}function xf(a){return new Hf({hi:H(Be,"colorSpace",a),from:z("from",a),to:z("to",a)})}
function If(a){this.ji=a.ji||[]}function yf(a){return new If({ji:w.da("colors",a)})}function Jf(a){this.type=a.type}function Ne(a){switch(a.type){case "CANVA":return r("CANVA"===a.type),new Kf;case "FACEBOOK":return r("FACEBOOK"===a.type),new Lf;case "LAYOUT":return r("LAYOUT"===a.type),new Mf({id:z("id",a),version:x("version",a)});case "DOCUMENT":return r("DOCUMENT"===a.type),new Nf({id:z("id",a),version:x("version",a)});default:throw Error("unknown case: "+a.type);}}
function Kf(){this.type="CANVA"}n(Kf,Jf);function Lf(){this.type="FACEBOOK"}n(Lf,Jf);function Mf(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}n(Mf,Jf);Mf.prototype.j=function(){return this.id};Mf.prototype.getVersion=function(){return this.version};function Nf(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}n(Nf,Jf);Nf.prototype.j=function(){return this.id};Nf.prototype.getVersion=function(){return this.version};function Of(a){this.id=a.id;this.Pa=a.Pa;this.jb=a.jb;this.origin=a.origin;this.Mc=a.Mc;this.tags=a.tags||[];this.hb=a.hb;this.Ec=a.Ec;this.version=a.version;this.timestamp=a.timestamp;this.Ac=a.Ac||new Map}Of.prototype.j=function(){return this.id};Of.prototype.Kd=function(){return this.hb};Of.prototype.getVersion=function(){return this.version};
function Pf(a){return new Of({id:z("id",a),Pa:z("owningBrand",a),jb:x("creationDate",a),origin:E(Dd,"origin",a),Mc:D(vd,"extensions",a),tags:w.da("tags",a),hb:E(ld,"acl",a),Ec:D(Qf,"draft",a),version:x("version",a),timestamp:y("timestamp",a),Ac:Ba(Ca,Da,"contributors",a)})}function Rf(a){this.md=a.md;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.ra=a.ra;this.dd=a.dd;this.media=a.media||[];this.Tc=a.Tc;this.sc=a.sc}Rf.prototype.getContent=function(){return this.content};
Rf.prototype.getVersion=function(){return this.version};Rf.prototype.getSession=function(){return this.ra};function Qf(a){return new Rf({md:z("schema",a),content:D(He,"content",a),version:x("version",a),timestamp:x("timestamp",a),ra:y("session",a),dd:x("pageCount",a),media:F(Wa,"media",a),Tc:D(Qd,"imageSets",a),sc:A("associatedMedia",a)})}function Sf(a){this.document=a.document;this.ra=a.ra}Sf.prototype.getDocument=function(){return this.document};Sf.prototype.getSession=function(){return this.ra};
function Tf(a){return new Sf({document:D(Pf,"document",a),ra:x("session",a)})}function Uf(a){this.document=a.document;this.pj=a.pj||[];this.fonts=a.fonts||[];this.ra=a.ra;this.Ph=a.Ph;this.ni=a.ni;this.oi=a.oi}Uf.prototype.getDocument=function(){return this.document};Uf.prototype.getSession=function(){return this.ra};
function Vf(a){return new Uf({document:D(Pf,"document",a),pj:F(de,"mediaMap",a),fonts:F(be,"fonts",a),ra:y("session",a),Ph:H(bd,"accessRole",a),ni:A("conversionLoss",a),oi:Aa(gd,"conversionResult",a)})};function Wf(){this.remix=this.edit=this.view=this["default"]=null}function Xf(a){this.width=a.width;this.height=a.height;this.url=a.url}function Yf(){}function Zf(a){return Object.freeze(t(Yf,a))}Yf.prototype.getDocument=function(){return $f(this.document)};Yf.prototype.getSession=function(){return this.session};function ag(){}function bg(a){return Object.freeze(t(ag,a))}ag.prototype.getDocument=function(){return $f(this.document)};function cg(){}function dg(a){return Object.freeze(t(cg,a))}
cg.prototype.Xi=function(){return this.results?this.results.map(eg):[]};function fg(){}function eg(a){return Object.freeze(t(fg,a))}fg.prototype.Ob=function(){return this.title};fg.prototype.j=function(){return this.id};fg.prototype.Te=function(){var a=this.thumbnail;return new Xf({width:y("width",a),height:y("height",a),url:z("url",a)})};fg.prototype.Fg=function(){return this.designTypeDisplayName};function gg(){}gg.prototype.j=function(){return this.id};
gg.prototype.Ob=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};gg.prototype.getVersion=function(){var a=this.draft;return a?a.version:-1};function $f(a){var b=new gg;$.extend(b,a);a=a.extensions;var c=new Wf;a&&$.extend(c,a);b.extensions=c;return b};function hg(a){this.identifier=a.identifier;this.ak=a.ak;this.timestamp=a.timestamp;this.type=a.type;this.event=a.event}hg.prototype.Oa=function(){return this.type};function ig(a){return new hg({identifier:z("identifier",a),ak:z("topic",a),timestamp:x("timestamp",a),type:H(jg,"type",a),event:D(kg,"event",a)})}
function jg(a,b){switch(b){case "SOCIAL":return"SOCIAL";case "COMMENT":return"COMMENT";default:throw new TypeError('expected CanvaNotificationType for property "'+a+'", found: '+JSON.stringify(b));}}function lg(a){this.jg=a.jg;this.th=a.th}function kg(a){return new lg({jg:E(mg,"comment",a),th:E(ng,"social",a)})}function og(a){this.type=a.type;this.user=a.user;this.document=a.document}og.prototype.Oa=function(){return this.type};og.prototype.oa=function(){return this.user};
og.prototype.getDocument=function(){return this.document};function mg(a){return new og({type:H(pg,"type",a),user:D(mb,"user",a),document:D(Id,"document",a)})}function pg(a,b){switch(b){case "COMMENT":return"COMMENT";case "REPLY":return"REPLY";case "MENTION":return"MENTION";default:throw new TypeError('expected CommentNotificationEventType for property "'+a+'", found: '+JSON.stringify(b));}}function qg(a){this.type=a.type;this.user=a.user;this.object=a.object}qg.prototype.Oa=function(){return this.type};
qg.prototype.oa=function(){return this.user};function ng(a){return new qg({type:H(rg,"type",a),user:D(mb,"user",a),object:D(sg,"object",a)})}function rg(a,b){switch(b){case "FOLLOW":return"FOLLOW";case "LIKE":return"LIKE";case "PUBLICIFY":return"PUBLICIFY";default:throw new TypeError('expected SocialNotificationEventType for property "'+a+'", found: '+JSON.stringify(b));}}function tg(a){this.type=a.type;this.id=a.id;this.document=a.document;this.user=a.user}tg.prototype.Oa=function(){return this.type};
tg.prototype.j=function(){return this.id};tg.prototype.getDocument=function(){return this.document};tg.prototype.oa=function(){return this.user};function sg(a){return new tg({type:H(ug,"type",a),id:z("id",a),document:E(Id,"document",a),user:E(mb,"user",a)})}function ug(a,b){switch(b){case "DOCUMENT":return"DOCUMENT";case "USER":return"USER";default:throw new TypeError('expected ActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function vg(a){this.user=a.user;this.Fh=a.Fh;this.limit=a.limit;this.Ma=a.Ma}vg.prototype.oa=function(){return this.user};vg.prototype.Oc=function(){return this.limit};vg.prototype.Ia=function(){return this.Ma};function wg(a){this.events=a.events||[];this.read=a.read;this.Ma=a.Ma;this.throttle=a.throttle}wg.prototype.Ia=function(){return this.Ma};function xg(a){return new wg({events:F(ig,"events",a),read:y("read",a),Ma:A("continuation",a),throttle:C("throttle",a)})}
function yg(a){this.user=a.user;this.read=a.read}yg.prototype.oa=function(){return this.user};function zg(a){return{user:M("user",a.user),read:K("read",a.read)}}function Ag(){}function Bg(){return new Ag};function Cg(){}Cg.prototype.now=function(){return Date.now()};var Dg=new Cg;var Fg=new Eg;function Eg(){}e=Eg.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function Gg(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function Hg(a){this.J=a.J;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(Ig(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.we=""}e=Hg.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function Ig(a){switch(a){case Jg:return"modalContentBlurAndDarken";case Kg:return"modalContentDarken";case Lg:return"modalContentClear";case Mg:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.we).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.J.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");Gg(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",Ig(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.we+=c+" ")});$("body").addClass(this.we)}.bind(this))};
var Jg="BLUR_AND_DARKEN",Kg="DARKEN",Lg="CLEAR",Mg="NONE";function Ng(){}Ng=Backbone.View.extend();Ng.prototype.initialize=function(a){a=_.defaults({},a,{ig:!0,content:$(),qh:!0,Hf:!0});this.J=a.J;this.ig=!!a.ig;this.content=a.content;this.ad=new Hg({style:this.Vi(),J:this.J});this.listenTo(this.ad,"maskClick",this.blur);this.result=1;this.qh=!!a.qh;this.Da=!!a.Da;this.Hf=!!a.Hf;this.title=a.Hf?a.title:""};Ng.sk=300;e=Ng.prototype;e.blur=function(){this.ig&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(){this.result=3;this.remove()};e.events=function(){return{"click .close":this.rj,"click .dialogMaskCloseButton":this.rj,"click button.done":this.ok}};e.Vi=function(){return Jg};e.ok=function(){this.result=2;this.remove()};e.rj=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.ad.hide();this.trigger("hide",this.result);this.J.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},Ng.sk);return this};e.render=function(){this.$el.html(this.template({showCloseButton:this.qh,showDialogMaskCloseButton:this.Da,showTitle:this.Hf,title:this.title}));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
function Og(a,b){a.$("h2").text(b);a.title=b}e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.ad.show(this.$el);this.trigger("show",this);Gg(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');
var Pg=Ng;var Qg={LEFT:"left",lm:"leftTop",nm:"top",om:"topLeft",mm:"rightTop"};function Rg(){}Rg=Pg.extend();e=Rg.prototype;e.initialize=function(a){Pg.prototype.initialize.call(this,_.extend({J:Fg},a));this.Bi=a.Bi||"Done";this.rh=void 0!==a.rh?a.rh:!0;this.zd=null;this.Cj=a.position instanceof Array?a.position:[a.position||"top"];this.position=null;this.pa=_.defaults({},a.pa,{left:0,top:0});this.sf=a.sf||!1;this.on("hide",this.vi);this.keydown=this.keydown.bind(this)};
function Sg(a){$(document).on("keydown",a.keydown)}e.Ml=function(){$(document).off("keydown",this.keydown)};e.Vi=function(){return Kg};e.getCurrentPosition=function(){return this.position};
e.render=function(){Pg.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.sf?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.rh&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Bi+"\x3c/button\x3e\x3c/p\x3e");return this};
function Tg(a,b){if(!a.zd){var c=_.debounce(a.ne.bind(a),300);window.addEventListener("resize",c,!1);a.on("remove",function(){window.removeEventListener("resize",c,!1)})}a.show();Sg(a);a.on("remove",a.Ml);Ug(a,b);a.ne()}function Vg(){this.bh=this.ah=this.dialogLeft=this.dialogTop=null}
e.ne=function(){for(var a,b,c=0;c<this.Cj.length;c++){a=b=this.Cj[c];var d=this.sf?5:13,f=this.sf?20:40,g=this.zd,h=g.offset(),p=h.top-$(document).scrollTop(),m=g.outerWidth(),u=g.outerHeight(),v=this.$(".dialog").outerHeight(),G=this.$(".dialog").outerWidth(),aa=this.$el.width(),g=new Vg,ba=Math.round(h.left+m/2-G/2);switch(a){case "top":g.dialogLeft=ba+G+10>aa?aa-G-10:ba;g.dialogLeft+=this.pa.left;g.dialogTop=Math.round(p)+u+d+this.pa.top;a=ba-g.dialogLeft;g.ah="calc(50% - 7px + "+a+"px)";break;
case "topLeft":g.dialogLeft=h.left+G+10>aa?aa-G-10:h.left;g.dialogLeft+=this.pa.left;g.dialogTop=Math.round(p)+u+d+this.pa.top;g.ah=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+m+this.pa.left;g.dialogTop=p-v/2+d+this.pa.top;break;case "leftTop":g.dialogLeft=h.left+m+this.pa.left+d;g.dialogTop=p+u/2-f+this.pa.top;10>g.dialogTop&&(g.bh=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-G+this.pa.left-d,g.dialogTop=p+u/2-f+this.pa.top,10>g.dialogTop&&(g.bh=g.dialogTop-10,
g.dialogTop=10)}d=a=g;f=this.$(".dialog");if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Qg).join(" ")).addClass(b);c.css("left",a.ah||"");c.css("margin-top",a.bh||"");return this};function Ug(a,b){a.vi();a.zd=b;b.addClass("on");b.blur()}e.vi=function(){this.zd&&this.zd.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};var Wg=Rg;function Xg(a,b){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+""+(b?"/"+encodeURIComponent(b):"")};var Yg=new function(){this.tk="undefined"!==typeof window&&1<window.devicePixelRatio;"undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)};function Zg(a){soy.asserts.assertType(goog.isBoolean(a.read)||1===a.read||0===a.read,"read",a.read,"boolean");var b=!!a.read;soy.asserts.assertType(a.url instanceof soydata.SanitizedUri||a.url instanceof soydata.UnsanitizedText||goog.isString(a.url),"url",a.url,"soydata.SanitizedUri");var c=a.url;soy.asserts.assertType(a.rc instanceof soydata.SanitizedUri||a.rc instanceof soydata.UnsanitizedText||goog.isString(a.rc),"actorAvatarUrl",a.rc,"soydata.SanitizedUri");var d=a.rc;soy.asserts.assertType(a.zc instanceof
soydata.SanitizedHtml||a.zc instanceof soydata.UnsanitizedText||goog.isString(a.zc),"contentHtml",a.zc,"soydata.SanitizedHtml");var f=a.zc;soy.asserts.assertType(goog.isNumber(a.timestamp),"timestamp",a.timestamp,"number");a=a.timestamp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"notification '+soy.$$escapeHtmlAttribute(b?"read":"unread")+'"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'"\x3e\x3cimg src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+
'" class\x3d"avatar"\x3e'+soy.$$escapeHtml(f)+' \x3cspan class\x3d"autoformat date" data-timestamp\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')}
function $g(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(goog.isBoolean(a.object)||1===a.object||0===a.object,"object",a.object,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(a.object?"object":"subject")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e")}
function ah(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Af)||a.Af instanceof goog.soy.data.SanitizedContent,"quip",a.Af,"string|goog.soy.data.SanitizedContent");var c=a.Af;soy.asserts.assertType(goog.isString(a.Bb)||a.Bb instanceof goog.soy.data.SanitizedContent,"retryButtonLabel",a.Bb,"string|goog.soy.data.SanitizedContent");
a=a.Bb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"notification empty message"\x3e'+soy.$$escapeHtml(b)+'\x3cbr\x3e\x3cspan class\x3d"aside"\x3e'+soy.$$escapeHtml(c)+'\x3c/span\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/li\x3e")}
function bh(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Bb)||a.Bb instanceof goog.soy.data.SanitizedContent,"retryButtonLabel",a.Bb,"string|goog.soy.data.SanitizedContent");a=a.Bb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"notification error message"\x3e'+soy.$$escapeHtml(b)+'\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/div\x3e")}function ch(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"notification loading message"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/div\x3e")};var dh=new fb({version:0,sizes:new Map([["50",new kb({size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"})],["200",new kb({size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"})]])});function eh(){}eh=Wg.extend({className:"notificationsPopover"});e=eh.prototype;e.events=function(){return{"click .button.retry":this.cl}};e.initialize=function(a){Wg.prototype.initialize.call(this,a);this.rg=a.rg;this.ma=a.ma};e.render=function(){Wg.prototype.render.call(this);this.$("h2, .buttonContainer").remove();this.$(".content").append(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3col class\x3d"notifications"\x3e\x3c/ol\x3e').toString());return this};
function fh(a){gh(a).removeClass("loading");a.$(".loading.message").remove()}
function hh(a,b,c,d){function f(a){var b=moment(a);return 0<moment().diff(a,"years")?b.format("[on] ll"):b.format("[on] MMM D")}function g(a){return a.timestamp>c}function h(a){a:{var b=p,c=!g(a);switch(a.type){case "COMMENT":var d=ta(a.event.jg),f=d.user,h=$f(Fd(d.document));switch(d.type){case "COMMENT":var d=ih(f),m=jh(b,h),d=b.ma.format("notificationPopOverCommented",d,m);break;case "REPLY":d=ih(f);m=jh(b,h);d=b.ma.format("notificationPopOverReplied",d,m);break;case "MENTION":d=ih(f);m=jh(b,h);
d=b.ma.format("notificationPopOverMentioned",d,m);break;default:throw Error("Unknown CommentNotificationEventType: "+d.type);}a=Zg({rc:b.Md(f),read:c,zc:soydata.VERY_UNSAFE.ordainSanitizedHtml(d),timestamp:a.timestamp,url:Xg(h.j(),"view")}).toString();break a;case "SOCIAL":h=ta(a.event.th);f=h.user;switch(h.type){case "FOLLOW":m=ta(h.object.user);m.id===b.rg?(h="/"+encodeURIComponent(f.username||""),d=ih(f),d=b.ma.format("notificationPopOverFollowedMe",d)):(h="/"+encodeURIComponent(m.username||""),
d=ih(f),m=ih(m,!0),d=b.ma.format("notificationPopOverFollowed",d,m));break;case "LIKE":m=$f(Fd(ta(h.object.document)));h=Xg(m.j(),"view");d=ih(f);m=jh(b,m);d=b.ma.format("notificationPopOverLiked",d,m);break;case "PUBLICIFY":m=$f(Fd(ta(h.object.document)));h=Xg(m.j(),"view");d=ih(f);m=jh(b,m);d=b.ma.format("notificationPopOverPublished",d,m);break;default:throw Error("Unknown SocialNotificationEventType: "+h.type);}a=Zg({rc:b.Md(f),read:c,zc:soydata.VERY_UNSAFE.ordainSanitizedHtml(d),timestamp:a.timestamp,
url:h}).toString();break a;default:throw Error("Unknown CanvaNotificationType: "+a.type);}}return a}var p=a,m=b.filter(g).length,u=gh(a);a.$el.toggleClass("loading",d);0<b.length?(u.html(b.map(h).join("")),u.find(".autoformat.date").each(function(){var a=$(this).data("timestamp");$(this).text(f(a))})):d||u.html(ah({message:a.ma.format("notificationPopOverEmptyListMessage"),Af:a.ma.format("notificationPopOverEmptyListQuip"),Bb:a.ma.format("notificationPopOverEmptyListButtonLabel")}).toString());d&&
(0===m?0===b.length?u.before(ch({message:a.ma.format("notificationPopOverLoading")}).toString()):u.before(ch({message:a.ma.format("notificationPopOverLoadingNewer")}).toString()):u.after(ch({message:a.ma.format("notificationPopOverLoadingOlder")}).toString()));kh(a)}e.ne=function(){Wg.prototype.ne.call(this);kh(this);return this};e.cl=function(){this.trigger("retry")};
function kh(a){var b=$(window).height(),c=parseInt(a.$(".dialog.popover").css("top"),10),b=Math.max(50,b-c-30);gh(a).css("max-height",b)}function ih(a,b){return $g({name:a.displayName||a.username||"",object:!!b}).toString()}e.Md=function(a){return a.Yi()||dh.sizes.get("50").url};
function jh(a,b){var c;a=b.Ob()||a.ma.Sf();a=a.trim();if(60>=a.length)c=a;else{void 0===c&&(c="");b=a.substr(0,60-c.length);var d=a.substr(60-c.length).match(/^\S+/),f=b.match(/\S+$/);f&&d&&(b=b.substr(0,b.length-f[0].length));b=b.trim();""===b&&(b=a.substr(0,60-c.length));c=b=b.trim()+c}return $g({name:c,object:!0}).toString()}function gh(a){return a.$(".notifications")}var lh=eh;function mh(){this.xhr=null}mh.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};mh.prototype.finish=function(){this.xhr=null};function nh(a){this.Th=a&&a.analyticsContext||null;this.ag=a&&a.authToken||null;this.bg=a&&a.authzToken||null;this.Yh=a&&a.brandRestriction||null;this.$h=a&&a.buildName||null;this.ai=a&&a.buildSha||null;this.Cc=a&&a.csrfTokens||{};this.nh=a&&a.serverRoot||null;this.Sl=!!this.nh;this.Tl=this.nh?this.nh+"/_ajax":"/_ajax"}
function oh(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}nh.prototype.get=function(a,b){var c=new mh;this.send("GET",a,null,!0,null,c,b);return c};function U(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}nh.prototype.post=function(a,b,c){var d=new mh;ph(this,"POST",a,b,!0,0,d,c);return d};
function V(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,function(a,b){200<=a&&300>a?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function qh(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=l(a),a=b.next().value,b=b.next().value,a=rh(a,b),a.$l=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function ph(a,b,c,d,f,g,h,p){var m=oh(c);if(m in a.Cc){var u=a.Cc[m];a.send(b,c,d,f,u,h,function(v,G){418==v&&1>g?(a.Cc[m]==u&&delete a.Cc[m],ph(a,b,c,d,f,g+1,h,p)):(p&&p(v,G),h.finish())})}else a.send("GET","/csrf"+m,null,f,null,h,function(u,G){200==u?(m in a.Cc||(a.Cc[m]=String(G)),ph(a,b,c,d,f,g,h,p)):(p(u,null),h.finish())})}
nh.prototype.send=function(a,b,c,d,f,g,h){function p(){4==u.readyState&&m()}function m(){var a,b,c;try{a=u.status;var d,f;try{d=u.getResponseHeader("X-Canva-Auth")}catch(m){}try{f=u.getResponseHeader("X-Canva-Authz")}catch(m){}d&&(v.ag="!"!=d?d:null);f&&(v.bg="!"!=f?f:null);b=u.responseText}catch(m){if(m.message&&m.message.match(/c00c023f/))a=0,b="";else throw g.finish(),m;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(m){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.Tl+b;var u=g.xhr=new XMLHttpRequest,v=this;u.open(a,b,d);this.Sl&&(u.withCredentials=!0);"GET"!=a&&f&&u.setRequestHeader("X-Csrf-Token",f);this.Th&&u.setRequestHeader("X-Canva-Analytics",this.Th);this.ag&&u.setRequestHeader("X-Canva-Auth",this.ag);this.bg&&u.setRequestHeader("X-Canva-Authz",this.bg);this.Yh&&u.setRequestHeader("X-Canva-Brand",this.Yh);this.$h&&u.setRequestHeader("X-Canva-Build-Name",
this.$h);this.ai&&u.setRequestHeader("X-Canva-Build-Sha",this.ai);null===c||void 0===c?a=null:(u.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(u.onreadystatechange=p,u.send(a)):(u.send(a),m())};function sh(a){this.message=a||"HTTP error encountered";this.response=a;this.$l=null}n(sh,Error);
function rh(a,b){switch(b){case 400:return new th(a);case 403:return new uh(a);case 404:return new vh(a);case 409:return new wh(a);case 418:return new xh;case 429:return new yh(a);case 500:return new zh(a);default:return new Ah(a)}}function W(a){sh.apply(this,arguments)}n(W,sh);function Bh(a){sh.apply(this,arguments)}n(Bh,sh);function th(a){W.apply(this,arguments)}n(th,W);function uh(a){W.apply(this,arguments)}n(uh,W);function vh(a){W.apply(this,arguments)}n(vh,W);
function wh(a){W.apply(this,arguments)}n(wh,W);function yh(a){W.apply(this,arguments)}n(yh,W);function zh(a){Bh.apply(this,arguments)}n(zh,Bh);function xh(){W.call(this,"CSRF token expired")}n(xh,W);function Ah(a){sh.apply(this,arguments)}n(Ah,sh);function Ch(a){this.u=a;this.path="/notifications"}function Dh(a,b){var c=b.Ma;return U(a.u,a.path+"/user?limit\x3d"+encodeURIComponent(String(b.limit))+(b.Fh?"\x26unreadOnly\x3dtrue":"")+(c?"\x26continuation\x3d"+encodeURIComponent(c):"")).get(0).then(za).then(xg)}function Eh(a,b){return V(a.u,a.path+"/user",zg(b)).get(0).then(za).then(Bg)};function Fh(a){this.l=a.l;this.$a=[];this.mg=a.mg;this.ff=a.ff;this.button=a.vk;this.vf=this.Ub=null;this.wf=a.wf;this.Od=this.Ud=this.Sd=this.Bh=null}e=Fh.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;function Gh(a){a.button.on("click",function(b){b.preventDefault();a.show();ic(a.l,"notification_bell","homepage","sidebar","sidebar")})}
e.update=function(a){var b=this,c=new vg({limit:10,Fh:!a});this.Od&&this.Od.isPending()&&this.Od.cancel();return this.Od=Dh(this.ff,c).then(function(c){Hh(b,c.events);b.Sd=c.read||null;var f=Ih(b),g=10===f;b.Ud=0===b.$a.length?null:b.$a[0].timestamp;c=c.throttle;var h=b.Ub;!0===c?h=Math.min(2*b.Ub,216E5):!1===c&&(h=Math.max(b.Ub-1E3,6E4));null!==h&&h!=b.Ub&&Jh(b,h);b.trigger("updateUnreadCount",f,g);a&&(b.Bh=Date.now())}).catch(function(a){return 403===a[1]},function(){window.clearInterval(b.vf)}).catch(P.CancellationError,
$.noop)};
e.show=function(){function a(){h.$(".button.retry").prop("disabled",!0);g.update(!0).then(d).catch(c)}function b(){a();ic(g.l,"check_notifications","homepage","sidebar","notifications_popover")}function c(){if(h){var a=h;gh(a).html(bh({message:a.ma.format("notificationPopOverErrorMessage"),Bb:a.ma.format("notificationPopOverRetryAfterErrorButtonLabel")}).toString());fh(a)}}function d(a){h&&(fh(h),hh(h,g.$a,g.Sd,!!a),Kh(g))}function f(){h=null;g.trigger("updateUnreadCount",0,!1);Lh(g)}var g=this,h=
function(){var a=g.mg();a.once("remove",f);a.on("retry",b);Tg(a,g.wf?g.wf:g.button);return a}(),p=function(){var a=Ih(g);if(a=!(0<a&&0<g.$a.length-a))a=g,a=6E4<(null==a.Bh?Infinity:Date.now()-a.Bh);return a}();d(p);p&&a();window.clearInterval(g.vf)};function Lh(a){function b(){c.update(!1).catch($.noop)}var c=a;a.Ub&&(a.vf=window.setInterval(b,a.Ub))}function Jh(a,b){b!==a.Ub&&(window.clearInterval(a.vf),a.Ub=b,Lh(a))}
function Ih(a){return a.$a.filter(function(b){return b.timestamp>a.Sd}).length}function Kh(a){null!=a.Ud&&a.Ud!=a.Sd&&Eh(a.ff,new yg({read:a.Ud})).then(function(){a.Sd=a.Ud})}function Hh(a,b){a.$a=_.uniq(a.$a.concat(b),!1,function(a){return a.identifier+a.type});a.$a.sort(function(a,b){return b.timestamp-a.timestamp});10<a.$a.length&&(a.$a.length=10)};function Mh(a){this.u=a;this.path="/profile"}Mh.prototype.oa=P.method(function(a){return U(this.u,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Gb)});function Nh(a){return U(a.u,a.path+"/user/brands").spread(function(a){return a.brands.map(Eb)})}function Oh(a,b){return V(a.u,a.path+"/users/"+encodeURIComponent(b.user),b).get(0).then(Nb)}Mh.prototype.W=function(a){return U(this.u,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Eb)};
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.W())+"/invitations?create\x3dtrue";return V(this.u,b,sb(a)).spread(ub)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.W())+"/invitations";return V(this.u,b,a).spread(Pb)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.W())+"/invitations?"+(null!=a.Ia()?"\x26continuation\x3d"+encodeURIComponent(a.Ia()):"")+(null!=a.Oc()?"\x26limit\x3d"+encodeURIComponent(a.Oc()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.Nk()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.Nk()):"");return U(this.u,a).spread(Rb)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.W())+"/invitations?update\x3dtrue";return V(this.u,b,vb(a)).spread(xb)});
Mh.prototype.Lk=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.W())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Ia()?"\x26continuation\x3d"+encodeURIComponent(a.Ia()):"")+(null!=a.Oc()?"\x26limit\x3d"+encodeURIComponent(a.Oc()):"")+(null!=a.users?"\x26users\x3d"+encodeURIComponent(a.users.join(",")):
"");return U(this.u,a).spread(Xb)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.W())+"/members";return V(this.u,b,zb(a)).spread(Bb)});function Ph(a){this.Ig=a.Ig;this.ca=a.ca;this.Ji=a.Ji}Ph.prototype.create=function(a){return V(this.Ig,"/teams",{displayName:a}).spread(function(a){return Eb(a.brand)})};function Qh(a){this.id=a.id;this.Pa=a.Pa;this.di=a.di;this.af=a.af;this.Ha=a.Ha;this.Ki=a.Ki;this.Li=a.Li;this.ya=a.ya}Qh.prototype.j=function(){return this.id};Qh.prototype.Dg=function(){return this.Ha};function Rh(a){return new Qh({id:A("id",a),Pa:A("owningBrand",a),di:z("cardBrand",a),af:z("last4",a),Ha:A("country",a),Ki:x("expMonth",a),Li:x("expYear",a),ya:E(Sh,"billingAddress",a)})}function Th(a){this.aa=a.aa;this.Rh=a.Rh;this.xi=a.xi}
function Uh(a){return new Th({aa:D(Rh,"card",a),Rh:y("addedDate",a),xi:y("deletedDate",a)})}function Vh(a){this.Lg=a.Lg;this.Mg=a.Mg;this.Ng=a.Ng;this.ec=a.ec;this.vd=a.vd;this.K=a.K;this.gd=a.gd}function Wh(a){return{line1:M("line1",a.Lg),line2:M("line2",a.Mg),line3:M("line3",a.Ng),city:M("city",a.ec),subdivision:M("subdivision",a.vd),countryCode:L("countryCode",a.K),postcode:M("postcode",a.gd)}}
function Sh(a){return new Vh({Lg:A("line1",a),Mg:A("line2",a),Ng:A("line3",a),ec:A("city",a),vd:A("subdivision",a),K:z("countryCode",a),gd:A("postcode",a)})}function Xh(a){this.id=a.id;this.g=a.g;this.Ea=a.Ea;this.Sj=a.Sj;this.oj=a.oj;this.Gd=a.Gd;this.yi=a.yi;this.Vh=a.Vh||[];this.Ej=a.Ej||[]}Xh.prototype.j=function(){return this.id};Xh.prototype.W=function(){return this.g};
function Yh(a){var b=z("id",a),c=z("brand",a),d=B("stripe",a),f=A("stripeKey",a),g=x("marketplaceCreditBalance",a),h=E(Rh,"defaultCreditCard",a),p=B("delinquent",a),m=F(Uh,"archivedCards",a);a=w.da("purchaseRoles",a);a=null!=a?a.map(bb.bind(null,"purchaseRoles")):a;return new Xh({id:b,g:c,Ea:d,Sj:f,oj:g,Gd:h,yi:p,Vh:m,Ej:a})}function Zh(a){this.g=a.g;this.ya=a.ya;this.uh=a.uh;this.ie=a.ie;this.Rj=a.Rj;this.hh=a.hh}Zh.prototype.W=function(){return this.g};
function $h(a){return{brand:M("brand",a.g),billingAddress:N(Wh,"billingAddress",a.ya),stripeToken:M("stripeToken",a.uh),stripeCardId:M("stripeCardId",a.ie),stripeCustomerId:M("stripeCustomerId",a.Rj),replaceDefault:Ja("replaceDefault",a.hh)}}function ai(a){this.Cd=a.Cd;this.Uh=a.Uh;this.li=a.li;this.mi=a.mi;this.ya=a.ya;this.ie=a.ie;this.ei=a.ei;this.Mi=a.Mi}ai.prototype.Re=function(){return this.Cd};
function bi(a){return{creditCard:L("creditCard",a.Cd),archiveCard:Ia.optional("archiveCard",a.Uh),confirmAddition:Ia.optional("confirmAddition",a.li),confirmRemoval:Ia.optional("confirmRemoval",a.mi),billingAddress:N(Wh,"billingAddress",a.ya),stripeCardId:M("stripeCardId",a.ie),cardIssuerUpdate:N(ci,"cardIssuerUpdate",a.ei),externalOrigin:Ma(di,"externalOrigin",a.Mi)}}
function di(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function ci(a){return{last4:M("last4",a.af),fingerprint:M("fingerprint",a.ym),expiryMonth:I.optional("expiryMonth",a.Kc),expiryYear:I.optional("expiryYear",a.Lc),brand:M("brand",a.g),date:K("date",a.date)}}
function ei(a){this.media=a.media;this.version=a.version;this.title=a.title;this.g=a.g;this.nc=a.nc;this.Sk=a.Sk;this.Ck=a.Ck;this.dm=a.dm;this.Ab=a.Ab;this.Uk=a.Uk;this.Ul=a.Ul;this.Tk=a.Tk;this.document=a.document;this.Gk=a.Gk;this.user=a.user}e=ei.prototype;e.getVersion=function(){return this.version};e.Ob=function(){return this.title};e.W=function(){return this.g};e.getDocument=function(){return this.document};e.oa=function(){return this.user};
function fi(a){this.id=a.id;this.Tb=a.Tb;this.g=a.g;this.status=a.status;this.de=a.de;this.ck=a.ck;this.$d=a.$d;this.yj=a.yj;this.xj=a.xj;this.Xh=a.Xh;this.Ii=a.Ii}fi.prototype.j=function(){return this.id};fi.prototype.W=function(){return this.g};
function gi(a){return new fi({id:z("id",a),Tb:D(hi,"plan",a),g:z("brand",a),status:H(ii,"status",a),de:x("quantity",a),ck:y("trialEnd",a),$d:y("paidUntil",a),yj:y("periodStart",a),xj:y("periodEnd",a),Xh:B("billed",a),Ii:B("eligibleForMediaDiscounts",a)})}
function ji(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function ii(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function ki(a){this.id=a.id;this.displayName=a.displayName;this.kj=a.kj;this.lk=a.lk;this.Ya=a.Ya;this.Ni=a.Ni;this.xa=a.xa;this.Ra=a.Ra;this.Ab=a.Ab}ki.prototype.j=function(){return this.id};ki.prototype.Ja=function(){return this.displayName};
function hi(a){return new ki({id:z("id",a),displayName:z("displayName",a),kj:B("legacy",a),lk:B("userLocked",a),Ya:H(li,"tier",a),Ni:A("featureBundle",a),xa:x("trialPeriodDays",a),Ra:H(mi,"billingInterval",a),Ab:x("price",a)})}function mi(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function li(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function ri(a){this.g=a.g;this.ti=a.ti;this.Tb=a.Tb;this.xa=a.xa;this.ri=a.ri;this.ek=a.ek;this.$d=a.$d;this.status=a.status;this.de=a.de;this.Dj=a.Dj}ri.prototype.W=function(){return this.g};
function si(a){return{brand:L("brand",a.g),currentVersion:I.optional("currentVersion",a.ti),plan:M("plan",a.Tb),trialPeriodDays:I.optional("trialPeriodDays",a.xa),coupon:M("coupon",a.ri),unbilled:Ia.optional("unbilled",a.ek),paidUntil:I.optional("paidUntil",a.$d),status:Ma(ji,"status",a.status),quantity:I.optional("quantity",a.de),prorate:Ia.optional("prorate",a.Dj)}}function ti(a){this.qc=a.qc}ti.prototype.getSubscription=function(){return this.qc};
function ui(a){return new ti({qc:D(gi,"subscription",a)})}function vi(a){this.qc=a.qc}vi.prototype.getSubscription=function(){return this.qc};function wi(a){return new vi({qc:D(gi,"subscription",a)})};function xi(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var f=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(f?' id\x3d"'+soy.$$escapeHtmlAttribute(f)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");f=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var p=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;f=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(f?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(p)+"\x3c/option\x3e");d+=f}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function yi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+zi(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+zi(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function zi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var p=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var m=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var u=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var v=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(v?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(p?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(p)+'"':"")+("textarea"!=m?' type\x3d"'+soy.$$escapeHtmlAttribute(null==u?"text":u)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function Ai(a){soy.asserts.assertType(goog.isString(a.ab)||a.ab instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.ab,"string|goog.soy.data.SanitizedContent");var b=a.ab;soy.asserts.assertType(goog.isString(a.bb)||a.bb instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.bb,"string|goog.soy.data.SanitizedContent");var c=a.bb;soy.asserts.assertType(goog.isString(a.fb)||a.fb instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.fb,"string|goog.soy.data.SanitizedContent");
var d=a.fb;soy.asserts.assertType(goog.isString(a.gb)||a.gb instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.gb,"string|goog.soy.data.SanitizedContent");a=a.gb;return soydata.VERY_UNSAFE.ordainSanitizedHtml(yi({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
yi({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+yi({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+yi({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Bi(a){soy.asserts.assertType(goog.isString(a.Gb)||a.Gb instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Gb,"string|goog.soy.data.SanitizedContent");var b=a.Gb,c=goog.asserts.assertArray(a.pi,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Tj,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+xi({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?xi({id:"region",options:a}):"")+yi({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};function Ci(a){switch(a){case "US":return new Map(Di);case "AU":return new Map(Ei);case "MX":return new Map(Fi);case "CA":return new Map(Gi);case "BR":return new Map(Hi);case "IN":return new Map(Ii);default:return new Map}}
var Di=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),Ei=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Fi=new Map([["MX-CMX","Ciudad de Mxico"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de Mxico"],["MX-MIC","Michoacn"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo Len"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Quertaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potos"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatn"],["MX-ZAC","Zacatecas"]]),Gi=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Hi=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amap"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Cear"],["BR-DF","Distrito Federal"],["BR-ES","Esprito Santo"],["BR-GO","Gois"],["BR-MA","Maranho"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paran"],["BR-PB","Paraba"],["BR-PA","Par"],["BR-PE","Pernambuco"],
["BR-PI","Piau"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondnia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","So Paulo"],["BR-TO","Tocantins"]]),Ii=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function Ji(a,b){a=[].concat(la(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.mh,text:a[1],value:a[0]}});return null!=b.Ca?[].concat([{selected:!b.mh,text:b.Ca,value:b.$g}],la(a)):a}
function Ki(a){var b=new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]]);a.Dk&&(b=Array.from(b.entries()).filter(function(b){b=
l(b).next().value;return a.Dk.has(b)}),b=new Map(b));return Ji(b,{Ca:a.Ca,$g:"ZZ",mh:a.Hm})}function Li(a){var b=Ci(a.K);r(!a.lh||b.has(a.lh),'"{}" is not a valid subdivision code of the country "{}".',a.lh,a.K);return Ji(b,{Ca:a.Ca,$g:a.$g,mh:a.lh})};var Mi=new Q("jv",!1);function Ni(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Hc=this.Gc=!1;this.D=a.D;this.xe=a.xe;this.G=a.G?a.G:mc();this.l=a.l}n(Ni,Backbone.View);e=Ni.prototype;e.events=function(){return{"input #ccNumber":this.Xk,"keydown #expMonth":this.wl,"input #expMonth":this.vl,input:this.Zd,"keydown input":this.ul,"focus input:not([readonly])":this.sl,"blur input":this.Vk,"change #country":this.dl,"change #region":this.zl,"change #zipcode":this.Gl}};
e.Re=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",kb:this.$("#cvc").val().trim(),Kc:this.$("#expMonth").val().trim(),Lc:this.$("#expYear").val().trim(),yb:this.$("#ccNumber").val().trim(),Ha:this.$("#country").val()?this.$("#country").val().trim():void 0,jd:this.$("#region").val()?this.$("#region").val().trim():void 0,ue:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.kb.length||a.Kc.length||a.Lc.length||a.yb.length||a.Ha.length||
a.jd.length||a.ue.length?a:null};e.Zb=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder",""+a.af);this.$("#expMonth").val("").attr("placeholder","");this.$("#expYear").val("").attr("placeholder","");this.$("#cvc").val("").attr("placeholder","");a.ya&&(this.$("#country").val(a.ya.K).change(),this.$("#region").val(a.ya.vd),this.$("#zipcode").val(a.ya.gd));this.Hc=this.Gc=!1;this.$("#ccNumber").removeAttr("autofocus")};
e.Ff=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
e.render=function(){var a;a={Bc:this.D.Bc(),wc:this.D.wc(),ab:this.D.ab(),fb:this.D.fb(),gb:this.D.gb(),bb:this.D.bb(),Gb:this.D.Gb(),pi:Ki({Ca:this.D.format("creditCardCountryPlaceholder")}),Tj:Li({Ca:Lc(this.D),K:"ZZ"}),fe:this.G.get(Mi)};soy.asserts.assertType(goog.isString(a.Bc)||a.Bc instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Bc,"string|goog.soy.data.SanitizedContent");var b=a.Bc;soy.asserts.assertType(goog.isString(a.wc)||a.wc instanceof goog.soy.data.SanitizedContent,"billingAddressLabel",
a.wc,"string|goog.soy.data.SanitizedContent");var c=a.wc;soy.asserts.assertType(goog.isString(a.ab)||a.ab instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.ab,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.bb)||a.bb instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.bb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.fb)||a.fb instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.fb,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.gb)||a.gb instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.gb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gb)||a.Gb instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Gb,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.pi,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");goog.asserts.assertArray(a.Tj,
"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.fe)||1===a.fe||0===a.fe,"showBillingAddressFields",a.fe,"boolean");var d=!!a.fe;soy.asserts.assertType(null==a.Ie||a.Ie instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ie),"creditCardId",a.Ie,"null|string|undefined");var f=a.Ie;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(f)+'"/\x3e'+Ai(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Bi(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());Oi(this);return this};
function Oi(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.xe&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}e.Zd=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Gc=!0,this.trigger("input"))};e.ul=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
e.sl=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.D.ab()),this.$("#expMonth").attr("placeholder",this.D.fb()),this.$("#expYear").attr("placeholder",this.D.gb()),this.$("#cvc").attr("placeholder",this.D.bb()))};e.Vk=function(){this.$el.removeClass("focused")};
e.Xk=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
e.dl=function(a){a=Li({Ca:Lc(this.D),K:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=$(xi({options:a,
id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Hc=!0;jc(this.l,O(new kc("credit_card_country_changed"),"location","billing_admin_card_dialog"))};e.zl=function(){this.Hc=!0};e.Gl=function(){this.Hc=!0};
e.wl=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),f=String.fromCharCode(a.which);""===c&&f.match(/[2-9]/)?(a.preventDefault(),b.val("0"+f),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};e.vl=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function X(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}X.prototype=Object.create(Error.prototype);X.prototype.constructor=X;
function Pi(a){switch(a){case "card_declined":return new Qi;case "expired_card":return new Ri;case "incorrect_cvc":return new Si;case "incorrect_number":return new Ti;case "invalid_cvc":return new Ui;case "invalid_expiry_month":return new Vi;case "invalid_expiry_year":return new Wi;case "invalid_number":return new Xi;case "missing":return new Yi;case "processing_error":return new Zi;default:return new $i(a)}}function Qi(){X.call(this,"credit card declined")}Qi.prototype=Object.create(X.prototype);
Qi.prototype.constructor=Qi;function Ri(){X.call(this,"credit card expired")}Ri.prototype=Object.create(X.prototype);Ri.prototype.constructor=Ri;function Si(){X.call(this,"credit card cvc incorrect")}Si.prototype=Object.create(X.prototype);Si.prototype.constructor=Si;function Ti(){X.call(this,"credit card number incorrect")}Ti.prototype=Object.create(X.prototype);Ti.prototype.constructor=Ti;function Ui(){X.call(this,"credit card cvc invalid")}Ui.prototype=Object.create(X.prototype);
Ui.prototype.constructor=Ui;function Vi(){X.call(this,"credit card expiry month invalid")}Vi.prototype=Object.create(X.prototype);Vi.prototype.constructor=Vi;function Wi(){X.call(this,"credit card expiry year invalid")}Wi.prototype=Object.create(X.prototype);Wi.prototype.constructor=Wi;function Xi(){X.call(this,"credit card number invalid")}Xi.prototype=Object.create(X.prototype);Xi.prototype.constructor=Xi;function aj(){X.call(this,"credit card country invalid")}aj.prototype=Object.create(X.prototype);
aj.prototype.constructor=aj;function bj(){X.call(this,"credit card region invalid")}bj.prototype=Object.create(X.prototype);bj.prototype.constructor=bj;function cj(){X.call(this,"credit card zipcode invalid")}cj.prototype=Object.create(X.prototype);cj.prototype.constructor=cj;function Yi(){X.call(this,"credit card missing but required")}Yi.prototype=Object.create(X.prototype);Yi.prototype.constructor=Yi;function Zi(){X.call(this,"credit card processing error")}Zi.prototype=Object.create(X.prototype);
Zi.prototype.constructor=Zi;function $i(a){X.call(this,"unknown credit card processing error "+a);this.errorCode=a}$i.prototype=Object.create(X.prototype);$i.prototype.constructor=$i;function dj(){X.call(this,"no credit card entered")}dj.prototype=Object.create(X.prototype);dj.prototype.constructor=dj;function ej(a){ei.call(this,a)}ej.prototype=Object.create(ei.prototype);ej.prototype.constructor=ej;function fj(a){this.u=a}e=fj.prototype;e.Ve=function(a){throw Pi(a.response.errorKey);};e.aj=function(a){if(a.error)throw new X(a.error.message);return a};e.Ye=function(a){return a instanceof sh&&"CreditCardInvalid"===a.response.errorType};e.Gh=function(a){return V(this.u,"/billing/creditcards/"+a.Cd,bi(a)).catch(qh).get(0).then(this.aj).catch(this.Ye,this.Ve)};
e.getSubscription=function(a){return U(this.u,a.g?"/billing/brands/"+a.g+"/subscription?excludeStandard\x3d"+(a.xm?"true":"false"):"/billing/subscriptions/"+a.id).catch(qh).get(0).then(wi)};function gj(){var a=window.stripeConfig;switch(a.impl){case "local":return new hj;case "stripe":return new ij(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function hj(){}hj.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.zg,expYear:a.Ag,last4:a.yb.slice(-4)})});function ij(a,b){(this.Ea=b)&&this.Ea.setPublishableKey(a)}
ij.prototype.createToken=function(a){return new P(function(b,c){if(!this.Ea)throw Error("Stripe API is unavailable");a={cvc:a.kb,exp_month:a.zg,exp_year:a.Ag,number:a.yb};this.Ea.createToken(a,function(a,f){if(f.error){var g;try{g=f.error.code||""}catch(h){g=""}c(Pi(g))}else b(f.id)})}.bind(this))};var jj=new Q("jv",!1),kj=["BR","CA","US"];function lj(a){this.ac=a.ac;this.g=a.g;this.aa=a.aa||void 0;this.Fc=a.Fc;this.Ea=a.Ea;this.view=a.view;this.listenTo(this.view,"input",this.Zd);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.G=a.G?a.G:mc();this.D=a.D}e=lj.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.refresh=function(){this.view.render();this.view.Ff(this.Fc);this.aa&&this.view.Zb(this.aa);return this};e.remove=function(){this.stopListening();this.view.remove()};e.Zb=function(a){this.aa=a;this.view.Zb(a);return this};e.Ff=function(a){this.Fc=a;this.view.Ff(a);return this};P.method(function(a){function b(a){return a.Gd}return!this.aa||this.view.Gc||a?(a=this.view.Re(),mj(a),this.fm(a).then(b).tap(this.Zb.bind(this))):this.aa});e=lj.prototype;
e.Ok=P.method(function(a){if(this.aa&&!this.view.Gc&&!a&&!this.view.Hc)return this.aa;a=this.view.Re();if(this.view.Hc&&!this.view.Gc)return nj(this,a),this.em(a);mj(a);nj(this,a);return this.Gh(a).tap(this.Zb.bind(this))});e.Zd=function(){this.aa&&!this.view.Re()&&this.Zb(this.aa);this.trigger("input",this.view.Gc)};
e.fm=P.method(function(a){var b=this;return this.Ea.createToken({kb:a.kb,zg:a.Kc,Ag:a.Lc,yb:a.yb}).then(function(a){var d=b.ac,f=b.g;return V(d.u,"/billing/brands/"+encodeURIComponent(f)+"/account",{brand:f,stripeToken:a}).catch(qh).get(0).get("account").then(Yh).catch(d.Ye,d.Ve)})});
e.Gh=P.method(function(a){var b=this;return this.Ea.createToken({kb:a.kb,zg:a.Kc,Ag:a.Lc,yb:a.yb,rm:a.Ha,sm:a.jd,tm:a.ue}).then(function(c){var d=b.ac;return V(d.u,"/billing/creditcards",$h(new Zh({g:b.g,uh:c,ya:a.Ha?new Vh({vd:a.jd,K:a.Ha,gd:a.ue}):void 0,hh:!0}))).catch(qh).get(0).then(d.aj).get("creditCard").then(Rh).catch(d.Ye,d.Ve)})});e.em=P.method(function(a){return this.ac.Gh(new ai({Cd:a.id,ya:new Vh({vd:a.jd,K:a.Ha,gd:a.ue})}))});
function mj(a){if(!a)throw new dj;if(!(a.kb&&3<=a.kb.length&&4>=a.kb.length))throw new Ui;if(!function(){var b=a.Kc&&parseInt(a.Kc,10);return b&&1<=b&&12>=b}())throw new Vi;if(!a.Lc||!parseInt(a.Lc,10))throw new Wi;if(!function(){var b=a.yb&&a.yb.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new Xi;}
function nj(a,b){if(a.G.get(jj)&&(!b.Ha||"ZZ"==b.Ha))throw new aj;var c;if(c=a.G.get(jj))c=Lc(a.D),c=!(-1<kj.indexOf(b.Ha)?b.jd&&b.jd!=c:1);if(c)throw new bj;if(a.G.get(jj)&&-1<kj.indexOf(b.Ha)&&!b.ue)throw new cj;};function oj(a,b){if(b instanceof Qi)return a.format("creditCardDeclined");if(b instanceof Ri)return a.format("creditCardExpired");if(b instanceof Si)return a.format("creditCardCvcIncorrect");if(b instanceof Ti)return a.format("creditCardNumberIncorrect");if(b instanceof Ui)return a.format("creditCardCvcIncorrect");if(b instanceof Vi)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof Wi)return a.format("creditCardExpiryYearIncorrect");if(b instanceof Xi)return a.format("creditCardNumberIncorrect");
if(b instanceof Yi)return a.format("creditCardMissingButRequired");if(b instanceof Zi)return a.format("creditCardProcessingError");if(b instanceof $i)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof dj)return a.format("creditCardNoCardEntered");if(b instanceof aj)return a.format("creditCardNoCountryEntered");if(b instanceof bj)return a.format("creditCardNoRegionEntered");if(b instanceof cj)return a.format("creditCardNoZipcodeEntered");if(b instanceof X&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function pj(a){return("YEARLY"===a.Ra?1:12)*a.Ab}function qj(){this.zf=window.pricingPlans};function rj(a){this.plan=a.Tb;this.title=a.title;this.pricePerMonthText=a.Il;this.summaryText=a.bm;this.billingCycleText=a.xk}
function sj(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return pj(b)-pj(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.Ra)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.Ra)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.Ab/("YEARLY"===a.Ra?12:1)*100)/100,"MONTHLY"),p;p="YEARLY"===a.Ra?b.format("canvaForWorkUpgradePlanPercentSaving",((pj(d)-pj(a))/pj(d)*100).toFixed(0)/100):c(pj(a),"YEARLY");return new rj({Tb:a,title:g,Il:h,bm:p,xk:"YEARLY"===a.Ra?b.format("canvaForWorkUpgradePlanBilledYearly",a.Ab):""})})};function tj(){}tj=Backbone.View.extend({className:"priceOptions",tagName:"ul"});e=tj.prototype;e.initialize=function(a){this.Vb=a.Vb};e.events=function(){return{click:this.Ak}};e.render=function(){this.$el.html(this.Vb.map(this.Jl).join(""));return this};e.Ak=function(a){a=$(a.target).closest("li");uj(this,a.index())};
function uj(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.Vb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Vb[b].plan))}e.Ef=function(){function a(a){switch(a.Ra){case "MONTHLY":return a.Ab;case "YEARLY":return pj(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Vb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Vb.indexOf(b[0]);uj(this,b)};
e.ph=function(a){this.Vb=a;this.render();this.Ef()};e.Jl=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');
var vj=tj;function wj(a){soy.asserts.assertType(goog.isString(a.xc)||a.xc instanceof goog.soy.data.SanitizedContent,"billingError",a.xc,"string|goog.soy.data.SanitizedContent");var b=a.xc;soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,"tryAgain",a.xd,"string|goog.soy.data.SanitizedContent");a=a.xd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function xj(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.Ee)||a.Ee instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.Ee,"string|goog.soy.data.SanitizedContent");var c=a.Ee;soy.asserts.assertType(goog.isString(a.Fe)||a.Fe instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.Fe,"string|goog.soy.data.SanitizedContent");
var d=a.Fe;soy.asserts.assertType(goog.isString(a.Ge)||a.Ge instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.Ge,"string|goog.soy.data.SanitizedContent");var f=a.Ge;soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"startTrial",a.ud,"string|goog.soy.data.SanitizedContent");var g=a.ud;soy.asserts.assertType(goog.isString(a.ld)||a.ld instanceof goog.soy.data.SanitizedContent,"revertCard",a.ld,"string|goog.soy.data.SanitizedContent");var h=
a.ld;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"encryption",a.Ic,"string|goog.soy.data.SanitizedContent");var p=a.Ic;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var m=!!a.compact;soy.asserts.assertType(goog.isString(a.Vc)||a.Vc instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Vc,"string|goog.soy.data.SanitizedContent");a=a.Vc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(f)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/p\x3e\x3c/div\x3e"+(m?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function yj(){}yj=Backbone.View.extend({tagName:"ul",className:"textIconList"});yj.prototype.initialize=function(a){this.items=a.items};
yj.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.Qb)||1===a.Qb||0===a.Qb,"isHtml",a.Qb,"boolean");var d=!!a.Qb;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
yj.Ek=function(a){return new yj({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",Qb:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",Qb:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",Qb:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",Qb:!1}]})};var zj=yj;function Aj(){}Aj=Backbone.View.extend({className:"teamBillingSignup"});e=Aj.prototype;e.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
e.initialize=function(a){this.compact=a.compact;this.He=a.He;this.hd=a.hd;this.listenTo(this.hd,"selectPlan",this.trigger.bind(this,"selectPlan"));this.Kl=zj.Ek(Bc(a.o));this.xa=a.xa;this.o=a.o;this.ta=Jc(a.o)};
e.render=function(){var a=moment().add(this.xa,"days").format("LL"),b;b=this.o;b.xh||(b.xh=new Wc(b.config));b=b.xh;this.$el.html(xj({compact:this.compact,claim:this.ta.Kh(this.xa),Ee:b.format("teamUpgradeCreateTrialPeriodPoint1V"),Fe:b.format("teamUpgradeCreateTrialPeriodPoint2V",a),Ge:b.format("teamUpgradeCreateTrialPeriodPoint3V"),Ic:this.ta.Ic(),Vc:this.ta.Vc(),ld:this.ta.ld(),ud:this.ta.ud()}).toString());this.compact||this.Kl.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.hd.render().$el.appendTo(this.$(".teamBillingPriceOptions"));
this.He.render();this.$(".teamBillingCreditCardContainer").prepend(this.He.$el);return this};e.Ef=function(){this.hd.Ef()};function Bj(a,b){a.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(b)}e.qd=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function Cj(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}e.od=function(a){this.$el.toggleClass("enabled",a)};e.ph=function(a){this.hd.ph(a)};e.oh=function(a){this.$(".teamBillingClaim").text(a)};
var Dj=Aj;function Ej(a){this.l=a.l;this.bc=a.bc;this.ca=a.ca;this.g=a.g;this.Td=null;this.qj=!1;this.aa=null;this.Lb=a.Lb;this.listenTo(this.Lb,{input:this.jl,requestSubmit:this.uj});this.Dd=a.Dd;this.nd=null;this.he=a.he;this.Yf=a.Yf||null;this.o=a.o;this.view=a.view;this.listenTo(this.view,{selectPlan:this.gm,retry:this.Al,revert:this.Bl,submit:this.uj})}e=Ej.prototype;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;function Fj(a,b){return pj(b)-pj(a)}e.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.Ef();Cj(this.view,!1);this.Lb.refresh()};e.remove=function(){this.stopListening();this.Lb.remove();this.view.remove()};e.od=function(a){this.view.od(a)};e.oh=function(a){this.view.oh(a)};
function Gj(a){var b=a.g.j();a.od(!1);(function(){return a.Yf?P.resolve(a.Yf):U(a.bc.u,"/billing/brands/"+encodeURIComponent(b)+"/account").catch(qh).get(0).then(za).then(Yh).catch(vh,function(){return null})})().bind(a).then(function(a){a&&a.Gd&&(this.aa=a.Gd,this.Lb.Ff(this.Dd).Zb(this.aa))}).catch(function(){var a=this.view;a.$el.html(wj({xc:a.ta.xc(),xd:a.ta.xd()}).toString())}).finally(function(){this.od(!0)})}
function Hj(a){var b=Vb().Mh(a.g.j());a.ca.Lk(b).bind(a).then(function(a){this.Td=a.getCount();this.qd()}).catch(function(){this.qj=!0;this.qd()})}
e.qd=function(){ra(null!=this.nd,"A plan must be selected");var a=Jc(this.o);if(this.qj)a=this.view,a.$(".teamBillingTotalText").text(a.ta.format("teamBillingSignupTotalPriceError"));else if(null!==this.Td)if(1===this.Td)this.view.qd();else{var b=this.nd.Ab*this.Td;if("YEARLY"===this.nd.Ra)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.nd.Ra)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.format("teamBillingSignupTotalPrice",this.Td,
b);this.view.qd(a)}};e.jl=function(a){this.aa&&Cj(this.view,a)};e.Al=function(){Gj(this)};e.Bl=function(){this.aa&&(this.Lb.Zb(this.aa),Cj(this.view,!1))};
e.uj=function(){this.od(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.Lb.Ok().bind(this).then(function(){this.l.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.he){var a=this.bc,b=new ri({g:this.g.j(),Tb:this.nd.id});ta(b.g,"brand required");return V(a.u,"/billing/brands/"+b.g+"/subscription",si(b)).catch(qh).get(0).then(ui).catch(a.Ye,a.Ve)}}).then(function(a){this.trigger("signup",a)}).catch(X,function(a){this.l.track("upgrade_onboarding_card_error",
{message:a.message});a=oj(Dc(this.o),a);Bj(this.view,a)}).catch(function(){Bj(this.view,"An error occured while trying to subscribe")}).finally(function(){this.od(!0)});this.l.track("upgrade_onboarding_card_submit")};e.gm=function(a){this.nd=a;this.qd()};function Ij(){}Ij=Backbone.View.extend({className:"multipageDialog"});e=Ij.prototype;e.initialize=function(a){this.J=Fg;this.Je=0;this.Me=a.Me||[];this.Ga=void 0===a.Ga||a.Ga;this.Da=!!a.Da;this.ad=new Hg({J:this.J,style:Jg});this.Wa=a.Wa;this.Wa.forEach(function(a){this.listenTo(a,"next",this.Yl);this.listenTo(a,"back",this.Zl)},this)};e.events=function(){return{click:this.Vg,"click .dialogMaskCloseButton":this.hide}};
e.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.ad.hide();this.J.setTimeout(function(){this.trigger("hide")}.bind(this),300)};e.Vg=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Ga&&this.hide()};
e.render=function(){var a=this;(function(){a.Me.forEach(function(b){a.$el.addClass(b)})})();(function(){a.Wa.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Da&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.Wa.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();Jj(this,this.Je);return this};
e.show=function(){this.$el.addClass("multipageDialogAppearing");this.ad.show(this.render().$el);this.J.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};e.Yl=function(){var a=this.Je+1;a>=this.Wa.length?this.hide():Jj(this,a)};e.Zl=function(){var a=this.Je-1;0>a?this.hide():Jj(this,a)};
function Jj(a,b){a.trigger("pageChange",a.Wa[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Je=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")}var Kj=Ij;function Lj(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var p=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var m=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var u=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var v=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var G=null==(b=v)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(G)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==v?" disabled":"")+(u?" buttonSmall":"")+'"'+(p?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(p))+'"':"")+(m?' id\x3d"'+soy.$$escapeHtmlAttribute(m)+'"':"")+(h&&"a"!=v?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(G)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function Mj(a){a=a||{};soy.asserts.assertType(null==a.N||a.N instanceof goog.soy.data.SanitizedContent||goog.isString(a.N),"cssClass",a.N,"null|string|undefined");var b=a.N;soy.asserts.assertType(null==a.La||goog.isBoolean(a.La)||1===a.La||0===a.La,"withStar",a.La,"boolean|null|undefined");a=a.La;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function Nj(a){a=a||{};soy.asserts.assertType(null==a.N||a.N instanceof goog.soy.data.SanitizedContent||goog.isString(a.N),"cssClass",a.N,"null|string|undefined");var b=a.N;soy.asserts.assertType(null==a.La||goog.isBoolean(a.La)||1===a.La||0===a.La,"withStar",a.La,"boolean|null|undefined");a=a.La;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")};function Oj(a){soy.asserts.assertType(a.ke instanceof soydata.SanitizedHtml||a.ke instanceof soydata.UnsanitizedText||goog.isString(a.ke),"titleHtml",a.ke,"soydata.SanitizedHtml");var b=a.ke;soy.asserts.assertType(goog.isString(a.$c)||a.$c instanceof goog.soy.data.SanitizedContent,"memberLabel",a.$c,"string|goog.soy.data.SanitizedContent");var c=a.$c;soy.asserts.assertType(goog.isString(a.gf)||a.gf instanceof goog.soy.data.SanitizedContent,"okButton",a.gf,"string|goog.soy.data.SanitizedContent");
a=a.gf;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+Lj({v:"upgradeDialogMember__button",text:a}))}
function Pj(a){a=goog.asserts.assertArray(a.ba,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++){var f=a[d],g;g=g={N:"upgradeDialogFeaturePromoBenefit__icon"};soy.asserts.assertType(null==g.N||g.N instanceof goog.soy.data.SanitizedContent||goog.isString(g.N),"cssClass",g.N,"null|string|undefined");g=g.N;g=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(g?'class\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e');b+='\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+g+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+
soy.$$escapeHtml(f)+"\x3c/span\x3e\x3c/li\x3e"}b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function Qj(a){soy.asserts.assertType(goog.isString(a.ef)||a.ef instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.ef,"string|goog.soy.data.SanitizedContent");var b=a.ef;soy.asserts.assertType(goog.isString(a.df)||a.df instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.df,"string|goog.soy.data.SanitizedContent");var c=a.df;soy.asserts.assertType(goog.isString(a.Le)||a.Le instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.Le,"string|goog.soy.data.SanitizedContent");
var d=a.Le;soy.asserts.assertType(goog.isString(a.Ke)||a.Ke instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.Ke,"string|goog.soy.data.SanitizedContent");var f=a.Ke;soy.asserts.assertType(goog.isString(a.Rf)||a.Rf instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.Rf,"string|goog.soy.data.SanitizedContent");var g=a.Rf;soy.asserts.assertType(goog.isString(a.Qf)||a.Qf instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.Qf,"string|goog.soy.data.SanitizedContent");
a=a.Qf;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(f)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};function Rj(){}Rj=Backbone.View.extend({className:"promotion"});Rj.prototype.initialize=function(a){this.model=a.model};Rj.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.Xa)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
Rj.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.Ba instanceof soydata.SanitizedHtml||a.Ba instanceof soydata.UnsanitizedText||goog.isString(a.Ba),"headingHtml",a.Ba,"soydata.SanitizedHtml");var b=a.Ba;soy.asserts.assertType(goog.isString(a.la)||a.la instanceof goog.soy.data.SanitizedContent,"imageUrl",a.la,"string|goog.soy.data.SanitizedContent");var c=a.la;soy.asserts.assertType(goog.isString(a.Fa)||a.Fa instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.Fa,"string|goog.soy.data.SanitizedContent");
var d=a.Fa;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var f=a.body;soy.asserts.assertType(null==a.rb||a.rb instanceof goog.soy.data.SanitizedContent||goog.isString(a.rb),"imageAlt",a.rb,"null|string|undefined");var g=a.rb;soy.asserts.assertType(null==a.ba||goog.isArray(a.ba),"benefitList",a.ba,"?Array\x3cstring\x3e|undefined");var h=a.ba;soy.asserts.assertType(null==a.Jd||a.Jd instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Jd),"footerLink",a.Jd,"null|string|undefined");var p=a.Jd,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(f?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(f)+"\x3c/p\x3e":"")+(h?Pj(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+Lj({v:"upgradeDialogFeaturePromo__button",
text:d})+(p?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(p)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};var Sj=Rj;function Tj(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.i=a.i}n(Tj,Backbone.View);Tj.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};Tj.prototype.render=function(){this.$el.html(Oj({ke:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.i.format("canvaForWorkUpgradeMemberTitleHtml")),$c:this.i.$c(),gf:this.i.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function Uj(a,b){return O(O(O(new kc("upgrade_cta_clicked"),"section","homepage"),"subsection",a),"location",b)}function Vj(a,b,c){return O(O(O(O(O(new kc("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function Wj(a,b,c){return O(O(O(O(new kc("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function Xj(){}function Yj(){var a=t(Xj,window.clientInfo),b;b=t(Zj,a.brandInfo);b.brand=Eb(b.brand);b.subscription&&(b.subscription=gi(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=t(ak,a.user);b.avatar&&(b.avatar=ib(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Zj(){}Zj.prototype.W=function(){return this.brand};Zj.prototype.getSubscription=function(){return this.subscription||null};function ak(){}e=ak.prototype;e.j=function(){return this.id};e.Si=function(){return this.avatar};
e.Rc=function(){return this.username};e.Ja=function(){return this.displayName};e.Gg=function(){return this.roles};e.Se=function(){return this.personalBrand};e.Pc=function(){return this.locale};e.Dg=function(){return this.country};e.Wi=function(){return this.preferredHomepage};e.Eh=function(){return Gb({id:this.j(),username:this.Rc(),personalBrand:this.Se(),displayName:this.Ja(),avatar:gb(this.Si()),roles:this.Gg(),countryCode:this.Dg(),locale:this.Pc()})};function bk(a){this.ea=a.ea;this.sd=void 0;this.O=null;this.xa=a.xa||0;this.Ga=void 0===a.Ga||a.Ga;this.yc=void 0===a.yc||a.yc;this.Da=void 0===a.Da||a.Da;this.l=a.l;this.Ik=_.once(function(){Gj(a.ea);Hj(a.ea)});this.ea.once("signup",this.Fl.bind(this));this.i=a.Bd;this.ta=a.ta;this.ib=a.ib;this.be=a.be;this.fd=a.fd;this.Xa=a.mc}e=bk.prototype;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenToOnce;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.remove=function(){this.O&&this.O.remove()};
e.show=function(a){var b=this;if(this.ib){var c=ck(this,this.ea,a||7);c.on("next",function(c){var f=/\/design\//.test(location.pathname)?Vj("editor",a,c):Vj("homepage",a,c),g=b.ea,h=b.fd.get(c),h=sj(h.sort(Fj),Bc(g.o));g.view.ph(h);b.sd&&1===c&&(b.sd.$el.addClass("upgradeDialogSignup--imagesPro"),b.ea.oh(b.ta.format("teamBillingSignupUpgradeImagesPro",b.xa)));jc(b.l,f)});c.on("footerLinkClicked",function(){return dk(b)});this.sd=new Backbone.View({className:"upgradeDialogSignup"});this.O=new Kj({Me:["upgradeDialog"],
Ga:this.Ga,Da:this.Da,Wa:[c,this.sd]});this.O.on("hide",function(){b.O.remove();b.O=null;b.ea.remove();b.trigger("hide")});this.Ik();this.O.show();ek(this);this.ea.appendTo(this.sd.$el);this.sd.$el.append(Qj({ef:this.i.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),df:this.i.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),Le:this.i.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),Ke:this.i.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),Rf:this.i.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
Qf:this.i.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else fk(this)};function fk(a){var b=new Tj({i:a.i});a.O=new Kj({Me:["upgradeDialog"],Ga:a.Ga,Da:a.Da,Wa:[b]});a.O.on("hide",function(){a.O.remove();a.O=null;a.trigger("hide")});a.O.show();ek(a)}function dk(a){a.once("hide",function(){return a.show(7)});a.O.hide()}e.Fl=function(){this.yc&&this.O&&this.O.remove();this.trigger("signup")};
function ek(a){if(/\/design\//.test(location.pathname)){if(a.l){var b=a.l;a=a.ib;a=Wj("editor",a.ib,a.feature);jc(b,a)}}else a.l&&(b=a.l,a=a.ib,a=Wj("homepage",a.ib,a.feature),jc(b,a))}
function ck(a,b,c){var d=a.i.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});case 2:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",ba:[Sc(a.i),Rc(a.i),Oc(a.i),Qc(a.i)],
Xa:0}});case 4:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});case 3:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});case 6:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),
body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});case 8:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});case 9:return new Sj({ea:b,model:{Fa:d,Ba:Sc(a.i),body:Nc(a.i),la:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",ba:[Rc(a.i),Oc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});
case 12:return new Sj({ea:b,model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.i.format("canvaForWorkFeatureUpgradeAnimatorBody"),la:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",ba:[a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],Xa:0}});case 10:case 11:c=a.i.Ua("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",
4E5);var f=a.i.format("canvaForWorkFeatureUpgradeImagesProBody"),g;g=a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new Sj({ea:b,model:{Fa:d,Ba:c,body:f,la:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",ba:[g,a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],Xa:1,Jd:a.i.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case 0:case 1:case 7:return new Sj({ea:b,
model:{Fa:d,Ba:a.i.Ua("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.i.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),la:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",ba:[Sc(a.i),Rc(a.i),Pc(a.i),Qc(a.i)],Xa:0}});default:throw Error("Not a recognised feature: "+c);}};function gk(){this.Ka=[255,0,255];this.lc=[300,100,50]}function hk(a,b,c,d){a.lc=[b,c,d];var f;f=b/60;c/=100;d/=100;b=Math.floor(f);var g=f-b;f=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.Ka=[Math.round(255*[d,h,f,f,c,d][b]),Math.round(255*[c,d,d,h,f,f][b]),Math.round(255*[f,f,c,d,d,h][b])];return a}e=gk.prototype;e.Zi=function(){return this.lc[2]};e.Mj=function(a){return hk(this,this.lc[0],this.lc[1],a)};
function ik(a,b,c,d){a.Ka=[b,c,d];b/=255;c/=255;d/=255;var f=Math.max(b,c,d),g=Math.min(b,c,d),h;if(f==g)h=g=0;else{var p=f-g,g=p/f;switch(f){case b:h=(c-d)/p+(c<d?6:0);break;case c:h=(d-b)/p+2;break;case d:h=(b-c)/p+4}h/=6}a.lc=[360*h,100*g,100*f];return a}function jk(a){var b=new gk;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return ik(b,kk(a,0*c,c),kk(a,1*c,c),kk(a,2*c,c))}
e.Ch=function(){return"#"+(256+this.Ka[0]).toString(16).slice(-2)+(256+this.Ka[1]).toString(16).slice(-2)+(256+this.Ka[2]).toString(16).slice(-2)};e.clone=function(){var a=new gk;a.Ka=this.Ka;a.lc=this.lc;return a};e.Ui=function(){return Math.round(Math.sqrt(.241*this.Ka[0]*this.Ka[0]+.691*this.Ka[1]*this.Ka[1]+.068*this.Ka[2]*this.Ka[2]))};e.equals=function(a){return null!=a&&a.serialize()===this.serialize()};
function lk(a){var b=String(a);if("#"===b.slice(0,1))return jk(b);if("hsl("===b.slice(0,4)){a=new gk;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,f=b*(.5>d?d:1-d),g=d+f,c=[+c[1],100*(0<d?2*f/g:b),100*g];return hk(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new gk;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return ik(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return jk(b);throw Error("could not parse color: "+a);}function kk(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}e.serialize=gk.prototype.Ch;e.toString=gk.prototype.Ch;function mk(a){r(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.uc=a.uc||null;this.oc=a.oc||null;this.Sa=a.Sa||null;this.size=a.size;this.pb=!!a.pb;this.zb=!!a.zb;this.Fb=!!a.Fb;this.lb=!!a.lb}n(mk,Backbone.View);
mk.prototype.render=function(){var a=this.uc&&this.oc,b=!!this.oc;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.uc&&this.$el.css("backgroundImage","url("+this.uc+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.oc&&this.$el.attr("data-letter",this.oc);this.Sa&&(this.$el.css("backgroundColor",this.Sa.Ch()),208<this.Sa.Ui()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Fb);this.$el.toggleClass("avatar--darkBorder",this.lb);this.$el.toggleClass("avatar--glow",this.pb);this.$el.toggleClass("avatar--pointer",this.zb);return this};function nk(a){return(a.Ja()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function ok(a){a=a.Ti();return lk(a?"#"+a:"#b0b0b0")}
function pk(a,b){a=a.Ld().sizes;ra(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(la(a.values()))).sortBy(function(a){return Math.abs(a.size-c)}).sortBy(function(a){return a.size<c}).first().value().va()}function qk(a){var b=pk(a.user,a.size);a=new mk({uc:b,size:a.size,pb:a.pb,zb:a.zb,Fb:a.Fb,lb:a.lb});a.render();return a}
function rk(a){if(a.g.personal)return qk(a);var b=pk(a.user,a.size),c=nk(a.g),d=ok(a.g);a=new mk({uc:b,oc:c,Sa:d,size:a.size,pb:a.pb,zb:a.zb,Fb:a.Fb,lb:a.lb});a.render();return a};function sk(){}sk=Backbone.View.extend({tagName:"li",className:"brand"});sk.prototype.initialize=function(a){var b;if(a.za.g.personal)b=qk({user:a.user,size:36});else{b={g:a.za.g,size:36};var c=nk(b.g),d=ok(b.g);b=new mk({oc:c,Sa:d,size:b.size,pb:b.pb,zb:b.zb,Fb:b.Fb,lb:b.lb});b.render()}this.cg=b;this.za=a.za;this.C=a.C};
sk.prototype.render=function(){this.$el.html(this.template({personal:this.za.g.personal,personalLabel:this.C.format("userMenuPersonalBrandLabel"),displayName:this.za.g.Ja(),url:this.za.url}));this.$(".left").append(this.cg.$el);return this};sk.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');
var tk=sk;function uk(){}uk=Backbone.View.extend({className:"actions",tagName:"ul"});uk.prototype.initialize=function(a){this.C=a.C;this.rd=!!a.rd};uk.prototype.render=function(){this.$el.toggleClass("singleAction",!this.rd);this.$el.html(this.template({showUpgradeButton:this.rd,upgrade:this.C.Kh(),signOut:this.C.signOut()}));return this};uk.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};uk.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');
var vk=uk;function wk(a){Backbone.View.call(this,{className:"active brand"});this.C=a.C;this.cg=rk({g:a.g,user:a.user,size:60,Fb:!0});this.g=a.g;this.user=a.user;this.Sb=!!a.Sb;this.Ta=a.Ta}n(wk,Backbone.View);
wk.prototype.render=function(){var a=this.el,b;b=this.g.Ja()||this.C.ed();var c=this.user.Ja(),d=this.Ta?void 0:"/"+this.user.Rc(),f=this.C.Xl(),g=this.C.km(),h=this.Sb;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"settings",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(f)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.cg.$el);return this};function xk(){}xk=Backbone.View.extend({className:"brandListWrapper"});xk.prototype.initialize=function(a){this.dc=a.dc;this.user=a.user;this.C=a.C};function yk(a,b){if(!a.el.parentElement)throw Error("This element must be added to the DOM before display() can be called");b&&a.$el.addClass("animate");b=a.$el.find("ul").height();a.$el.height(b)}
xk.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.dc.forEach(function(b){(new tk({za:b,user:this.user,C:this.C})).render().$el.appendTo(a)}.bind(this));return this};var zk=xk;function Ak(){}Ak=Wg.extend({className:"userMenuContainer"});
Ak.prototype.initialize=function(a){this.Be=a.Be;this.Bj=null;this.user=a.user;this.C=a.C;this.ve=a.ve;this.Cb=a.Cb;this.Qh=new wk({C:a.C,g:this.ve.g,user:a.user,Sb:a.Sb,Ta:a.Ta});this.eg=this.Ad=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.Qh.render().$el);var c=new vk({C:a.C,rd:a.rd});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.Cb&&(this.eg=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.eg));b.append(c.render().$el);Wg.prototype.initialize.call(this,
{content:b,position:["leftTop","top"],pa:a.pa})};Ak.prototype.show=function(){this.Bj=this.Be.now();return Wg.prototype.show.call(this)};Ak.prototype.Vl=function(a){if(!this.Cb)throw Error("Cannot use setBrands when showBrands is set to false");var b=this,c=function(){return a.filter(function(a){return a.g.j()!==b.ve.g.j()})}();this.Ad&&this.Ad.remove();0<c.length&&(this.Ad=(new zk({dc:c,user:b.user,C:this.C})).render(),this.Ad.$el.insertAfter(b.Qh.$el),yk(this.Ad,100<this.Be.now()-this.Bj));this.eg.addClass("done")};
var Bk=Ak;function Ck(a){return a.G.get(tc)?(window.open("https://about.canva.com/pricing","_blank"),!0):!1};function Dk(a){this.l=a.l;this.cb=a.cb;this.C=a.C;this.Zf=a.Zf;this.xb=this.dc=null;this.Kb=a.Kb;this.jm=a.jm||"user_menu";this.profiles=a.profiles;this.Vj=a.Vj;this.sh=a.sh;this.fc=a.fc;this.je=a.je;this.pa=a.pa;this.user=a.user;this.$f=a.$f;this.Cb=void 0!==a.Cb?a.Cb:!0;this.Sb=!!a.Sb;this.Ta=a.Ta}e=Dk.prototype;e.init=function(){this.fc.click(function(){this.fc.toggleClass(this.je);this.fc.hasClass(this.je)?Ek(this):this.xb.remove()}.bind(this))};e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;
e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.If=function(){if(Ck(this.cb))jc(this.l,Uj("user_menu","bottom")),this.xb.remove();else if(this.Kb){var a=this.Kb();a.on("signup",function(){window.location.href=a.be});jc(this.l,Uj("user_menu","bottom"));a.show();this.xb.remove()}};
function Ek(a){var b=function(){this.xb=new Bk({C:this.C,ve:f(this.Zf),rd:this.$f,profiles:this.profiles,user:this.user,Be:Dg,Cb:this.Cb,Sb:this.Sb,pa:this.pa,Ta:this.Ta});this.Cb&&c().bind(this.xb).then(this.xb.Vl);Tg(this.xb,this.sh);this.listenTo(this.xb,{remove:g,hide:this.fc.removeClass.bind(this.fc,this.je),upgrade:this.If})}.bind(a),c=function(){return this.dc?P.resolve(this.dc):Nh(this.profiles).then(d)}.bind(a),d=function(a){return this.dc=a.map(f)}.bind(a),f=function(a){return{g:a,url:"/login/switch?brand\x3d"+
encodeURIComponent(a.j())}}.bind(a),g=function(){this.xb=null}.bind(a);b()}e.Gf=function(a){this.user=a};function Fk(){}Fk=Backbone.View.extend({className:"sidebar"});Fk.prototype.initialize=function(a){this.J=a.J;this.kc=a.kc};Fk.prototype.events=function(){return{"click .sidebarMenuLink__exploreTemplates":this.trigger.bind(this,"click:exploreTemplates"),"click .sidebarUpgradeButton":this.trigger.bind(this,"click:upgrade"),"click .buttonNewDesign":this.trigger.bind(this,"click:newDesign")}};
Fk.prototype.Wl=function(a,b){var c=this.$(".notifications"),d=c.find(".notificationsBadge");a=Math.min(a,9);c.hasClass("hasNotifications")&&0===a&&(c.addClass("disappearing"),this.J.setTimeout(function(){c.removeClass("disappearing")},250));c.toggleClass("hasNotifications",0<a);c.toggleClass("hasMore",b);d.text(a)};var Gk=Fk;function Hk(a){this.l=a.l;this.cb=a.cb;this.Wd=a.Wd;this.Tf=a.Tf;this.view=a.view;this.Kb=a.Kb;this.Jf=a.Jf;this.Lh=a.Lh;this.ca=a.ca;this.za=a.za}e=Hk.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;
e.start=function(){var a=this;this.Tf.init();Gh(this.Wd);window.setTimeout(function(){var b=a.Wd;b.update(!1).catch($.noop);Jh(b,6E4)},400);this.listenTo(this.Wd,{updateUnreadCount:a.view.Wl.bind(a.view)});this.listenTo(this.view,{"click:upgrade":this.If});this.Jf&&this.If(null,!0);null!==this.za.getSubscription()||this.za.W().personal||Ik(this)};
e.If=function(a,b){var c=this;if(!this.Jf&&Ck(this.cb))jc(this.l,Uj("sidebar","bottom"));else{var d=this.Kb();d.on({signup:function(){window.location.href=c.Lh?"/brand/onboarding/starter":d.be}});b||jc(this.l,Uj("sidebar","bottom"));d.show()}};
function Ik(a){var b=a.za.brandInvitationsCount+a.za.brandMembersCount;if(b<=a.cb.G.get(rc)){var c=a.view;a=a.cb.G.get(rc);var d=c.$(".sidebar__pill--teamInvitationsCount");d.text(c.kc.format("homeSideBarMembersInvited",b,a)).removeClass("sidebar__pill--hidden");b===a&&d.addClass("sidebar__pill--red")}}
e.Gf=function(a){this.Tf.Gf(a);var b=a.Ja();a=a.Ld();null!=b&&this.view.$(".userDisplayName").text(b).attr("title",b);null!=a&&(b=a.sizes.get("50").va(),this.view.$(".avatar").css("background-image","url("+b+")"))};function Jk(a,b){this.dg=a;this.namespace=void 0===b?null:b}Jk.prototype.setItem=function(a,b){try{return this.dg.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};Jk.prototype.getItem=function(a){return this.dg.getItem(null==this.namespace?a:this.namespace+"."+a)};Jk.prototype.removeItem=function(a){this.dg.removeItem(null==this.namespace?a:this.namespace+"."+a)};function Kk(a){Yb.call(this,a)}n(Kk,Yb);function Lk(a){$b.call(this,a);this.qa=null}n(Lk,$b);e=Lk.prototype;e.track=function(a,b){window.console.log("analytics:track",this.qa,a,ac(this,b));return P.resolve()};e.identify=function(a,b,c){this.qa=a;cc(a,b)&&(hc(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};e.alias=function(a){window.console.log("analytics:alias",this.qa,a);this.qa=a};e.set=function(a){window.console.log("analytics:set",this.qa,a);return P.resolve()};
e.union=function(a){window.console.log("analytics:union",this.qa,a)};function Mk(a){Yb.call(this,a);this.Of=a.Of}n(Mk,Yb);function Nk(a,b){$b.call(this,a);this.J=b;this.readyState="PENDING";this.Ll=3E4;this.Uc=this.Xe=null}n(Nk,$b);
function Ok(a){var b=Pk(),c=new Nk(a,Fg);Qk(c).then(function(){for(c.ready=!0;c.qf&&0<c.qf.length;)c.qf.shift()();c.qf=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,Qk(c).then(function(){var b={path:location.pathname,url:location.href};Pk().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();dc(fc(fc(new ec,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60))}).catch(function(){}),b.load(a.Of));return c}function Pk(){ra("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}e=Nk.prototype;e.track=function(a,b){var c=this;return Qk(this).then(function(d){return new P(function(f){d.track(a,ac(c,b),{integrations:{Leanplum:!1}},f)})}).catch(function(){})};
e.identify=function(a,b,c){var d=this;return Qk(this).then(function(f){if(!cc(a,b))return d.Xe||P.resolve();d.Xe=new P(function(g){hc(a,b);f.identify(a,d.Pf(b),c,function(){d.Xe=null;g()})});return d.Xe}).catch(function(){})};e.alias=function(a){Qk(this).then(function(b){return b.alias(a)}).catch(function(){})};e.set=function(a){var b=this;return Qk(this).then(function(c){return new P(function(d){return c.identify(b.Pf(a),d)})}).catch(function(){})};e.union=function(){};
e.Pf=function(a){var b={};if(a&&gc(a)){a=l(a);for(var c=a.next();!c.done;c=a.next()){var d=l(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function Qk(a){var b=Pk();if(null!==a.Uc)return a.Uc;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.Uc=new P(function(c,d){var f=a.J.setTimeout(function(){a.readyState="FAILURE";a.Uc=null;d(Error("Segment initialization failed"))},a.Ll);b.ready(function(){"FAILURE"!==a.readyState&&(a.J.clearTimeout(f),a.readyState="SUCCESS",a.Uc=null,c(Pk()))})});return a.Uc};function Rk(a){Yb.call(this,a);this.url=a.url}n(Rk,Yb);function Sk(a,b,c){$b.call(this,a);this.url=a.url;this.J=b;this.mj=c}n(Sk,$b);
function Tk(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});return new Sk(a,Fg,b)}e=Sk.prototype;
e.track=function(a,b){var c=this;return this.mj.then(function(d){return d.track(a,ac(c,b))})};e.identify=function(a,b){var c=this;return this.mj.then(function(d){d.login(a);b&&d.setProfile(c.Pf(b))})};e.alias=function(){};e.set=function(){};e.union=function(){};e.Pf=function(a){var b={};if(a&&gc(a)){a=l(a);for(var c=a.next();!c.done;c=a.next()){var d=l(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function Uk(a,b){Pk();if(a instanceof Kk)b=new Lk(a);else if(a instanceof Mk)b=Ok(a);else if(a instanceof Rk)b=Tk(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function Vk(){var a=za(window.analyticsConfig),b=z("impl",a),c=null;try{if(window.localStorage)c=new Jk(window.localStorage,void 0);else throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}catch(d){}switch(b){case "console":return Uk(new Kk(Zb(a)),c);case "segment":return b=Zb(a),a=new Mk({ic:b.ic,jc:b.jc,user:b.user,g:b.g,Qa:b.Qa,Ib:b.Ib,Ya:b.Ya,Of:z("segmentWriteKey",a),K:b.K,$b:b.$b}),Uk(a,c);case "sensorsdata":return b=Zb(a),a=new Rk({ic:b.ic,jc:b.jc,
user:b.user,g:b.g,Qa:b.Qa,Ib:b.Ib,Ya:b.Ya,url:z("sensorsDataUrl",a),K:b.K,$b:b.$b}),Uk(a,c);default:throw Error('No such analytics type: "'+b+'"');}};function Wk(){}Wk.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Xk(){}Xk.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function Yk(a){switch(a){case "NONE":return"NONE";case "LOG":return"LOG";case "THROW":return"THROW";default:throw Error("unknown DocumentDeserializationMode: "+a);}}function Zk(a,b,c){this.u=a;this.vg=b;this.Ql=c;this.path="/documents"}e=Zk.prototype;e.duplicate=function(a){return V(this.u,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),ce(a)).get(0).tap($k(this,"CreateDocumentResponseProto (duplicate)",Tf)).then(Zf)};
e.delete=function(a){return V(this.u,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return V(this.u,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};e.getDocument=function(a){a=[this.path,null!=a.Fk?"/"+encodeURIComponent(a.Fk):"","?includePages\x3d"+encodeURIComponent(String(!!a.Am))].join("");return U(this.u,a).get(0).tap($k(this,"GetDocumentResponseProto",Vf)).then(bg)};
e.search=function(a){return U(this.u,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap($k(this,"SearchDocumentsResponseProto",se)).then(dg)};function $k(a,b,c){return function(d){try{c(za(d))}catch(f){switch(a.vg){case "THROW":throw f;case "LOG":a.Ql.log("Failed deserialization of "+b,{error:f})}}}};function al(){}al=Backbone.View.extend({});e=al.prototype;e.events=function(){return{"keydown .sidebarSearchText":this.Yg,"input .sidebarSearchText":this.Zd,"focus .sidebarSearchText":this.tl,"blur .sidebarSearchText":this.Wk}};e.initialize=function(a){this.Ca=a.Ca;this.$(".sidebarSearchText").attr("placeholder",this.Ca);this.tf=a.tf};e.Bg=function(){var a=this.$(".sidebarSearchText").not(":focus").get(0);a&&(a.focus(),a.selectionStart=a.value.length)};
e.hm=function(a){this.$(".sidebarSearchText").val(a);this.trigger("search",a)};function bl(a,b){a.$el.toggleClass("sidebarSearchActive",b)}function cl(a){switch(a){case 13:return"select";case 27:return"cancel";case 38:return"result:previous";case 40:return"result:next";case 9:return"highlightSearchResults"}return null}e.Wk=function(a){$(a.target).attr("placeholder",this.Ca);this.trigger("blur")};
e.tl=function(a){$(a.target).one("mouseup",function(a){a.preventDefault()}).attr("placeholder","").select();bl(this,!0);this.trigger("focus")};e.Yg=function(a){var b=cl(a.which);b&&(this.trigger(b),a.preventDefault())};e.Zd=function(a){this.trigger("search",$(a.target).val())};var dl=al;function el(a,b){this.J=a;this.Xj=b||null;this.Xf=this.Bf=null}el.prototype.read=function(a){this.Bf||(fl++,gl.splice(fl,0,this));this.Bf=a;if(hl==il||hl==jl)this.J.requestAnimationFrame(kl),hl=ll;return this};el.prototype.write=function(a){this.Xf||(ml++,nl.splice(ml,0,this));this.Xf=a;hl==il&&(this.J.requestAnimationFrame(kl),hl=ll);return this};var il=0,ll=1,jl=3,hl=il,gl=[],nl=[],fl=0,ml=0;
function kl(){var a,b;hl=2;ml=-1;for(a=0;a<gl.length;a++){fl=a;b=gl[a];var c=b.Bf;b.Bf=null;c&&c.call(b.Xj,b)}gl.length=0;fl=-1;hl=jl;for(a=0;a<nl.length;a++)ml=a,b=nl[a],c=b.Xf,b.Xf=null,c&&c.call(b.Xj,b);nl.length=0;ml=-1;hl!=ll&&(hl=il)};function ol(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.cd=null;this.Qd={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.Ai=new c(function(a){a.forEach(function(a){b.handle(a)})})}ol.prototype.normalize=function(a){return a.toLowerCase()};ol.prototype.on=function(a,b){a=this.normalize(a);this.Qd.hasOwnProperty(a)||(this.Qd[a]=[]);this.Qd[a].push(b);return this};
ol.prototype.handle=function(a){function b(b){var f=c.normalize(b),g=new jQuery.Event(b);c.cd&&(g.target=a.target,g.currentTarget=c.cd.get(0),c.Qd.hasOwnProperty(f)&&c.Qd[f].forEach(function(a){a.call(c.cd,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
ol.prototype.observe=function(a){var b=$(a).get(0);if(this.cd)throw Error("Already observing an element");b&&(this.Ai.observe(b,this.config),this.cd=$(a))};function pl(a,b){this.Hi=this.Gi=this.Fi=this.Ei=this.yd=this.Sc=this.jh=this.kh=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.Uf=this.Ue=null;this.dk=!!b;this.Ih=new el(Fg,this);this.Jh=new el(Fg,this);this.Lf=new ol({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.F=a;this.Va=$("\x3cdiv\x3e").addClass("scrollThumb");this.Za=$("\x3cdiv\x3e").addClass("scrollThumb");this.Rb=this.Rb.bind(this);this.rf=this.rf.bind(this);this.nf=
this.nf.bind(this);this.pf=this.pf.bind(this);this.lf=this.lf.bind(this);this.mf=this.mf.bind(this);this.Xd=this.Xd.bind(this);this.Yd=this.Yd.bind(this);this.jf=this.jf.bind(this);this.kf=this.kf.bind(this)}e=pl.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;
e.render=function(){this.F.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Va).insertAfter(this.F);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Za).insertAfter(this.F);ql(this);this.F.on("scroll",this.rf);this.F.on("transitionend",this.Rb);this.F.on("mouseenter",this.nf);this.F.on("mouseleave",this.pf);this.Va.on("mousedown",this.lf);this.Za.on("mousedown",this.mf);this.Lf.on("attrModified",this.Rb);this.Lf.on("subtreeModified",this.Rb);
this.Lf.observe(this.F);$("\x3cspan\x3e").appendTo(this.F).remove();$(window).on("resize",this.Rb);return this};e.remove=function(){var a=this.Lf;a.Ai.disconnect();a.cd=null;this.F.off("scroll",this.rf);this.F.off("transitionend",this.Rb);this.F.off("mouseenter",this.nf);this.F.off("mouseleave",this.pf);this.Va.off("mousedown",this.lf);this.Za.off("mousedown",this.mf);$(window).off("resize",this.Rb);return this};
function ql(a){(new el(Fg,a)).read(function(a){var c=this.F.prop("clientWidth"),d=this.F.prop("offsetWidth"),f=this.F.prop("clientHeight"),g=this.F.prop("offsetHeight");a.write(function(){d>c&&this.F.css("margin-right",c-d);g>f&&this.F.css("margin-bottom",f-g);this.Ih.read(this.gk)})})}
e.gk=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.Sc,d=this.yd;this.scrollWidth=this.F.prop("scrollWidth");this.scrollHeight=this.F.prop("scrollHeight");this.kh=this.F.prop("clientWidth");this.jh=this.F.prop("clientHeight");this.Sc=this.Va.parent().outerWidth();this.yd=this.Za.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.Sc||d!==this.yd)this.scrollTop=this.scrollLeft=-1,this.Ih.write(this.Nl),this.Jh.read(this.hk)};
e.Nl=function(){var a=Math.round(this.yd*this.jh/this.scrollHeight);this.Va.css("width",Math.round(this.Sc*this.kh/this.scrollWidth)+"px");this.Za.css("height",a+"px");var a=this.kh<this.scrollWidth,b=this.jh<this.scrollHeight,c=a!==this.Ue,d=b!==this.Uf;c&&(this.Ue=a,this.Va.toggleClass("disabled",!a));d&&(this.Uf=b,this.Za.toggleClass("disabled",!b));this.dk&&(c||d)&&this.trigger("change:scrollability",this.Ue,this.Uf)};
e.hk=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.F.scrollLeft();this.scrollTop=this.F.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.Jh.write(this.Ol),this.dk&&(this.Ue||this.Uf)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};e.Ol=function(){var a=Math.round(this.yd*this.scrollTop/this.scrollHeight);this.Va.css("transform","translateX("+Math.round(this.Sc*this.scrollLeft/this.scrollWidth)+"px)");this.Za.css("transform","translateY("+a+"px)")};
e.Rb=function(){this.Ih.read(this.gk)};e.rf=function(){this.Jh.read(this.hk)};e.nf=function(){this.Va.addClass("ready");this.Za.addClass("ready")};e.pf=function(){this.Va.removeClass("ready");this.Za.removeClass("ready")};e.lf=function(a){0===a.button&&(this.Ei=a.screenX,this.Gi=this.scrollLeft,this.Va.addClass("active"),$(document).on("mousemove",this.Xd).on("mouseup",this.jf),a.preventDefault(),a.stopPropagation())};
e.Xd=function(a){this.F.scrollLeft(this.Gi+Math.round((a.screenX-this.Ei)*this.scrollWidth/this.Sc))};e.jf=function(a){this.Xd(a);this.Va.removeClass("active");$(document).off("mousemove",this.Xd).off("mouseup",this.jf)};e.mf=function(a){0===a.button&&(this.Fi=a.screenY,this.Hi=this.scrollTop,this.Za.addClass("active"),$(document).on("mousemove",this.Yd).on("mouseup",this.kf),a.preventDefault(),a.stopPropagation())};
e.Yd=function(a){this.F.scrollTop(this.Hi+Math.round((a.screenY-this.Fi)*this.scrollHeight/this.yd))};e.kf=function(a){this.Yd(a);this.Za.removeClass("active");$(document).off("mousemove",this.Yd).off("mouseup",this.kf)};function rl(a,b,c){this.text=b||null;b=zc(a);this.text&&this.text.toLocaleLowerCase()===b.Sf().toLocaleLowerCase()&&(this.text=null);this.Dc=c||null;this.o=a}rl.prototype.on=Backbone.Events.on;rl.prototype.off=Backbone.Events.off;rl.prototype.trigger=Backbone.Events.trigger;function sl(){}sl=Wg.extend({className:"designSearchPopover"});sl.create=function(a){return new sl({position:"leftTop",o:a})};e=sl.prototype;e.initialize=function(a){Wg.prototype.initialize.call(this,a);this.o=a.o;this.Ij=[];this.Xb=null};e.events=function(){return _.extend({},Wg.prototype.events.call(this),{"mouseenter .designSearchResult":this.xl,"click .designSearchResult":this.bl,keydown:this.Yg})};
function tl(a,b){function c(a,c){var f=new rl(d.o,a.Ob(),a.Fg()),m=a.j(),u=Xg(a.j(),null),v=f.text||zc(f.o).Sf();f.Dc&&(null===f.text||""===f.text)&&(v=f.Dc+"  "+v);return{id:m,href:u,title:v,thumbnail:a.Te().url,active:c===b.selectedIndex,designType:a.Fg()}}var d=a,f=function(a){return 0<a.length?a.map(c).map(d.Rk.bind(d)).join(""):d.Hk({noResultsMessage:Fc(d.o).format("designSearchNoResults")})}(b.Wb);a.$(".content").addClass("scrollPane").html('\x3cul class\x3d"designSearchResultList"\x3e'+f+
"\x3c/ul\x3e");a.Ij=b.Wb.map(function(a){return a.j()});Og(a,Vc(Fc(a.o),b.Wb.length));a.$el.toggleClass("designSearchNoResults",0===b.Wb.length);a.Xb||(a.Xb=new pl(a.$(".content")),a.Xb.render(),a.on("remove",function(){this.Xb.remove()}))}
function ul(a,b,c){var d=a.$(".designSearchResult").eq(b);a.$(".designSearchResultActive").removeClass("designSearchResultActive");if(0>b)return!1;d.addClass("designSearchResultActive").focus();if(!c){var f=a.$(".designSearchResultActive");c=f.offset();f=f.height();a=a.$(".content");var g=a.height(),h=a.scrollTop(),p=Math.floor(g/f);b*f<h?a.scrollTop(h-f):c&&c.top>g&&a.scrollTop(Math.max(0,(b-(p-1))*f))}return 0<d.length}
e.bl=function(a){a=$(a.target).closest(".designSearchResult").index();0<=a&&this.trigger("select",this.Ij[a])};e.xl=function(a){this.trigger("result:hover",$(a.target).closest(".designSearchResult").index())};
e.Yg=function(a){38===a.which?(this.trigger("result:previous"),a.preventDefault()):40===a.which?(this.trigger("result:next"),a.preventDefault()):27===a.which?this.trigger("cancel"):37===a.which?(this.trigger("cancel"),a.preventDefault()):9===a.which?(this.trigger("updateSearchText"),a.preventDefault()):13!==a.which&&this.trigger("key:passthrough",a)};e.Hk=_.template('\x3cli class\x3d"designSearchResultNone"\x3e\x3c%- noResultsMessage %\x3e\x3c/li\x3e');e.Rk=_.template('\x3ca class\x3d"designSearchResult\x3c% if (active) { %\x3e designSearchResultActive\x3c% } %\x3e" href\x3d"\x3c%- href %\x3e" target\x3d"_blank"\x3e\x3cdiv class\x3d"designSearchResultThumb" style\x3d"background-image:url(\x3c%- thumbnail %\x3e);"\x3e\x3c/div\x3e\x3cdiv class\x3d"designSearchResultDetail"\x3e\x3ch4 class\x3d"designSearchResultDetailTitle"\x3e\x3c%- title %\x3e\x3c/h4\x3e\x3cspan class\x3d"designSearchResultDetailSummary"\x3e\x3c%- designType %\x3e\x3c/span\x3e\x3c/div\x3e\x3c/a\x3e');
var vl=sl;function wl(a){this.xg=a.xg;this.Tg=a.Tg;this.tg=void 0!==a.tg?a.tg:500;this.ka=null;this.Df=[];this.selectedIndex=0;this.o=a.o;this.na=a.na;this.ng=a.ng;this.l=a.l;this.ee="";this.listenTo(this.na,{search:_.debounce(this.Rl,this.tg),select:this.Pg.bind(this,!0),cancel:this.bi,focus:this.Pg.bind(this,!1),"result:next":this.Kj,"result:previous":this.Lj,highlightSearchResults:this.Qk,blur:this.Dl})}function xl(a,b){var c=String.fromCharCode(b.which);b.shiftKey||(c=c.toLowerCase());return a+c}
var yl=[{from:8,to:8,We:function(a){return a.slice(0,-1)}},{from:32,to:32,We:xl},{from:65,to:90,We:xl},{from:48,to:57,We:xl}];e=wl.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.stop=function(){this.stopListening(this.na);this.ka&&this.ka.remove();return this};function zl(a,b,c){a.selectedIndex=Math.max(0,Math.min(a.Df.length-1,b));a.ka&&ul(a.ka,a.selectedIndex,!!c)}e.bi=function(){this.ka?(this.ka&&this.ka.remove(),this.na.Bg()):this.na.$(".sidebarSearchText").blur()};
e.Pg=function(a,b){if(""!==this.ee&&(b||0!==this.Df.length)){if(!this.ka){b=Al;var c;c=this.na;c=c.tf?P.resolve(c.tf.animate({scrollTop:$(".sidebarSearch").parent().scrollTop()+$(".sidebarSearch").position().top},400).promise()):P.resolve();this.ka=b(this,c)}this.ka&&tl(this.ka,{Wb:this.Df,selectedIndex:this.selectedIndex});a&&(ul(this.ka,0,!1)||this.na.Bg());bl(this.na,!0)}};e.Kj=function(){zl(this,this.selectedIndex+1)};e.Lj=function(){zl(this,this.selectedIndex-1)};
e.Qk=function(){this.ka&&ul(this.ka,this.selectedIndex,!1)};
e.Rl=function(a){function b(a){f.Df=a;f.selectedIndex>=a.length?f.selectedIndex=a.length-1:0>f.selectedIndex&&(f.selectedIndex=0);f.Pg(!0,!0)}function c(a){return a.Xi()}function d(){f.na.$el.toggleClass("sidebarSearchInProgress",!1)}var f=this;this.ee=a;a.length>=this.Tg?(f.l.track("design_search",{query:.05>Math.random()?a:void 0}),f.na.$el.toggleClass("sidebarSearchInProgress",!0),f.xg.search(new qe({query:a+"*"})).then(c).then(b).finally(d)):""===a&&this.ka&&this.ka.remove()};
function Al(a,b){var c=a.ng(a.o);a.listenTo(c,{remove:a.El,cancel:a.bi,"result:hover":function(a){zl(this,a,!0)}.bind(a),"result:previous":a.Lj,"result:next":a.Kj,updateSearchText:a.na.Bg.bind(a.na),"key:passthrough":a.yl});Tg(c,a.na.$el);b.then(c.ne.bind(c));return c}e.yl=function(a){function b(b){return a.which>=b.from&&a.which<=b.to}var c;c=a.originalEvent;var d=c.altKey||c.metaKey?null:yl.filter(b)[0];d&&(a.preventDefault(),c=d.We(this.ee,c),c!==this.ee&&(this.ee=c,this.na.hm(c)))};
e.El=function(){this.stopListening(this.ka);this.ka=null;this.selectedIndex=0;bl(this.na,this.na.$(".sidebarSearchText").is(":focus"))};e.Dl=function(){this.ka||bl(this.na,!1)};function Bl(){var a=window.location.pathname;return 0<="/ /shared-with-you /team-stream /trash /design-stream /create-a-design /1".split(" ").indexOf(a)||/^\/folder\/.+/.test(a)};function Cl(a){this.id=a.id||null;this.systemFolder=a.cm;return this}Cl.prototype.j=function(){return this.id};Cl.prototype.Pd=function(){if(this.systemFolder)return Object.freeze(t(Dl,this.systemFolder))};function El(a){return a.Pd()?Object.freeze(t(Cl,{systemFolder:Object.freeze(t(Dl,{brand:a.W(),type:a.Pd(),user:a.oa()}))})):Object.freeze(t(Cl,{id:a.j()}))}function Dl(){}Dl.prototype.W=function(){return this.brand};Dl.prototype.Oa=function(){return this.type};Dl.prototype.oa=function(){return this.user};
function Fl(){}function Gl(a){return Object.freeze(t(Fl,a))}Fl.prototype.Aa=function(){if(this.folder)return Y(this.folder)};Fl.prototype.Ri=function(){za(this.accessSummary);return Hl(this.accessSummary)};
function Il(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.Eb;this.systemFolder=a.cm||null;this.acl=a.hb;this.access=a.uk;this.name=a.name||null;this.description=a.description||null;this.brand=a.g||"";this.itemCount=a.Bm||0;this.user=a.user||"";this.modifiedDate=a.Dm||0;this.shared=a.pd||!1;this.type=a.type||Jl;this.userSettings=a.Km||null}var Jl="DESIGN";function Y(a){return Object.freeze(t(Il,a))}e=Il.prototype;e.j=function(){return this.id};
e.Te=function(){if(this.thumbnail)return Object.freeze(t(Kl,this.thumbnail))};e.Pd=function(){return this.systemFolder};e.Kd=function(){if(this.acl)return Object.freeze(t(Ll,this.acl))};e.getName=function(){return this.name};e.W=function(){return this.brand};e.oa=function(){return this.user};e.Oa=function(){return this.type};e.Pb=function(){if(this.userSettings)return Object.freeze(t(Ml,this.userSettings))};e.hg=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Y(a)};
Y({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});Y({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""});
Y({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",width:200},user:""});function Kl(){}Kl.prototype.va=function(){return this.url};function Ll(a){a=void 0===a?{}:a;this.entries=a.entries}Ll.prototype.hg=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(t(Ll,a))};
Ll.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(t(Nl,a))})};function Nl(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.g;this.access=a.uk}Nl.prototype.hg=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(t(Nl,a))};Nl.prototype.W=function(){return this.brand};Nl.prototype.oa=function(){return this.user};function Ol(){}e=Ol.prototype;
e.Dh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Pl(a,b){a.folder=b;return a}e.Nh=function(a){this.name=a;return this};function Ql(a){a.trash=!0;return a}e.Wf=function(a){this.userSettings=a;return this};e.Aa=function(){if(this.folder)return Object.freeze(t(Cl,this.folder))};e.Kd=function(){if(this.acl)return Object.freeze(t(Ll,this.acl))};e.getName=function(){return this.name};
e.Pb=function(){if(this.userSettings)return Object.freeze(t(Ml,this.userSettings))};function Rl(a){this.mk=a.mk||[];this.vj=a.vj}function Hl(a){return new Rl({mk:F(Hb,"users",a),vj:x("others",a)})}function Sl(){}function Tl(a){return Object.freeze(t(Sl,a))}Sl.prototype.Ia=function(){return this.continuation};Sl.prototype.Aa=function(){if(this.folder)return Y(this.folder)};function Ul(){}function Vl(a){return Object.freeze(t(Ul,a))}Ul.prototype.Aa=function(){if(this.folder)return Y(this.folder)};
Ul.prototype.Ri=function(){if(this.accessSummary)return Hl(this.accessSummary)};function Wl(){}function Xl(a){return Object.freeze(t(Wl,a))}Wl.prototype.Nd=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Y(a)})};Wl.prototype.Ia=function(){return this.continuation};function Yl(){}e=Yl.prototype;e.Dh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
e.pk=function(a){this.limit=a;return this};e.Mh=function(a){this.brand=a;return this};e.qk=function(a){this.user=a;return this};function Zl(){var a=new Yl;a.folderTypes=[Jl];return a}e.nk=function(a){this.continuation=a;return this};e.Wf=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};e.Oc=function(){return this.limit};e.W=function(){return this.brand};e.oa=function(){return this.user};e.Ia=function(){return this.continuation};
function $l(a){return Object.keys(a).map(function(a){var c=this[a];if(Array.isArray(c))return a+"\x3d"+c.map(encodeURIComponent).join(",");if("object"!==typeof c)return a+"\x3d"+encodeURIComponent(c)},a).filter(Boolean).join("\x26")}function am(){}function bm(a){return Object.freeze(t(am,a))}am.prototype.Aa=function(){if(this.folder)return Y(this.folder)};function cm(){}e=cm.prototype;e.Dh=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
e.Nh=function(a){this.name=a;return this};e.Mh=function(a){this.brand=a;return this};e.qk=function(a){this.user=a;return this};function dm(a){a.type=Jl;return a}e.Wf=function(a){this.userSettings=a;return this};e.getName=function(){return this.name};e.W=function(){return this.brand};e.oa=function(){return this.user};e.Oa=function(){return this.type};e.Pb=function(){return this.userSettings};function Ml(a){this.starred=a.td};function em(a){this.u=a;this.url="/folders"}em.prototype.De=P.method(function(a){return V(this.u,this.url+"/~",a).get(0).then(bm)});em.prototype.Ne=P.method(function(a){a=this.url+"/~?"+$l(a);return U(this.u,a).get(0).then(Xl)});em.prototype.Aa=P.method(function(a){var b=$l(a);a=""+this.va(a.Aa())+(b?"?"+b:"");return U(this.u,a).get(0).then(Vl)});em.prototype.va=function(a){var b=a.Pd();return b?[this.url,"~/system",b.oa(),b.Oa()].join("/"):[this.url,a.j()].join("/")};
P.method(function(a){var b=this.va(a.Aa())+"?removeItems";return V(this.u,b,a).return()});P.method(function(a){a=this.va(a.Aa())+"?list\x26"+a.Dh();return U(this.u,a).get(0).then(Tl)});P.method(function(a){var b=this.va(a.from)+"?moveItems";return V(this.u,b,a).return()});em.prototype.Hh=P.method(function(a){var b;if(a.Aa().Pd())throw Error("System folders cannot be updated");b=this.url+"/"+a.Aa().j();return V(this.u,b,a).get(0).then(Gl)});function fm(a,b){var c=a.Pb()&&a.Pb().starred,d=b.Pb()&&b.Pb().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function gm(a){this.eb=a.eb;this.Id=a.Id;this.Hd=!1;new Map;this.Nb=a.Nb;this.qa=a.qa;this.Pi=a.Pi}e=gm.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;var hm=new Q("fi",!0);function im(a){var b=new jm({fk:function(a,b){return a.hg(b)}}),c=new jm({fk:function(a,b){return Object.assign({},a,b)}});return new gm({eb:b,Id:c,Nb:a.Nb,Pi:a.G.get(hm),qa:a.qa})}e=gm.prototype;
e.fetch=function(){function a(a){var b;if(b=a instanceof Array)a=a[1],b=500<=a&&600>a;return b}var b=this;this.Hd||(this.Hd=!0,this.trigger("fetch:start"),this.Ne([]).bind(this).then(this.ol).catch(a,this.pl).catch(function(a){b.Xg();throw a;}))};e.Ne=function(a,b){var c=this,d=Zl().Wf().pk(100).qk(this.qa);b&&d.nk(b);return this.Nb.Ne(d).then(function(b){var d=a.concat(b.Nd()||[]);return(b=b.Ia())?c.Ne(d,b):P.resolve(d)})};e.Nd=function(){return Object.freeze(this.eb.getAll().sort(fm))};e.Aa=function(a){return this.eb.get(a)};
e.ol=function(a){var b=this;a.forEach(function(a){return b.eb.update(a.j(),a)});this.Hd=!1;this.trigger("fetch:success",this.Nd())};e.Xg=function(){this.Hd=!1;this.trigger("fetch:fail",!1)};e.pl=function(){this.Hd=!1;this.trigger("fetch:fail",!0)};
e.create=function(a){var b=this;a=dm((new cm).Nh(a));var c=_.uniqueId("CREATE_");this.Nb.De(a).then(this.fl.bind(this,c)).catch(function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error},this.sj.bind(this,c,"quota exceeded")).catch(function(a){b.sj(c,a);throw a;});P.resolve().then(this.trigger.bind(this,"create:start",c));return c};e.fl=function(a,b){b=b.Aa();this.eb.add(b.j(),b);this.trigger("create:success",a,b)};e.sj=function(a,b){this.trigger("create:fail",a,b)};
e.delete=function(a){var b=this;r(this.eb.has(a.j()),"attempting to delete unknown folder");var c=Ql(Pl(new Ol,El(a)));this.Nb.Hh(c).bind(this).then(this.kl).catch(function(c){b.trigger("delete:fail",a);throw c;});this.trigger("delete:start",a)};e.kl=function(a){a=a.Aa();var b=a.j();this.eb.delete(b);this.Id.has(b)&&this.Id.delete(b);this.trigger("delete:success",a)};e.Pk=function(a){var b=a.Aa(),c=b.j();this.Id.update(c,{pm:a.Ri()});return this.eb.update(c,b)};
e.change=function(a,b,c){var d=this;r(this.eb.has(b.j()),"attempting to change unknown folder");var f=Pl(new Ol,El(b));if("name"===a)f.Nh(c);else if("description"===a)f.description=c;else if("acl"===a)f.acl=c;else if("userSettings"===a)f.Wf(c);else{if("metadata"===a)throw Error("not an actionable change");throw Error("unrecognised change type");}this.Nb.Hh(f).bind(this).then(this.Pk).then(this.Yk.bind(this,a,b,c)).catch(function(f){d.trigger("change:fail",a,b,c);throw f;});this.trigger("change:start",
a,b,c)};e.Yk=function(a,b,c,d){if("acl"===a){if(!d.Kd())throw Error("returned folder does not have an ACL field");c=d.Kd()}this.trigger("change:success",a,d,c)};function jm(a){this.map=new Map;this.im=a.fk}e=jm.prototype;e.clear=function(){this.map.clear()};e.has=function(a){return this.map.has(a)};e.set=function(a,b){this.map.set(a,b);return b};e.add=function(a,b){r(!this.has(a),"Can not add {} - item is already being managed",a);return this.set(a,b)};
e.update=function(a,b){return this.has(a)?this.set(a,this.im(this.map.get(a),b)):this.add(a,b)};e.delete=function(a){r(this.has(a),"Can not delete {} - item is not being managed",a);return this.map.delete(a)};e.get=function(a){r(this.has(a),"Can not get {} - item is not being managed",a);return this.map.get(a)};e.getAll=function(){return Array.from(this.map.values())};Object.defineProperties(jm.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.map.size}}});function km(a){soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"newFolder",a.bd,"string|goog.soy.data.SanitizedContent");var b=a.bd;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"getMoreFolders",a.Qc,"string|goog.soy.data.SanitizedContent");var c=a.Qc;soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"folderQuotaHint",a.Nc,"string|goog.soy.data.SanitizedContent");var d=
a.Nc;soy.asserts.assertType(goog.isBoolean(a.ge)||1===a.ge||0===a.ge,"showQuota",a.ge,"boolean");var f=!!a.ge;soy.asserts.assertType(goog.isNumber(a.qg),"currentCount",a.qg,"number");var g=a.qg;soy.asserts.assertType(goog.isNumber(a.Og),"maxCount",a.Og,"number");a=a.Og;var h=f&&g>=a,p='\x3cmenu class\x3d"sidebarMenu"\x3e\x3cli class\x3d"noTab noHover"\x3e\x3cbutton type\x3d"button" class\x3d"buttonSmall buttonCreateFolder buttonCreateFolder--'+soy.$$escapeHtmlAttribute(h?"getMore":"create")+'"\x3e',
m;m=m={N:"buttonCreateFolder__icon"};soy.asserts.assertType(null==m.N||m.N instanceof goog.soy.data.SanitizedContent||goog.isString(m.N),"cssClass",m.N,"null|string|undefined");m=m.N;m=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(m?'class\x3d"'+soy.$$escapeHtmlAttribute(m)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e');
b=""+(p+m+'\x3cspan class\x3d"buttonCreateFolder__title"\x3e'+soy.$$escapeHtml(h?c:b)+"\x3c/span\x3e\x3c/button\x3e"+(f?'\x3cspan class\x3d"designFolderList__quotaLabel sidebar__pill '+(g==a?"sidebar__pill--red":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(g)+"/"+soy.$$escapeHtml(a)+"\x3c/span\x3e":"")+"\x3c/li\x3e\x3c/menu\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function lm(a){soy.asserts.assertType(goog.isString(a.bf)||a.bf instanceof goog.soy.data.SanitizedContent,"loadingText",a.bf,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListLoading"\x3e'+soy.$$escapeHtml(a.bf)+"\x3c/div\x3e")}goog.DEBUG&&(lm.Nj="DesignFolderListTemplates.loading");
function mm(a){soy.asserts.assertType(goog.isString(a.Jc)||a.Jc instanceof goog.soy.data.SanitizedContent,"errorMessageHtml",a.Jc,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListError"\x3e\x3cp\x3e'+soy.$$escapeHtml(a.Jc)+"\x3c/p\x3e\x3c/div\x3e")}goog.DEBUG&&(mm.Nj="DesignFolderListTemplates.error");
function nm(a){soy.asserts.assertType(goog.isString(a.kd)||a.kd instanceof goog.soy.data.SanitizedContent,"retry",a.kd,"string|goog.soy.data.SanitizedContent");var b=a.kd;soy.asserts.assertType(goog.isString(a.Yc)||a.Yc instanceof goog.soy.data.SanitizedContent,"loadFolders",a.Yc,"string|goog.soy.data.SanitizedContent");a=a.Yc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListRetry"\x3e\x3cp\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+Lj({v:"buttonRetry",
text:a})+"\x3c/div\x3e")}goog.DEBUG&&(nm.Nj="DesignFolderListTemplates.retry");
function om(a){soy.asserts.assertType(goog.isString(a.Oe)||a.Oe instanceof goog.soy.data.SanitizedContent,"folderId",a.Oe,"string|goog.soy.data.SanitizedContent");var b=a.Oe;soy.asserts.assertType(goog.isString(a.Pe)||a.Pe instanceof goog.soy.data.SanitizedContent,"folderName",a.Pe,"string|goog.soy.data.SanitizedContent");var c=a.Pe;soy.asserts.assertType(goog.isString(a.link)||a.link instanceof goog.soy.data.SanitizedContent,"link",a.link,"string|goog.soy.data.SanitizedContent");var d=a.link;soy.asserts.assertType(goog.isString(a.mb)||
a.mb instanceof goog.soy.data.SanitizedContent,"defaultName",a.mb,"string|goog.soy.data.SanitizedContent");var f=a.mb;soy.asserts.assertType(goog.isBoolean(a.pd)||1===a.pd||0===a.pd,"shared",a.pd,"boolean");var g=!!a.pd;soy.asserts.assertType(goog.isBoolean(a.td)||1===a.td||0===a.td,"starred",a.td,"boolean");a=!!a.td;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"sidebarMenuLink designFolder__link" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" data-folder-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(g?Nj({N:"designFolder__icon",La:a}):Mj({N:"designFolder__icon",La:a}))+'\x3cspan class\x3d"designFolder__title"\x3e'+soy.$$escapeHtml(c)+'\x3c/span\x3e\x3c/a\x3e\x3cinput type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(f)+'" maxlength\x3d"255" value\x3d"'+soy.$$escapeHtmlAttribute(c)+'" /\x3e')};function pm(a){Backbone.View.call(this,{className:"designFolder",tagName:"li"});this.model=a.Mk;this.Vd=!1;this.H=a.H}n(pm,Backbone.View);pm.prototype.events=function(){var a=this;return{"blur input":function(){a.Vd&&(a.Vd=!1,qm(a))},"focus input":function(){a.Vd=!0},"keydown input":function(b){27===b.which&&a.$("input").blur()},"keypress input":function(b){13===b.which&&qm(a)}}};
pm.prototype.render=function(){var a=this.model.getName()||this.H.mb(),b=this.model.j();this.$el.html(om({Oe:b,Pe:a,mb:this.H.mb(),link:"/folder/"+b,pd:!!this.model.shared,td:!(!this.model.Pb()||!this.model.Pb().starred)}).toString());return this};function rm(a,b){a.Vd=!1;a.$el.toggleClass("naming",b);b&&(a.$("input").select().focus(),a.Vd=!0)}function sm(a,b){a.$el.toggleClass("selected",b)}function qm(a){var b=a.$("input").val().trim()||a.H.mb();a.$("a").text(b);a.trigger("name",a.model,b)};function tm(a){Backbone.View.call(this,_.extend(a,{className:"designFolderList"}))}n(tm,Backbone.View);e=tm.prototype;e.events=function(){var a=this;return{"click .buttonCreateFolder--create":function(){a.trigger("add")},"click .buttonCreateFolder--getMore":function(){a.trigger("clickGetMoreFolders")},"click .buttonRetry":function(){a.trigger("retry")},"click .designFolder .designFolder__link":this.al,"click .designFolderList__quotaLabel":function(){return a.trigger("clickQuota")}}};
e.initialize=function(a){this.lg=a.lg;this.Na={};this.H=a.H;this.Zc=null!==a.Zc?a.Zc:-1};e.render=function(){Object.keys(this.Na).forEach(function(a){var b=this.Na[a];this.stopListening(b);b.remove();delete this.Na[a]},this);this.$el.html(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"sidebarMenu"\x3e\x3c/menu\x3e\x3cmenu class\x3d"designFolderListMenu sidebarMenu"\x3e\x3c/menu\x3e').toString());um(this);return this};
function um(a){var b=Object.keys(a.Na).length;a.$("menu:first-child").replaceWith(km({bd:a.H.bd(),Qc:a.H.Qc(),Nc:a.H.Nc(a.Zc),ge:-1!==a.Zc,qg:b,Og:a.Zc}).toString())}e.Hh=function(a,b){var c=vm(this,a);delete this.Na[a.j()];this.Na[b.j()]=c;c.model=b;c.render()};
function wm(a,b,c){var d=a.lg(b),f=a.$(".designFolderListMenu"),g=d.render().$el;c?g.prependTo(f):g.appendTo(f);a.Na[b.j()]=d;a.listenTo(d,{create:function(b,c){return a.trigger("create",b,c)},name:function(b,c){return a.trigger("name",b,c)}});um(a)}function xm(a){Object.keys(a.Na).forEach(function(b){return ym(a,Y({id:b}))})}function ym(a,b){var c=vm(a,b);a.stopListening(c);c.remove();delete a.Na[b.j()];um(a)}
function zm(a,b){Am(a,{yh:lm,zh:{bf:a.H.format("designFolderListLoadingFolders")},Rg:"designFolderListLoading",Cg:"loading",visible:b})}function Bm(a,b){Am(a,{yh:mm,zh:{Jc:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.H.Jc())},Rg:"designFolderListError",Cg:"error",visible:b})}function Cm(a,b){Am(a,{yh:nm,zh:{kd:a.H.kd(),Yc:a.H.Yc()},Rg:"designFolderListRetry",Cg:"retry",visible:b})}e.select=function(a){a=vm(this,a);if(Dm(this)!==a){var b=Dm(this);b&&sm(b,!1);sm(a,!0)}};
function vm(a,b){if(a=a.Na[b.j()])return a;throw Error("no view for folder: "+b.j());}function Dm(a){var b;_.values(a.Na).some(function(a){if(a.$el.hasClass("selected"))return b=a,!0});return b||null}function Em(a){return(a=Dm(a))&&a.model}function Am(a,b){var c=a.$("."+b.Rg);a.$el.toggleClass(b.Cg,b.visible);b.visible&&0===c.length?(b=b.yh(b.zh).toString(),a.$el.append(b)):b.visible||c.remove()}
e.al=function(a){a=$(a.currentTarget).attr("data-folder-id");a=this.Na[a];if(Dm(this)!==a){var b=Dm(this);b&&sm(b,!1);sm(a,!0)}};function Fm(a){var b=this;this.og=a.og;this.gc=a.gc;this.listenTo(this.gc,{"fetch:start":this.ql,"fetch:success":this.rl,"fetch:fail":this.Xg,"create:start":this.hl,"create:success":this.il,"create:fail":this.gl,"delete:start":this.ll,"delete:success":this.ml,"change:success":this.$k});this.me={};this.H=a.H;this.l=a.l;this.view=a.view;this.listenTo(this.view,{add:this.wk,clickGetMoreFolders:this.zk,clickQuota:this.Bk,name:function(a,d){return b.De(a,d)},retry:this.gc.fetch})}e=Fm.prototype;
e.ql=function(){Bm(this.view,!1);Cm(this.view,!1);zm(this.view,!0)};e.rl=function(a){var b=this;zm(this.view,!1);var c=Dm(this.view);xm(this.view);a.forEach(function(a){return wm(b.view,a)});c&&this.view.select(c.model)};e.Xg=function(a){zm(this.view,!1);a?Cm(this.view,!0):Bm(this.view,!0)};e.Bk=function(){ic(this.l,"quota_label","homepage","design_folder","design_folder_list");Gm(this)};
function Gm(a){var b=a.og();a.listenTo(b,{signup:function(){return window.location=b.be},hide:function(){return a.stopListening(b)}});b.show(5)}e.wk=function(){var a=Y({id:_.uniqueId("fake_"),name:this.H.mb()});ic(this.l,"create_folder","homepage","design_folder","design_folder_list");wm(this.view,a,!0);rm(vm(this.view,a),!0)};e.zk=function(){jc(this.l,Uj("sidebar","get_more_folders"));Gm(this)};e.De=function(a,b){b=this.gc.create(b);this.me[b]=a};
e.hl=function(a){if(a=this.me[a])rm(vm(this.view,a),!1),vm(this.view,a).$el.toggleClass("disabled",!0)};e.il=function(a){var b=this;delete this.me[a];xm(this.view);this.gc.Nd().forEach(function(a){return wm(b.view,a)})};e.gl=function(a,b){var c=this.me[a];c&&(delete this.me[a],a="quota exceeded"===b?this.H.format("designFolderListCreateFolderQuotaExceededError"):this.H.format("designFolderListCreateFolderError"),window.alert(a),ym(this.view,c))};
e.ll=function(a){vm(this.view,a).$el.toggleClass("hidden",!0)};e.ml=function(a){ym(this.view,a)};e.$k=function(a,b){var c=this;"name"===a||"userSettings"===a?(b=Em(this.view),xm(this.view),this.gc.Nd().forEach(function(a){return wm(c.view,a)}),b&&this.view.select(b)):"acl"===a&&(a=vm(this.view,b),a.model=b,a.render())};e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;function Hm(a){Backbone.View.call(this,_.extend(a,{className:"tabPointer"}));this.si=-1}n(Hm,Backbone.View);Hm.prototype.initialize=function(a){this.wh=a.wh;this.pe=!!a.pe;this.style=a.style||"arrow";this.$el.addClass(this.style).toggleClass("tabPointerVertical",this.pe)};function Im(a,b,c){c=void 0===c?!1:c;a=a.wh.children("li");c||(a=a.not(".noTab"));return a.eq(b)}
Hm.prototype.update=function(a,b,c){c=void 0===c?!1:c;(b=0<=this.si&&(void 0===b?!0:b))||this.$el.addClass("doNotTransition");if("arrow"===this.style){c=Im(this,a,c);var d=c.offsetParent().offset(),f=c.position(),g=c.width(),h=c.height(),p=this.$el.offsetParent().offset(),m=d.top-p.top,d=d.left-p.left;c.length&&(this.pe?this.$el.css("transform","translateY("+Math.round(f.top+m+(h-20)/2)+"px)"):this.$el.css("transform","translateX("+Math.round(f.left+d+(g-20)/2)+"px)"))}else if("rectangle"===this.style)c=
Im(this,a,c),f=c.children("a"),g=parseInt(f.css("marginLeft"),10)?0:10,c.length&&(this.pe?(h=Math.round(f.position().top),this.$el.css("transform","translate3d( -"+g+"px, "+h+"px, 0px)"),this.$el.css("height",f.height())):(h=Math.round(f.position().left-g),this.$el.css("transform","translateX("+h+"px)"),this.$el.css("height",f.height()-20)),this.$el.css("width",c.width()+g));else throw Error("unrecognised TabPointerStyle");b||(b=this.$el,0<b.length&&(b=window.getComputedStyle(b.get(0)))&&b.getPropertyValue("left"),
this.$el.removeClass("doNotTransition"));this.si=a};function Jm(){}Jm=Backbone.View.extend({className:"sidebarViewportContainer"});Jm.prototype.initialize=function(a){this.Xb=new pl(this.$(".sidebarViewport"),!0);this.listenTo(this.Xb,{"change:scrollability":this.Zk,scroll:this.Cl});this.Nf=a.Nf||null;this.Eg=a.Eg;this.Xb.render()};Jm.prototype.remove=function(){this.Xb.remove();Backbone.View.prototype.remove.call(this)};Jm.prototype.Zk=function(a,b){this.$el.toggleClass("sidebarScrollable",b);Km(this)};
Jm.prototype.Cl=function(){var a=this.$(".sidebarViewport").find("li.on,li.selected:not(.hidden)"),b=this.Eg();if(0<a.length){var c=$(document.body).scrollTop()||$(document).scrollTop(),d=this.$(".sidebarViewport"),f=d.offset().top,c=d.scrollTop()-c,g=d.height(),h=a.offset().top-d.offset().top,d=a.height();if(a.hasClass("sidebarItemSticky")){if(h=parseInt(a.data("nonStickyItemOffsetTop"),10),h=isNaN(h)?a.get(0).offsetTop:h,a.hasClass("sidebarItemStickyTop")?c+f<h:a.hasClass("sidebarItemStickyBottom")&&
c+f+g>=h+d)this.$el.removeClass("sidebarItemListSticky sidebarItemListStickyTop sidebarItemListStickyBottom"),this.$(".sidebarMenuStickyTop").removeClass("sidebarMenuStickyTop"),this.$(".sidebarMenuStickyBottom").removeClass("sidebarMenuStickyBottom"),a.removeData("nonStickyItemOffsetTop").removeClass("sidebarItemSticky sidebarItemStickyTop sidebarItemStickyBottom").css("top","").css("bottom","")}else 0>=h?(c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",a.offset().top+
this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyTop").css("top",f-c),a.parent("menu").removeClass("sidebarMenuStickyBottom").addClass("sidebarMenuStickyTop"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyTop")):h+d>g&&(f=$(window).height()-(f+g),c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",a.offset().top+this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyBottom").css("bottom",
f+c),a.parent("menu").removeClass("sidebarMenuStickyTop").addClass("sidebarMenuStickyBottom"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyBottom"));this.Nf&&this.Nf.update(b,!1)}Km(this)};function Km(a){var b=a.$(".sidebarViewport"),c=parseInt(b.scrollTop(),10),d=b.height();a.$el.toggleClass("sidebarScrollableTop",0<c).toggleClass("sidebarScrollableBottom",c+d<b.prop("scrollHeight"))}var Lm=Jm;function Mm(a){this.$el=a}Mm.prototype.remove=function(){this.$el.remove()};function Z(a){this.$el=a;this.Xc={}}Z.prototype.remove=function(){this.$el.off();this.$el.remove()};Z.prototype.on=function(a,b){r(!this.Xc[a],"listener already registered for event {}",a);this.Xc[a]=b};Z.prototype.off=function(a,b){null==a?this.Xc={}:null!=b&&this.Xc[a]!=b||delete this.Xc[a]};Z.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Xc[a])&&d.apply(null,[].concat(la(c)))};function Nm(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var f=a.v;soy.asserts.assertType(null==a.Ed||goog.isBoolean(a.Ed)||1===a.Ed||0===a.Ed,"dark",a.Ed,"boolean|null|undefined");var g=a.Ed;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function Om(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.te||goog.isBoolean(a.te)||1===a.te||0===a.te,"withShadow",
a.te,"boolean|null|undefined");var f=a.te;soy.asserts.assertType(null==a.se||goog.isBoolean(a.se)||1===a.se||0===a.se,"withRoundedCorners",a.se,"boolean|null|undefined");var g=a.se;soy.asserts.assertType(null==a.re||goog.isBoolean(a.re)||1===a.re||0===a.re,"withCloseButton",a.re,"boolean|null|undefined");var h=a.re;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var p=a.v;soy.asserts.assertType(null==a.Ce||
a.Ce instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ce),"contentClasses",a.Ce,"null|string|undefined");a=a.Ce;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Nm({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(p?" "+p:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=f)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Pm(a){return new P(function(b){function c(f){f.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Qm(a){this.$el=a}n(Qm,Mm);function Rm(a){r(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new Qm(a)}Qm.prototype.show=function(){Sm(this,!0);this.$el.hasClass("mask2--blur")&&Tm(this,!0)};Qm.prototype.hide=function(){Sm(this,!1);this.$el.hasClass("mask2--blur")&&Tm(this,!1);return Pm(this.$el[0])};function Sm(a,b){a.$el.toggleClass("mask2--visible",b);$("body").toggleClass("mask2Visible",b)}
function Tm(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function Um(a,b){var c=this;Z.call(this,a);this.Oh=b;this.tj=this.nl.bind(this);this.$el.on("click",function(a){return c.Vg(a)});this.Oh.on("keyup",this.tj)}n(Um,Z);e=Um.prototype;e.remove=function(){Z.prototype.remove.call(this);this.Oh.off("keyup",this.tj)};e.show=function(){var a=this;Gg(function(){return Rm(a.$el).show()})};e.hide=function(){return Rm(this.$el).hide()};e.Vg=function(a){!$(a.target).closest(".dialog2__content").length&&Vm(this)&&this.trigger(Wm)};
e.nl=function(a){27===a.keyCode&&Vm(this)&&this.trigger(Wm)};function Vm(a){return!!a.$el.find(".dialog2__closeButton").length}var Wm="CLOSE";function Xm(a){var b=this;this.view=a;this.view.on(Wm,function(){b.close()})}Xm.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function Ym(a){a=goog.asserts.assertArray(a.ba,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"canva2OptInDialog__benefitList"\x3e',c=a.length,d=0;d<c;d++)b+='\x3cli class\x3d"canva2OptInDialogBenefit"\x3e\x3cspan class\x3d"canva2OptInDialogBenefit__icon"\x3e\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M4.53 11.9L9 16.38 19.44 5.97a.75.75 0 0 1 1.06 1.06L9.53 17.97c-.3.29-.77.29-1.06 0l-5-5c-.7-.71.35-1.77 1.06-1.07z"/\x3e\x3c/svg\x3e\x3c/span\x3e\x3cspan class\x3d"canva2OptInDialogBenefit__text"\x3e'+
soy.$$escapeHtml(a[d])+"\x3c/span\x3e\x3c/li\x3e";b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function Zm(a,b){var c=this;Z.call(this,a);this.hc=b;a.on("click",".canva2OptInOptOutDialog__confirmButton",function(){c.trigger($m)});a.on("click",".canva2OptInOptOutDialog__dismissLink",function(){c.trigger(an)})}n(Zm,Z);Zm.prototype.le=function(a){this.$el.find(".canva2OptInOptOutDialog__confirmButton").toggleClass("submitting",a)};var $m="CONFIRM_CLICKED",an="DISMISS_CLICKED";function bn(a){this.u=a;this.url="/session"}function cn(a){return V(a.u,a.url+"/user?invalidateCache",null)};function dn(a,b,c){var d=this;this.view=b;this.O=c.O;this.qa=a.qa;this.yf=a.yf;this.ca=a.ca;this.Yb=a.Yb;this.l=a.l;this.view.on($m,function(){return d.Wg()});this.view.on(an,function(){return d.hf()});this.view.hc.off(Wm);this.view.hc.on(Wm,function(){return d.hf()})}dn.prototype.show=function(){this.l.track("canva2_option_dialog_shown",{option_type:"opt_in"});this.view.hc.show()};dn.prototype.close=function(){this.O.close()};
dn.prototype.Wg=function(){var a=this;this.view.le(!0);var b=Lb(Kb(this.qa),"H2");Oh(this.ca,b).then(function(){return cn(a.Yb)}).then(function(){return window.location.href="/"}).catch(function(){return a.view.le(!1)})};dn.prototype.hf=function(){var a=this;if(!this.yf.Zi()){var b=Lb(Kb(this.qa),"H1");Oh(this.ca,b).then(function(){return cn(a.Yb)}).then(function(){a.yf.Mj("H1")})}this.close()};function en(a){this.value=a}en.prototype.Zi=function(){return this.value};
en.prototype.Mj=function(a){this.value=a};function fn(a,b){var c=this;Z.call(this,a);this.hc=b;a.on("click",".canva2OptInOptOutDialog__confirmButton",function(){c.trigger(gn)});a.on("click",".canva2OptInOptOutDialog__dismissLink",function(){c.trigger(hn)})}n(fn,Z);function jn(a){return a.$el.find(".canva2OptOutDialog__form__input").val().toString()}fn.prototype.le=function(a){this.$el.find(".canva2OptInOptOutDialog__confirmButton").toggleClass("submitting",a)};var gn="CONFIRM_CLICKED",hn="DISMISS_CLICKED";function kn(a){this.id=a.id;this.data=a.data||new Map}kn.prototype.j=function(){return this.id};kn.prototype.getData=function(){return this.data};function ln(a){return{id:L("id",a.id),data:Na(Oa,Ra,"data",a.data)}}function mn(){}function nn(){return new mn};function on(a){this.u=a;this.url="/support"}function pn(a,b){return V(a.u,a.url+"/form?id\x3d"+encodeURIComponent(b.id),ln(b).data).get(0).then(za).then(nn)};function qn(a,b,c){var d=this;this.view=b;this.O=c.O;this.oe=a.oe;this.ca=a.ca;this.Yb=a.Yb;this.vh=a.vh;this.ih=a.ih;this.l=a.l;this.dj=!1;this.view.on(gn,function(){return d.Wg()});this.view.on(hn,function(){return d.hf()})}qn.prototype.show=function(){this.l.track("canva2_option_dialog_shown",{option_type:"opt_out"});this.view.hc.show()};qn.prototype.close=function(){this.O.close()};
qn.prototype.Wg=function(){var a=this;if(!this.dj)if(this.dj=!0,this.view.le(!0),""!==jn(this.view).trim()){var b=(new UAParser).getUA(),b=new kn({id:"canva2_feedback",data:new Map([["canva2.feedback",jn(this.view)],["canva2.user_agent",b],["canva2.locale",this.oe.Pc()],["canva2.country",this.oe.Dg()||""]])});pn(this.vh,b).catch(function(b){a.ih.log("Canva 2.0 Opt-out: failed to submit feedback",{error:b})}).finally(function(){rn(a)})}else rn(this)};
function rn(a){var b=Lb(Kb(a.oe.j()),"H1");Oh(a.ca,b).then(function(){return cn(a.Yb)}).then(function(){return window.location.href="/"}).catch(function(){return a.view.le(!1)})}qn.prototype.hf=function(){this.close()};$(function(){function a(){var a=rk({user:ka,g:pb,size:40,pb:!1,lb:!0,zb:!0}),b=$("#wholePage \x3e .sidebar");a.$el.appendTo(b.find(".currentUser \x3e .avatars"));a=b[0];b=ea;b.kc||(b.kc=new Mc(b.config));return new Gk({el:a,J:Fg,kc:b.kc})}function b(){var a=new nc(mc()),b=$(".currentUser .displayNames, .avatars"),c=$(".userDisplayName",b),d=new Ph({Ig:m,ca:u,Ji:a.G.get(pc)}),g=ea;g.C||(g.C=new Tc(g.config));return new Dk({l:p,cb:a,C:g.C,profiles:u,Vj:d,Zf:pb,user:ka,sh:c,fc:b,je:"displayNamesActivated",
$f:null==Ka.getSubscription()&&a.G.get(vc),Kb:f,Ta:a.Ta()})}function c(){var a=$("#showNotificationMenu"),b=a.find(".notificationsLabel");return new Fh({vk:a,l:p,mg:d,wf:b,ff:aa})}function d(){var a=ka.j(),b=ea;b.Ug||(b.Ug=new Uc(b.config));return new lh({rg:a,ma:b.Ug,position:["leftTop","top"]})}function f(){var a,b=sn;a=Map;var c=[0,[hi(b.zf.paidMonthly),hi(b.zf.paidYearly)]],b=[hi(b.zf.paidMonthlyImagesPro),hi(b.zf.paidYearlyImagesPro)];a=new a([c,[1,b]]);a={G:v,Im:ba,l:p,g:pb,fd:a,mc:0,am:tn,
bc:un,ca:u,Ga:!0,yc:!1,he:!1,ib:vn,Dd:wn,o:ea,cb:G};var c={ac:a.bc,g:a.g.j(),Ea:a.am,Fc:!0,D:Dc(a.o),l:a.l},b=new Ni({xe:!1!==c.xe,D:c.D,G:c.G,l:c.l}),d=new lj({ac:c.ac,g:c.g,aa:c.aa,Fc:c.Fc,Ea:c.Ea,G:c.G,D:c.D,view:b}),f=a.fd,c=f.has(a.mc)&&f.get(a.mc).length?f.get(a.mc)[0].xa:30,g=a.l,h=a.bc,m=a.ca,xn=a.g,aa=a.Dd,ka=a.he,Ka=a.o,ni=a.o,f=f.get(a.mc),f=sj(f.sort(Fj),Bc(ni)),f=new vj({Vb:f}),b=new Dj({compact:!0,He:b,hd:f,o:ni,xa:c}),b=new Ej({l:g,bc:h,ca:m,g:xn,Lb:d,Dd:aa,he:ka,o:Ka,view:b});return new bk({be:"/brand/onboarding/upgrader",
l:a.l,yc:a.yc,Ga:a.Ga,Bd:Bc(a.o),ta:Jc(a.o),Da:a.Da,xa:c,ea:b,ib:a.ib,fd:a.fd,mc:a.mc})}function g(){$("#sidebarFacebookSignupButton").click(function(){ic(p,"signup","logged_out_homepage","sidebar","user_profile",{auth_mode:"facebook"})});$("#sidebarEmailSignupButton").click(function(){ic(p,"signup","logged_out_homepage","sidebar","user_profile",{auth_mode:"email"})})}function h(){var a=new em(m),b=Hc(ea),a=im({Nb:a,qa:ka.j(),G:v}),c=new tm({lg:function(a){return new pm({Mk:a,H:b})},H:b,Zc:G.G.get(sc)});
(new Fm({l:p,og:f,H:b,gc:a,view:c})).view.render().$el.replaceAll($(".designFolderListPlaceholder")).addClass("sidebarSection");a.fetch();a=$("#primaryNavigation");c=new Hm({wh:a,pe:!0});c.$el.toggleClass("tabPointerHidden",!0);c.$el.appendTo(".sidebarInner");var d=$("#primaryNavigation .on"),g;d.length&&(g=a.children().index(d),c.update(g,!0,!0),c.$el.toggleClass("tabPointerHidden",!1));new Lm({el:$("#wholePage").children(".sidebar").find(".sidebarViewportContainer"),Eg:function(){return g||-1},
Nf:c})}$("body").toggleClass("highDpi",Yg.tk);$(".mobileHeaderHamburger").on("click",function(){$("body").toggleClass("mobileMenuOn")});var p=Vk(),m=new nh(window.httpServiceConfig),u=new Mh(m),v=mc(),G=new nc(v),aa=new Ch(m),ba=Yj(),ka=ba.user.Eh(),Ka=ba.brandInfo,pb=Ka.W(),ea;if(!window.cmsg)throw Error("window['cmsg'] isn't defined");ea=new yc;var sn=new qj,tn=gj(),un=new fj(m),yn=!(!window.homeConfig||!window.homeConfig.showUpgradeDialog),zn=!(!window.homeConfig||!window.homeConfig.userCreated),
vn=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),wn=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),Te,oi=new bn(m),An=new on(m),pi="undefined"!==typeof Rollbar?new Wk:new Xk,Bn=new Q("qm",!1),qi=ba.user.Wi();(function(){$("menu .dropdown").on("mouseover",function(){var a=$(this),b=Number(a.data("timer"));null!=b&&clearTimeout(b);b=setTimeout(function(){a.parent().find("li.hover").not(a).removeClass("hover").addClass("hoverOff");a.removeClass("hoverOff").addClass("hover")},
0);a.data("timer",b);a.on("mouseout",function(){var b=Number(a.data("timer"));null!=b&&clearTimeout(b);b=setTimeout(function(){a.off("mouseout").removeClass("hover").addClass("hoverOff")},500);a.data("timer",b)})})})();ka.cj()?g():(Te=new Hk({l:p,cb:G,Wd:c(),Tf:b(),view:a(),Kb:f,Jf:yn,Lh:zn,ca:u,za:Ka}),Te.start());ra(null==window.layoutOnUserUpdated);window.layoutOnUserUpdated=function(a){a=Gb(a);Te.Gf(a)};G.G.get(qc)&&new wl({xg:new Zk(m,Yk(G.vg()),pi),Tg:1,openWindow:window.open.bind(window),o:ea,
na:new dl({Ca:Fc(ea).format("designSearchSidebarPlaceholderText"),el:$(".sidebarSearch"),tf:$(".sidebarSearch").parent()}),ng:vl.create,l:p});$(".designFolderListPlaceholder").length&&!Bl()&&h();if(v.get(Bn))if("H2"===qi)$(".sidebarMenuLink.useCanva1Dialog").on("click",function(){var a=ba,b=u,c=p,d=ea;d.gg||(d.gg=new Yc(d.config));var a={o:d.gg,oe:a.user,ca:b,Yb:oi,vh:An,ih:pi,l:c},c=a.o.title(),d=a.o.Hb(),f=a.o.yk(),g=a.o.Kk(),h=a.o.Jb(),m=a.o.Mb(),b=$,v;v=v||{};soy.asserts.assertType(goog.isString(c)||
c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("https://static.canva.com/static/images/pages/home/canva_2_opt_out_dialog_background.png")||!1,"backgroundUrl","https://static.canva.com/static/images/pages/home/canva_2_opt_out_dialog_background.png","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"body1",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(f)||
f instanceof goog.soy.data.SanitizedContent,"body2",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"feedbackInputPlaceholder",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"confirmButtonLabel",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"dismissLinkLabel",
m,"string|goog.soy.data.SanitizedContent");v=soydata.VERY_UNSAFE.ordainSanitizedHtml(Om({v:"canva2OptOutDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"canva2OptInOptOutDialog__body"\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__header" style\x3d"'+(v.pg?"/*"+v.pg+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri("https://static.canva.com/static/images/pages/home/canva_2_opt_out_dialog_background.png"))+');"\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__heading"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__content"\x3e\x3cp class\x3d"canva2OptInOptOutDialog__body1"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+yi({v:"canva2OptOutDialog__form__input",placeholder:g,tagName:"textarea"})+'\x3cp class\x3d"canva2OptInOptOutDialog__body2"\x3e'+soy.$$escapeHtml(f)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__footer"\x3e'+Lj({v:"canva2OptInOptOutDialog__confirmButton buttonSubmittable",text:h})+'\x3ca class\x3d"canva2OptInOptOutDialog__dismissLink" href\x3d"javascript:void(0);"\x3e'+
soy.$$escapeHtml(m)+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e")}));v=b(v.toString());b=new Um(v,$(document));v=new fn(v,b);b=new Xm(v.hc);a=new qn(a,v,{O:b});$("body").append(v.$el);a.show()});else{var Cn=new en(qi);$(".sidebarMenuLink.useCanva2Dialog").on("click",function(){var a=ba,b=u,c=p,d=ea;d.fg||(d.fg=new Xc(d.config));var a={o:d.fg,qa:a.user.j(),yf:Cn,ca:b,Yb:oi,l:c},c={title:a.o.title(),vc:a.o.vc(),ye:"https://static.canva.com/static/images/pages/home/canva_2_opt_in_dialog_background.png",la:"https://static.canva.com/static/images/pages/home/canva_2_opt_in_dialog_computers.png",
Hb:a.o.Hb(),ba:[a.o.format("canva2OptInDialogBenefit1"),a.o.format("canva2OptInDialogBenefit2"),a.o.format("canva2OptInDialogBenefit3"),a.o.format("canva2OptInDialogBenefit4"),a.o.format("canva2OptInDialogBenefit5")],cc:a.o.cc(),Jb:a.o.Jb(),Mb:a.o.Mb()},b=$,f;f=f||{};soy.asserts.assertType(goog.isString(c.title)||c.title instanceof goog.soy.data.SanitizedContent,"title",c.title,"string|goog.soy.data.SanitizedContent");d=c.title;soy.asserts.assertType(goog.isString(c.vc)||c.vc instanceof goog.soy.data.SanitizedContent,
"betaLabel",c.vc,"string|goog.soy.data.SanitizedContent");var g=c.vc;soy.asserts.assertType(goog.isString(c.ye)||c.ye instanceof goog.soy.data.SanitizedContent,"backgroundUrl",c.ye,"string|goog.soy.data.SanitizedContent");var h=c.ye;soy.asserts.assertType(goog.isString(c.la)||c.la instanceof goog.soy.data.SanitizedContent,"imageUrl",c.la,"string|goog.soy.data.SanitizedContent");var m=c.la;soy.asserts.assertType(null==c.rb||c.rb instanceof goog.soy.data.SanitizedContent||goog.isString(c.rb),"imageAlt",
c.rb,"null|string|undefined");var v=c.rb;soy.asserts.assertType(goog.isString(c.Hb)||c.Hb instanceof goog.soy.data.SanitizedContent,"body1",c.Hb,"string|goog.soy.data.SanitizedContent");var G=c.Hb;soy.asserts.assertType(null==c.ba||goog.isArray(c.ba),"benefitList",c.ba,"?Array\x3cstring\x3e|undefined");var aa=c.ba;soy.asserts.assertType(c.cc instanceof soydata.SanitizedHtml||c.cc instanceof soydata.UnsanitizedText||goog.isString(c.cc),"body2Html",c.cc,"soydata.SanitizedHtml");var ka=c.cc;soy.asserts.assertType(goog.isString(c.Jb)||
c.Jb instanceof goog.soy.data.SanitizedContent,"confirmButtonLabel",c.Jb,"string|goog.soy.data.SanitizedContent");var Ka=c.Jb;soy.asserts.assertType(goog.isString(c.Mb)||c.Mb instanceof goog.soy.data.SanitizedContent,"dismissLinkLabel",c.Mb,"string|goog.soy.data.SanitizedContent");var pb=c.Mb;f=soydata.VERY_UNSAFE.ordainSanitizedHtml(Om({v:"canva2OptInOptOutDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"canva2OptInOptOutDialog__body"\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__header" style\x3d"'+
(f.pg?"/*"+f.pg+"*/":"")+"background-image: linear-gradient(to right, rgba(0, 196, 204, 0.75), rgba(125, 42, 232, 0.75)), url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+');"\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__heading"\x3e\x3cspan class\x3d"sidebar__pill canva2OptInDialog__betaPill"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(d)+'\x3c/h2\x3e\x3c/div\x3e\x3cimg class\x3d"canva2OptInOptOutDialog__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(m))+
" "+(v?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(v):"")+' /\x3e\x3c/div\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__content"\x3e\x3cp class\x3d"canva2OptInOptOutDialog__body1"\x3e'+soy.$$escapeHtml(G)+"\x3c/p\x3e"+(aa?Ym(c):"")+'\x3cp class\x3d"canva2OptInOptOutDialog__body2"\x3e'+soy.$$escapeHtml(ka)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"canva2OptInOptOutDialog__footer"\x3e'+Lj({v:"canva2OptInOptOutDialog__confirmButton buttonSubmittable",text:Ka})+'\x3ca class\x3d"canva2OptInOptOutDialog__dismissLink" href\x3d"javascript:void(0);"\x3e'+
soy.$$escapeHtml(pb)+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e")}));f=b(f.toString());b=new Um(f,$(document));f=new Zm(f,b);b=new Xm(f.hc);a=new dn(a,f,{O:b});$("body").append(f.$el);a.show()})}});})();
